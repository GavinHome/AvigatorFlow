(function(e){function t(t){for(var n,i,l=t[0],s=t[1],c=t[2],u=0,d=[];u<l.length;u++)i=l[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);p&&p(t);while(d.length)d.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,i=1;i<a.length;i++){var l=a[i];0!==r[l]&&(n=!1)}n&&(o.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},i={app:0},r={app:0},o=[];function l(e){return s.p+"js/"+({about:"about",designer_v1:"designer_v1",flow:"flow"}[e]||e)+"."+{about:"2ba40833",designer_v1:"acc11119",flow:"d45abd72"}[e]+".js"}function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.e=function(e){var t=[],a={designer_v1:1};i[e]?t.push(i[e]):0!==i[e]&&a[e]&&t.push(i[e]=new Promise((function(t,a){for(var n="css/"+({about:"about",designer_v1:"designer_v1",flow:"flow"}[e]||e)+"."+{about:"31d6cfe0",designer_v1:"3f8b6d2a",flow:"31d6cfe0"}[e]+".css",r=s.p+n,o=document.getElementsByTagName("link"),l=0;l<o.length;l++){var c=o[l],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===n||u===r))return t()}var d=document.getElementsByTagName("style");for(l=0;l<d.length;l++){c=d[l],u=c.getAttribute("data-href");if(u===n||u===r)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var n=t&&t.target&&t.target.src||r,o=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=n,delete i[e],p.parentNode.removeChild(p),a(o)},p.href=r;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){i[e]=0})));var n=r[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,a){n=r[e]=[t,a]}));t.push(n[2]=o);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=l(e);var d=new Error;c=function(t){u.onerror=u.onload=null,clearTimeout(p);var a=r[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+n+": "+i+")",d.name="ChunkLoadError",d.type=n,d.request=i,a[1](d)}r[e]=void 0}};var p=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(t)},s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/AvigatorFlow/",s.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var p=u;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"006b":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"avigator-app-view",style:e.viewStyle},[a("Setting",{attrs:{app:e.app}})],1)},i=[],r=a("d4ec"),o=a("262e"),l=a("2caf"),s=a("9ab4"),c=a("1b40"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-form-model",{ref:e.formRef,attrs:{labelAlign:"right",rules:e.rules,model:e.app,"label-col":{span:2},"wrapper-col":{span:10}}},[a("a-card",{attrs:{type:"inner",bordered:"",hoverable:""},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" 基本属性 ")]},proxy:!0}])},[a("a-form-model-item",{attrs:{"has-feedback":"",label:"名称",prop:"title"}},[a("a-input",{attrs:{type:"input",autocomplete:"off",maxLength:e.INPUT_MAX_LENGTH_15,disabled:e.readonly},model:{value:e.app.title,callback:function(t){e.$set(e.app,"title",t)},expression:"app.title"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"描述",prop:"description"}},[a("a-textarea",{attrs:{type:"input",autocomplete:"off",maxLength:e.INPUT_MAX_LENGTH_50,disabled:e.readonly},model:{value:e.app.description,callback:function(t){e.$set(e.app,"description",t)},expression:"app.description"}})],1)],1)],1),a("div",{staticClass:"publish"},[a("a-button",{attrs:{type:"primary","html-type":"submit",size:"large"}},[e._v(" 发布 ")])],1)],1)},d=[],p=function(e){Object(o["a"])(a,e);var t=Object(l["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.formRef="form",e.INPUT_MAX_LENGTH_15=15,e.INPUT_MAX_LENGTH_50=50,e.rules=e.readonly?{}:{title:[{required:!0,message:"请输入标题"}]},e}return a}(c["h"]);Object(s["a"])([Object(c["f"])()],p.prototype,"app",void 0),Object(s["a"])([Object(c["f"])()],p.prototype,"readonly",void 0),p=Object(s["a"])([Object(c["a"])({components:{}})],p);var f=p,_=f,b=(a("2975"),a("2877")),m=Object(b["a"])(_,u,d,!1,null,"4f4c0cc8",null),h=m.exports,v=function(e){Object(o["a"])(a,e);var t=Object(l["a"])(a);function a(){return Object(r["a"])(this,a),t.apply(this,arguments)}return a}(c["h"]);Object(s["a"])([Object(c["f"])()],v.prototype,"app",void 0),Object(s["a"])([Object(c["f"])()],v.prototype,"viewStyle",void 0),v=Object(s["a"])([Object(c["a"])({components:{Setting:h}})],v);var g=v,y=g,O=(a("8897"),Object(b["a"])(y,n,i,!1,null,"0adf26d0",null));t["a"]=O.exports},"0135":function(e,t,a){},"0450":function(e,t,a){"use strict";a("5b95")},"0650":function(e,t,a){"use strict";a("66c7")},"06cb":function(e,t,a){"use strict";a("da64")},"0a04":function(e,t,a){},"0aa4":function(e,t,a){},"0ff5":function(e){e.exports=JSON.parse('{"nodes":[{"id":"7cf75287-e220-4511-9b4b-c5820e279f23","type":"start","x":300,"y":380,"properties":{"key":"start","name":"开始","enName":"Initiator","executor":{"type":"Initiator","params":[]},"description":"","branch":"One","rule":"One","actions":["Save","Submit"]},"text":{"x":300,"y":380,"value":"开始"}},{"id":"97676a5f-38a0-44d6-89ea-b676f6407fef","type":"approval","x":500,"y":380,"properties":{"key":"approval1","name":"任务1","enName":"Approver","executor":{"type":"Designator","params":[{"type":"Designator","value":{"value":"user001","text":"用户1"}}]},"description":"","branch":"One","rule":"One","actions":["Pass","Reject","Assist"]},"text":{"x":500,"y":440,"value":"任务1"}},{"id":"77941a96-6ef4-48c1-9889-96dcb6ef79d6","type":"approval","x":700,"y":180,"properties":{"key":"approval2","name":"任务2","enName":"Approver","executor":{"type":"Role","params":[{"type":"RoleId","value":{"value":"ProjectManager","text":"项目经理"}},{"type":"VariableId","value":{"value":"fields6","text":"变量1"}}]},"description":"","branch":"One","rule":"One","actions":["Pass","Reject","Assist"]},"text":{"x":700,"y":240,"value":"任务2"}},{"id":"f6acff23-254d-4fa0-bc5a-c60ea7773a88","type":"approval","x":700,"y":580,"properties":{"key":"approval3","name":"任务3","enName":"Approver","executor":{"type":"Variable","params":[{"type":"VariableId","value":{"value":"bcd","text":"变量2"}}]},"description":"","branch":"One","rule":"One","actions":["Pass","Reject","Assist"]},"text":{"x":700,"y":640,"value":"任务3"}},{"id":"2837c7c3-5177-42ad-9743-973dce197a71","type":"gateway","x":700,"y":380,"properties":{"key":"gateway","name":"网关节点","enName":"Gateway","executor":null,"description":"","branch":"One","rule":"One","actions":null},"text":{"x":700,"y":428,"value":"网关节点"}},{"id":"0b9920ef-6a3d-40bc-9101-fee887d74f9c","type":"end","x":900,"y":380,"properties":{"key":"end","name":"结束","enName":"Completer","executor":null,"description":"","branch":null,"rule":"One","actions":null},"text":{"x":900,"y":428,"value":"结束"}}],"edges":[{"id":"319e2bd7-69d0-4467-8049-f6ea667d3a05","type":"polyline","sourceNodeId":"7cf75287-e220-4511-9b4b-c5820e279f23","targetNodeId":"97676a5f-38a0-44d6-89ea-b676f6407fef","startPoint":{"x":320,"y":380},"endPoint":{"x":450,"y":380},"properties":{},"pointsList":[{"x":320,"y":380},{"x":450,"y":380}]},{"id":"e030143b-63fe-4f5a-97ba-5c7caaf66b10","type":"polyline","sourceNodeId":"97676a5f-38a0-44d6-89ea-b676f6407fef","targetNodeId":"2837c7c3-5177-42ad-9743-973dce197a71","startPoint":{"x":550,"y":380},"endPoint":{"x":675,"y":380},"properties":{},"pointsList":[{"x":550,"y":380},{"x":675,"y":380}]},{"id":"cc5333d2-8f69-468d-8c59-faef08f78a94","type":"polyline","sourceNodeId":"2837c7c3-5177-42ad-9743-973dce197a71","targetNodeId":"77941a96-6ef4-48c1-9889-96dcb6ef79d6","startPoint":{"x":700,"y":355},"endPoint":{"x":700,"y":215},"properties":{"name":"金额大于10万","condition":{"type":"Simple","expressions":[{"type":"Expression","expression":{"variable":"fields6","varType":"","operator":">","value":"100000"}}]},"enName":"Condition"},"text":{"x":750,"y":295,"value":"金额大于10万"},"pointsList":[{"x":700,"y":355},{"x":700,"y":215}]},{"id":"5923f496-ec87-4076-af6a-abba7ac01438","type":"polyline","sourceNodeId":"2837c7c3-5177-42ad-9743-973dce197a71","targetNodeId":"f6acff23-254d-4fa0-bc5a-c60ea7773a88","startPoint":{"x":700,"y":405},"endPoint":{"x":700,"y":545},"properties":{},"pointsList":[{"x":700,"y":405},{"x":700,"y":545}]},{"id":"be13b9a8-80ad-4704-a5be-da6a9911f4c6","type":"polyline","sourceNodeId":"77941a96-6ef4-48c1-9889-96dcb6ef79d6","targetNodeId":"0b9920ef-6a3d-40bc-9101-fee887d74f9c","startPoint":{"x":750,"y":180},"endPoint":{"x":900,"y":360},"properties":{},"pointsList":[{"x":750,"y":180},{"x":900,"y":180},{"x":900,"y":360}]},{"id":"67035e93-8fd9-428b-8978-b1cc90a9d330","type":"polyline","sourceNodeId":"f6acff23-254d-4fa0-bc5a-c60ea7773a88","targetNodeId":"0b9920ef-6a3d-40bc-9101-fee887d74f9c","startPoint":{"x":750,"y":580},"endPoint":{"x":900,"y":400},"properties":{},"pointsList":[{"x":750,"y":580},{"x":900,"y":580},{"x":900,"y":400}]}]}')},1091:function(e,t,a){},"13f3":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyVpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDM1MiwgMjAyMC8wMS8zMC0xNTo1MDozOCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QjRGQjA1RUZBN0M0MTFFQTlDMDdCMjExRDQ0RjYwNzAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QjRGQjA1RjBBN0M0MTFFQTlDMDdCMjExRDQ0RjYwNzAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCNEZCMDVFREE3QzQxMUVBOUMwN0IyMTFENDRGNjA3MCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCNEZCMDVFRUE3QzQxMUVBOUMwN0IyMTFENDRGNjA3MCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PjnBjDsAAAFJSURBVHjaYvz//z8DMUByIpypCsQdQOwC5e8B4gogvg3iPM/Hrp+FgTSgDsQngFgASSwIiJ2A2AKIb+LSyESiRW1olsCAAFQOJ2BEDjqk4MEFPgIxHw65L0DMS4qP2IAYZOVbIP6PhvnwOIIHi/p3ULPYsMVRFxDnMVAHCELN+o7NR7EM1Aep2CwSooFFQkwMdAJ0s4iFiCRNVR+BipW10HxCTQAqloKBmJ8FR7FCDXATWix9gPmojQaWgEAVzBKYRS40ipY9A5LqmNBtpiJwQbeoGjksqQhakeMeZNENaOpYB8SfqWiRBjQ1gypGXkaJCRhV+X9ahCO2iu8/LUuGQVmowosVKA6GtYDwFqpYxN7hqZNQihUoACWifdCIV8eh7x02Hy0mtlhBAh+gcrjAHGw+KgMlEmiVLoivWEEDu7CIvYc6vBYgwAAVQElXnHCDcwAAAABJRU5ErkJggg=="},1483:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyVpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDM1MiwgMjAyMC8wMS8zMC0xNTo1MDozOCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QjRGQjA1RjNBN0M0MTFFQTlDMDdCMjExRDQ0RjYwNzAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QjRGQjA1RjRBN0M0MTFFQTlDMDdCMjExRDQ0RjYwNzAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCNEZCMDVGMUE3QzQxMUVBOUMwN0IyMTFENDRGNjA3MCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCNEZCMDVGMkE3QzQxMUVBOUMwN0IyMTFENDRGNjA3MCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PrLYrAwAAAB4SURBVHjaYpw5c6YnAwPDXCCWZEAFz4E4GYi3AzFeNUw4JBmgYnOhbLxqWJAkGdEU/EeSw6uGiYEKYHAZ8hzJf8gYBF4gxQJONSBDUpAUI4On0ChmIKQGFDvbcEQfMsCrhgmakJ5hceozqBwDITWjiW3YJzaAAAMAKKpBggVkWMQAAAAASUVORK5CYII="},"192f":function(e,t,a){},"1cf3":function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"e",(function(){return c})),a.d(t,"a",(function(){return l})),a.d(t,"f",(function(){return u}));var n,i;a("4de4"),a("b0c0"),a("caad"),a("2532");function r(e){switch(e){case n.Description:return"描述文本";case n.Label:return"静态文本";case n.SingleText:return"单行输入";case n.MultipleText:return"多行输入";case n.Number:return"数字";case n.Date:return"日期";case n.DateRange:return"日期区间";case n.Select:return"下拉选择";case n.Radio:return"单项选择";case n.CheckBox:return"多项选择";default:throw new Error("field type enum error")}}function o(e){switch(e){case i.Simple:return"简单来源";case i.Basic:return"基础参数";case i.Dynamic:return"动态来源";default:throw new Error("field dataSource type enum error")}}(function(e){e["Description"]="Description",e["Label"]="Label",e["SingleText"]="SingleText",e["MultipleText"]="MultipleText",e["Number"]="Number",e["Date"]="Date",e["DateRange"]="DateRange",e["Select"]="Select",e["Radio"]="Radio",e["CheckBox"]="CheckBox"})(n||(n={})),function(e){e["Simple"]="Simple",e["Basic"]="Basic",e["Dynamic"]="Dynamic"}(i||(i={}));var l,s=[{value:i.Simple,text:o(i.Simple)},{value:i.Basic,text:o(i.Basic)},{value:i.Dynamic,text:o(i.Dynamic)}],c=[{type:n.Description,icon:"label_icon.png",text:r(n.Description),name:"a-description"},{type:n.Label,icon:"label_icon.png",text:r(n.Label),name:"label"},{type:n.SingleText,icon:"single_text_icon.png",text:r(n.SingleText),name:"a-input"},{icon:"multiple_text_icon.png",type:n.MultipleText,text:r(n.MultipleText),name:"a-textarea"},{type:n.Number,icon:"number_icon.png",text:r(n.Number),name:"a-input-number"},{type:n.Date,icon:"date_icon.png",text:r(n.Date),name:"a-date-picker"},{type:n.DateRange,icon:"date_range_icon.png",text:r(n.DateRange),name:"a-range-picker"},{type:n.Select,icon:"select_icon.png",text:r(n.Select),name:"a-select"},{type:n.Radio,icon:"radio_icon.png",text:r(n.Radio),name:"a-radio-group"},{type:n.CheckBox,icon:"checkbox_icon.png",text:r(n.CheckBox),name:"a-checkbox-group"}];(function(e){e["Field"]="Field",e["Ops"]="Ops",e["Number"]="Number"})(l||(l={}));var u=function(e){var t=[];return e.setting.dataSourceType===i.Simple&&(t=e.setting&&e.setting.options?e.setting.options:[]),t}},"1d03":function(module,__webpack_exports__,__webpack_require__){"use strict";var F_Avigator_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("1da1"),F_Avigator_test_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("d4ec"),F_Avigator_test_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("bee2"),F_Avigator_test_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("262e"),F_Avigator_test_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("2caf"),regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("96cf"),regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("d81d"),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("99af"),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("159b"),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("4de4"),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("caad"),core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("2532"),core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("b0c0"),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_12__),core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("7db0"),core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_13__),core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("a434"),core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_14__),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("a15b"),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_15__),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("5319"),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_16__),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("ac1f"),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_17__),core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("4d63"),core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_18__),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("25f0"),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_19__),tslib__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("9ab4"),vue_property_decorator__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("1b40"),_expSource_vue__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("8d8c"),_components_Form_common_model__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("1cf3"),_components_Form_common_const__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("b2a4"),_common_card_vue__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("21fc"),_common_dialog_vue__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("c11b"),SetExpression=function(_Vue){Object(F_Avigator_test_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__["a"])(SetExpression,_Vue);var _super=Object(F_Avigator_test_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_4__["a"])(SetExpression);function SetExpression(){var e;return Object(F_Avigator_test_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__["a"])(this,SetExpression),e=_super.apply(this,arguments),e.dialogWidth=800,e.dialogHeight=500,e.MAX_FIELDS_NUMBER=5,e.data=[],e.options=[],e.exps=[],e.loading=!0,e.fetching=!1,e.showSelect=!1,e.showError=!1,e.INPUT_NUMBER_MAX=_components_Form_common_const__WEBPACK_IMPORTED_MODULE_24__["l"],e}return Object(F_Avigator_test_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__["a"])(SetExpression,[{key:"created",value:function(){var e=Object(F_Avigator_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,t=this.fields.map((function(e){return Object({type:_components_Form_common_model__WEBPACK_IMPORTED_MODULE_23__["a"].Field,value:e.code,name:e.title,unit:e.setting.unit})}),[]),this.data=t.length>0?[{type:_components_Form_common_model__WEBPACK_IMPORTED_MODULE_23__["a"].Number,value:"custom_number",name:"数字"}].concat(t).concat(this.operations):[],e.next=5,this.fetchData();case 5:return e.next=7,this.Init();case 7:this.loading=!1;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"fields",get:function(){var e=this,t=[];return this.page.rows.filter((function(e){return e.fields.length>0})).forEach((function(a){a.fields.filter((function(t){return t.type===_components_Form_common_model__WEBPACK_IMPORTED_MODULE_23__["d"].Number&&t.id!==e.field.id})).forEach((function(e){t.push(e)}))})),t}},{key:"operations",get:function(){return _components_Form_common_const__WEBPACK_IMPORTED_MODULE_24__["n"].map((function(e){return Object({type:_components_Form_common_model__WEBPACK_IMPORTED_MODULE_23__["a"].Ops,name:e,value:e})}),[])}},{key:"showAdd",get:function(){return this.exps.filter((function(e){return e.type===_components_Form_common_model__WEBPACK_IMPORTED_MODULE_23__["a"].Field})).length<this.MAX_FIELDS_NUMBER}},{key:"fetchData",value:function(){var e=Object(F_Avigator_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.fetching=!0,this.options=t&&this.data.length>0?this.data.filter((function(e){return e.name.includes(t)})):this.data,this.fetching=!1;case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setExp",value:function(e){this.exps.forEach((function(e){return e.editable=!1})),e.editable=!0}},{key:"onAdd",value:function(){var e=Object(F_Avigator_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.showError=!1,this.showSelect=!1,a=this.data.filter((function(e){return e.value===t}))[0],this.exps.push({type:a.type,value:a.type===_components_Form_common_model__WEBPACK_IMPORTED_MODULE_23__["a"].Number?"":a.value,name:a.name,unit:a.unit}),e.next=6,this.fetchData();case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onUpdate",value:function(e,t){this.showError=!1,this.showSelect=!1;var a=this.data.find((function(e){return e.value===t}));a&&(e.name=a.name,e.unit=a.unit,e.value=a.type===_components_Form_common_model__WEBPACK_IMPORTED_MODULE_23__["a"].Number?"":a.value,e.type=a.type,e.editable=!1),this.exps.forEach((function(e){return e.editable=!1}))}},{key:"onDelete",value:function(e){this.showError=!1,this.exps.splice(e,1)}},{key:"onOk",value:function(){this.valid()?this.triggerChange(this.exps):this.showError=!0}},{key:"clearAll",value:function(){this.exps.splice(0,this.exps.length)}},{key:"onNumberChange",value:function(){this.showError=!1,this.valid()||(this.showError=!0)}},{key:"valid",value:function valid(){if(this.showError=!1,!this.exps||0===this.exps.length)return!0;for(var i=1;i<this.exps.length;i++){if((this.exps[i].type===_components_Form_common_model__WEBPACK_IMPORTED_MODULE_23__["a"].Field||this.exps[i].type===_components_Form_common_model__WEBPACK_IMPORTED_MODULE_23__["a"].Number)&&(this.exps[i-1].type===_components_Form_common_model__WEBPACK_IMPORTED_MODULE_23__["a"].Field||this.exps[i-1].type===_components_Form_common_model__WEBPACK_IMPORTED_MODULE_23__["a"].Number))return!1;if(this.exps[i].type===_components_Form_common_model__WEBPACK_IMPORTED_MODULE_23__["a"].Number&&!this.exps[i].value)return!1}if(1==this.exps.length&&this.exps[0].type===_components_Form_common_model__WEBPACK_IMPORTED_MODULE_23__["a"].Number)return!1;var expression=this.exps.map((function(e){return e.value})).join("");this.fields.forEach((function(e){expression.includes(e.code)&&(expression=expression.replace(new RegExp("".concat(e.code),"gm"),"1"))}));try{var value=eval(expression);return!(isNaN(value)||!isFinite(value))}catch(e){return!1}}},{key:"Init",value:function(){var e=Object(F_Avigator_test_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.field.expression&&this.field.expression.length>0&&(t=this.field.expression,t.forEach((function(e){var t=a.data.filter((function(t){return t.value===e.value}))[0];e.type===_components_Form_common_model__WEBPACK_IMPORTED_MODULE_23__["a"].Field&&t?a.exps.push({type:e.type,value:e.value,name:t.name,unit:t.unit,editable:!1}):e.type===_components_Form_common_model__WEBPACK_IMPORTED_MODULE_23__["a"].Number?a.exps.push({type:e.type,value:e.value,name:"数字",editable:!0}):e.type===_components_Form_common_model__WEBPACK_IMPORTED_MODULE_23__["a"].Ops&&a.exps.push({type:e.type,value:e.value,name:e.value,editable:!1})})));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"triggerChange",value:function(e){}},{key:"onCancel",value:function(){}}]),SetExpression}(vue_property_decorator__WEBPACK_IMPORTED_MODULE_21__["h"]);Object(tslib__WEBPACK_IMPORTED_MODULE_20__["a"])([Object(vue_property_decorator__WEBPACK_IMPORTED_MODULE_21__["f"])()],SetExpression.prototype,"field",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_20__["a"])([Object(vue_property_decorator__WEBPACK_IMPORTED_MODULE_21__["f"])()],SetExpression.prototype,"page",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_20__["a"])([Object(vue_property_decorator__WEBPACK_IMPORTED_MODULE_21__["b"])("change")],SetExpression.prototype,"triggerChange",null),Object(tslib__WEBPACK_IMPORTED_MODULE_20__["a"])([Object(vue_property_decorator__WEBPACK_IMPORTED_MODULE_21__["b"])("cancel")],SetExpression.prototype,"onCancel",null),SetExpression=Object(tslib__WEBPACK_IMPORTED_MODULE_20__["a"])([Object(vue_property_decorator__WEBPACK_IMPORTED_MODULE_21__["a"])({components:{Card:_common_card_vue__WEBPACK_IMPORTED_MODULE_25__["a"],Dialog:_common_dialog_vue__WEBPACK_IMPORTED_MODULE_26__["a"],ExpSource:_expSource_vue__WEBPACK_IMPORTED_MODULE_22__["a"]}})],SetExpression),__webpack_exports__["a"]=SetExpression},"20d2":function(e,t,a){"use strict";a("f6be")},"21fc":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card"},[a("a-card",{attrs:{type:"inner",bordered:e.bordered,hoverable:e.hoverable,loading:e.loading,headStyle:e.headStyle,bodyStyle:e.bodyStyle},scopedSlots:e._u([{key:"title",fn:function(){return[e._t("title",[e._v(" "+e._s(e.title)+" ")])]},proxy:!0},{key:"extra",fn:function(){return[e._t("extra")]},proxy:!0}],null,!0)},[e._t("default")],2)],1)},i=[],r=a("d4ec"),o=a("262e"),l=a("2caf"),s=a("9ab4"),c=a("1b40"),u=function(e){Object(o["a"])(a,e);var t=Object(l["a"])(a);function a(){return Object(r["a"])(this,a),t.apply(this,arguments)}return a}(c["h"]);Object(s["a"])([Object(c["f"])({default:"",type:String})],u.prototype,"title",void 0),Object(s["a"])([Object(c["f"])({default:!1,type:Boolean})],u.prototype,"loading",void 0),Object(s["a"])([Object(c["f"])({default:!0,type:Boolean})],u.prototype,"bordered",void 0),Object(s["a"])([Object(c["f"])({default:!1,type:Boolean})],u.prototype,"hoverable",void 0),Object(s["a"])([Object(c["f"])({default:function(){return{padding:"10px 15px"}},type:Object})],u.prototype,"bodyStyle",void 0),Object(s["a"])([Object(c["f"])({default:function(){return{padding:"0 10px","min-height":"30px","font-weight":"bold"}},type:Object})],u.prototype,"headStyle",void 0),u=Object(s["a"])([c["a"]],u);var d=u,p=d,f=(a("af44"),a("2877")),_=Object(f["a"])(p,n,i,!1,null,"3281318a",null);t["a"]=_.exports},"23cf":function(e,t,a){"use strict";a("9a5d")},"23db":function(e,t,a){},2516:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"d",(function(){return c})),a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return d})),a.d(t,"e",(function(){return p}));a("d3b7"),a("25f0"),a("a15b"),a("d81d"),a("159b"),a("caad"),a("2532"),a("5319"),a("ac1f"),a("4d63"),a("4de4"),a("7db0");var n=a("90ba"),i=a("c1df"),r=a.n(i),o=a("b2a4"),l=a("1cf3"),s=function(){return n["Guid"].create().toString()},c=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n="",i=e;return i&&i.length>0&&(n=e.map((function(e){return e.value})).join(""),t.forEach((function(e){n.includes(e.code)&&(n=a?n.replace(new RegExp("".concat(e.code),"gm"),"["+e.title+"]"):n.replace(new RegExp("".concat(e.code),"gm"),e.title))}))),n},u=function(e){var t=[];return e.rows.filter((function(e){return e.fields.length>0})).forEach((function(e){e.fields.filter((function(e){return e.expression&&e.expression.length>0})).forEach((function(e){e.expression.filter((function(e){return e.type===l["a"].Field})).forEach((function(a){var n=t.find((function(e){return e.fieldCode===a.value}));n?n.formulas.indexOf(e.code)<0&&n.formulas.push(e.code):t.push({fieldCode:a.value,formulas:[e.code]})}))}))})),t},d=function(e,t){t=t||o["a"];var a=r()(e).format(t);return a.indexOf("0001-01-01")>-1||a.indexOf("1970-01-01")>-1?"":a},p=function(e){var t=[];return e.rows.filter((function(e){return e.fields.length>0})).forEach((function(e){e.fields.forEach((function(e){t.push(e)}))})),t}},"25b7":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAQCAYAAADwMZRfAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyVpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDM1MiwgMjAyMC8wMS8zMC0xNTo1MDozOCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTcwREYyOTJBN0U3MTFFQTlDMDdCMjExRDQ0RjYwNzAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTcwREYyOTNBN0U3MTFFQTlDMDdCMjExRDQ0RjYwNzAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCNEZCMDVGNUE3QzQxMUVBOUMwN0IyMTFENDRGNjA3MCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCNEZCMDVGNkE3QzQxMUVBOUMwN0IyMTFENDRGNjA3MCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PrU8QVMAAABgSURBVHjaYpw5c6YnAwPDXCCWZEAFz4E4GYi3AzFeNUw4JBmgYnOhbLxqWJAkGdEU/EeSw6uGiYEKYNSQUUOGniHPkfIBMgaBF0i5FacakCEpSIqRwVNoUcBASA1AgAEADX8dMCqwHYwAAAAASUVORK5CYII="},"268e":function(e,t,a){},2975:function(e,t,a){"use strict";a("2c7d")},"29c8":function(e,t,a){e.exports=a.p+"img/switch_icon.24e7217c.png"},"2c7d":function(e,t,a){},"2ea6":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAAXNSR0IArs4c6QAAAytJREFUSA2lVs9rE0EU/jbdtJYErFWh1QrSUqoVPVQSLD0IUupJhSCtiJ686M2D1/4FRdCTni2K7dWjIloEJdEerAjiQbFqBREtbdDm1/p9MwlNwm6yTR9MMvvem++befP2vXV6bnkeKIUS8PQycLSQSTq9yYx0rYq3kk4suYn0qVnAjVgUtwaMZJMvE3e7b3rZ9rJDjT3EQ85gIDY9Vuvs6iQS/eto2RJGHNI7bUa95R+naDAMVgVbIK7CJa0COLQbyOc4L9jnLbMIikTCENZzYjsOlRyOt7qcnHrSd2edJ5HDx9/A33zZoQUmbbgzCgzuAqLtQDyCxbnxr9dcZ+eBdNeMt95GpU4S5d2YXQSQKLwSbdRPtFYbffODPryCYg7r4jDJsMMlNu/E5p/fcquTva2cJIp/JIBNZO3EM5jE1urQuZVn7A/vAZ5dsmN4L++CurASmkjJef4QY99th+blhA3FFYqoxJD1xoEUwdeYMBqpIauTLYyEIsoxRKf7LfDce0BDxNLJFkaaEmnDMWbkxSO8E8bqwTvgPofm0skW5lBNibTjZC8w0gMsMmW/rQHfOTSXLrkv3Klqa51PDJTCF4ZtKgv49RXrxFfCpLdsC198FtapGp5I78oA3/CJARuq1Q2b0kprM6d9ot/6VNe1Og7z2PBEWnx2EOjqAG6ngZlXQEd5xQaryI0TwPUkcI4+slVagh9R4ImUtt2dNmxZlpSHzLR/BM8ytTU0V/bJNsXwybdRqgcSKTzjB21YHn+yxTaqssI709BcBVg2hVe+jSpFIJGARvcDn/8As0v+dVC1Tzb5jPZZcr+wSRd4R8q26QUbDt2VimS9SPdiGRi7ZzMwqMhqnSFivD1VZTWt6jYhAm46sEoLQOBFOlXfj06qF1ohLhJbfq5tfIiz8ZnOWN/46NtUqn1EosZ3bLPxxefYXJ23P2miUQ5qv2fm2bRW/EPVlJEOqiTHWUkeTQIfftlTqSO5+iSSKEzq8Wq/2/o4IagwRHKS2JV3y61MRKYQxNjj2dKzHolbEa0jRoxYI8Ku4NdmHQ3zo5mrTmp7H5Dz+oCMJFhLNuU/1zYpUPN44zYAAAAASUVORK5CYII="},"2ebd":function(e,t,a){e.exports=a.p+"img/tow_col_icon.f741f0d7.svg"},"2f0b":function(e,t,a){e.exports=a.p+"img/group_icon.ee625120.svg"},"2fe8":function(e,t,a){"use strict";a("aa1c")},3027:function(e,t,a){},"30e6":function(e,t,a){},"31cb":function(e,t,a){"use strict";a("500a")},"347f":function(e,t,a){"use strict";a("8465")},"362f":function(e,t,a){"use strict";a("0aa4")},"368f":function(e,t,a){},"36a1":function(e,t,a){},3931:function(e,t,a){"use strict";a("368f")},"39ec":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"avigator-form-view",style:e.viewStyle},[a("Layout",{attrs:{left:5,right:6,middle:13},scopedSlots:e._u([{key:"left",fn:function(){return[a("Card",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" 组件列表 ")]},proxy:!0}])},[a("WidgetPanel",{attrs:{column:2}})],1)]},proxy:!0},{key:"middle",fn:function(){return[a("div",[a("Card",{scopedSlots:e._u([{key:"title",fn:function(){return[a("span",{staticClass:"text-left"},[e._v(" 页面布局 ")]),a("span",{staticClass:"float-right"},[a("a-button",{staticClass:"m-l-10",on:{click:e.loadData}},[e._v(" 加载示例 ")]),a("a-button",{staticClass:"m-l-10",on:{click:function(){return e.dataVisible=!0}}},[e._v(" 数据 ")]),a("a-button",{staticClass:"m-l-10",attrs:{type:"primary"},on:{click:function(){return e.preview=!0}}},[e._v(" 预览 ")])],1)]},proxy:!0}])},[a("PagePanel",{attrs:{page:e.page},on:{selectedField:e.handleSelectedField}})],1)],1)]},proxy:!0},{key:"right",fn:function(){return[a("PropertyPanel",{attrs:{widget:e.selectItem,maxCols:e.selectItemMaxCols,page:e.page}})]},proxy:!0}])}),a("Dialog",{attrs:{visible:e.dataVisible,width:1e3,height:600,title:"数据",okText:"确定"},on:{"update:visible":function(t){e.dataVisible=t},cancel:function(t){e.dataVisible=!1},ok:function(t){e.dataVisible=!1}}},[a("DataPanel",{attrs:{graphData:e.page}})],1),e.preview?a("PagePreview",{attrs:{page:e.page},on:{close:function(){return e.preview=!1}}}):e._e()],1)},i=[],r=a("d4ec"),o=a("bee2"),l=a("262e"),s=a("2caf"),c=(a("13d5"),a("d81d"),a("b0c0"),a("a4d3"),a("e01a"),a("9ab4")),u=a("1b40"),d=(a("a9e3"),a("3027"),function(e){Object(l["a"])(a,e);var t=Object(s["a"])(a);function a(){return Object(r["a"])(this,a),t.apply(this,arguments)}return Object(o["a"])(a,[{key:"render",value:function(){var e=arguments[0];return e("div",{class:"layout"},[e("a-row",{attrs:{gutter:this.gutter}},[e("a-col",{attrs:{span:this.left}},[e("div",{class:"left-layout"},[this.$slots["left"]])]),e("a-col",{attrs:{span:this.middle}},[e("div",{class:"middle-layout"},[this.$slots["middle"]])]),e("a-col",{attrs:{span:this.right}},[e("div",{class:"right-layout"},[this.$slots["right"]])])])])}}]),a}(u["h"]));Object(c["a"])([Object(u["f"])({default:8,type:Number})],d.prototype,"left",void 0),Object(c["a"])([Object(u["f"])({default:8,type:Number})],d.prototype,"middle",void 0),Object(c["a"])([Object(u["f"])({default:8,type:Number})],d.prototype,"right",void 0),Object(c["a"])([Object(u["f"])({default:8,type:Number})],d.prototype,"gutter",void 0),d=Object(c["a"])([u["a"]],d);var p=d,f=a("21fc"),_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-row",{attrs:{gutter:[16,16]}},[n("draggable",{attrs:{clone:e.cloneComponent,group:{name:"widgets",pull:"clone",put:!1},list:e.widgets,filter:".undraggable",sort:!1}},e._l(e.widgets,(function(t,i){return n("a-col",{key:i,attrs:{span:24/e.column}},[n("div",{staticClass:"widget-item"},[n("Card",{attrs:{hoverable:"",bordered:!1,name:t.name,headStyle:{"text-align":"center",border:"none",background:"none"},bodyStyle:{"text-align":"center",border:"none",padding:"0px 5px 10px","font-weight":"bold"}},scopedSlots:e._u([{key:"title",fn:function(){return[n("img",{attrs:{slot:"cover",alt:t.label,src:a("4d83")("./"+t.icon)},slot:"cover"})]},proxy:!0}],null,!0)},[n("span",{staticClass:"center"},[e._v(e._s(t.text))])])],1)])})),1)],1)},b=[],m=(a("d3b7"),a("25f0"),a("b76a")),h=a.n(m),v=a("1cf3"),g=a("2516"),y=function(e){Object(l["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.widgets=v["e"],e}return Object(o["a"])(a,[{key:"cloneComponent",value:function(e){return{id:Object(g["a"])(),code:e.type.toString(),type:e.type,name:e.name,icon:e.icon,title:e.text,placeHolder:"",cols:4,prompt:"",description:"",isRequired:e.type!=v["d"].Description&&e.type!=v["d"].Label,isReadonly:!1,style:{fontSize:14},setting:{isMultipleSelect:!1,maxStringLength:e.type==v["d"].SingleText||e.type==v["d"].MultipleText?50:null,maxNumberValue:e.type==v["d"].Number?999999:null,minNumberValue:e.type==v["d"].Number?0:null,numberDigits:e.type==v["d"].Number?2:null,options:e.type==v["d"].Select||e.type==v["d"].Radio||e.type==v["d"].CheckBox?[{value:"选项1",text:"选项1"}]:[]},expression:[],value:null}}}]),a}(u["h"]);Object(c["a"])([Object(u["f"])({default:2})],y.prototype,"column",void 0),y=Object(c["a"])([Object(u["a"])({components:{Card:f["a"],draggable:h.a}})],y);var O=y,j=O,x=(a("6dca"),a("2877")),A=Object(x["a"])(j,_,b,!1,null,"701e382d",null),E=A.exports,k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(e.widgetPropertyComponentName,{key:e.widgetType,tag:"component",attrs:{field:e.widget,maxCols:e.maxCols,page:e.page}})},R=[],D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-collapse",{attrs:{activeKey:["baseProperty"]}},[a("a-collapse-panel",{key:"baseProperty",attrs:{header:"基本属性",showArrow:!1}},[e._v("从左侧拖拽添加并选中字段")])],1)],1)},C=[],M=function(e){Object(l["a"])(a,e);var t=Object(s["a"])(a);function a(){return Object(r["a"])(this,a),t.apply(this,arguments)}return a}(u["h"]);M=Object(c["a"])([Object(u["a"])({components:{}})],M);var P=M,w=P,S=Object(x["a"])(w,D,C,!1,null,null,null),T=S.exports,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-form-model",{ref:e.formRef,attrs:{labelAlign:"right",rules:e.rules,model:e.field,"label-col":{span:6},"wrapper-col":{span:18}}},[a("Card",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" 基本属性 ")]},proxy:!0}])},[a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-model-item",{attrs:{"has-feedback":"",label:"标题",prop:"title"}},[a("a-input",{attrs:{type:"input",autocomplete:"off",maxLength:e.INPUT_MAX_LENGTH_15,disabled:e.readonly},model:{value:e.field.title,callback:function(t){e.$set(e.field,"title",t)},expression:"field.title"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"标识",prop:"code"}},[a("a-input",{attrs:{type:"input",autocomplete:"off",maxLength:e.INPUT_MAX_LENGTH_15,disabled:e.readonly},model:{value:e.field.code,callback:function(t){e.$set(e.field,"code",t)},expression:"field.code"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"提示",prop:"prompt"}},[a("a-input",{attrs:{type:"input",maxLength:e.INPUT_MAX_LENGTH_50,autocomplete:"off",disabled:e.readonly},model:{value:e.field.prompt,callback:function(t){e.$set(e.field,"prompt",t)},expression:"field.prompt"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"描述",prop:"description"}},[a("a-textarea",{attrs:{type:"input",autocomplete:"off",maxLength:e.INPUT_MAX_LENGTH_50,disabled:e.readonly},model:{value:e.field.description,callback:function(t){e.$set(e.field,"description",t)},expression:"field.description"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"占比",prop:"isRequired"}},[a("FieldColumnSetting",{attrs:{disabled:e.readonly,maxCols:e.maxCols},model:{value:e.field.cols,callback:function(t){e.$set(e.field,"cols",t)},expression:"field.cols"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"是否必填",prop:"isRequired"}},[a("a-switch",{attrs:{"checked-children":"是","un-checked-children":"否",disabled:e.readonly},model:{value:e.field.isRequired,callback:function(t){e.$set(e.field,"isRequired",t)},expression:"field.isRequired"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"是否只读",prop:"isReadonly"}},[a("a-switch",{attrs:{"checked-children":"是","un-checked-children":"否",disabled:e.readonly},model:{value:e.field.isReadonly,callback:function(t){e.$set(e.field,"isReadonly",t)},expression:"field.isReadonly"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"最大长度",prop:"setting.maxStringLength"}},[a("a-input-number",{staticClass:"p-input-number",attrs:{min:1,max:e.INPUT_MAX_NUMBER,step:1,precision:0,disabled:e.readonly},model:{value:e.field.setting.maxStringLength,callback:function(t){e.$set(e.field.setting,"maxStringLength",t)},expression:"field.setting.maxStringLength"}})],1)],1)],1)],1)],1)],1)},N=[],L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-radio-group",{attrs:{"button-style":"solid",disabled:e.readonly,size:"small"},on:{change:e.onChange},model:{value:e.cols,callback:function(t){e.cols=t},expression:"cols"}},e._l(e.options,(function(t){return a("a-radio-button",{key:t.value,attrs:{value:t.value,disabled:t.disabled}},[e._v(e._s(t.text))])})),1)},U=[],B=function(e){Object(l["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.cols=4|e.columns,e}return Object(o["a"])(a,[{key:"options",get:function(){var e=this,t=[1,2,3,4].map((function(t){return Object({value:t,text:"".concat(25*t,"%"),disabled:!(t<=e.maxCols)})}));return t}},{key:"onChange",value:function(e){this.$emit("change",e.target.value)}}]),a}(u["h"]);Object(c["a"])([Object(u["f"])({default:4})],B.prototype,"maxCols",void 0),Object(c["a"])([Object(u["f"])()],B.prototype,"columns",void 0),Object(c["a"])([Object(u["f"])()],B.prototype,"readonly",void 0),B=Object(c["a"])([Object(u["a"])({model:{prop:"columns",event:"change"},components:{}})],B);var W=B,F=W,V=(a("9080"),Object(x["a"])(F,L,U,!1,null,"6135e41e",null)),G=V.exports,K=(a("5319"),a("ac1f"),a("b2a4")),q=a("da38"),z=function(e){Object(l["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.REGEX_NO_SPACE=K["p"],e.INPUT_MAX_LENGTH_5=K["i"],e.INPUT_MAX_LENGTH_10=K["d"],e.INPUT_MAX_LENGTH_15=K["f"],e.INPUT_MAX_LENGTH_30=K["h"],e.INPUT_MAX_LENGTH_50=K["j"],e.INPUT_MAX_LENGTH_100=K["e"],e.INPUT_MAX_LENGTH_200=K["g"],e.INPUT_MAX_LENGTH=K["j"],e.INPUT_MAX_NUMBER=K["k"],e.INPUT_NUMBER_MAX=K["l"],e.formLayout=K["c"],e.formItemLayout={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:8}}},e.formItemLayoutOnPage={labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:21}}},e.formInputIntDefault={min:K["m"],max:K["l"],step:1,precision:0,formatter:function(e){return"".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/$s?|(,*)/g,"")}},e}return Object(o["a"])(a,[{key:"form",value:function(e){return this.$refs[e]}},{key:"getMaxLengthRule",value:function(e,t){return Object(q["a"])(e,t)}},{key:"getRequireRule",value:function(e){return Object(q["e"])(e)}},{key:"getNonChineseRule",value:function(e){return Object(q["b"])(e)}},{key:"getNonSpaceRule",value:function(e){return Object(q["c"])(e)}},{key:"getNumberMinRule",value:function(e,t){return Object(q["d"])(e,t)}},{key:"getUniqueRule",value:function(e,t){return!1}}]),a}(u["h"]);z=Object(c["a"])([u["a"]],z);var Y=z,H=function(e){Object(l["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.formRef="form",e.rules=e.readonly?{}:{title:[e.getRequireRule("请输入标题"),e.getNonSpaceRule()],code:[e.getRequireRule("请输入标识"),e.getUniqueRule(e.field,"标识重复"),e.getNonChineseRule(),e.getNonSpaceRule()],"setting.maxStringLength":[e.getRequireRule("请输入最大长度")]},e}return a}(Object(u["d"])(Y));Object(c["a"])([Object(u["f"])()],H.prototype,"field",void 0),Object(c["a"])([Object(u["f"])()],H.prototype,"readonly",void 0),Object(c["a"])([Object(u["f"])({default:4})],H.prototype,"maxCols",void 0),H=Object(c["a"])([Object(u["a"])({components:{Card:f["a"],FieldColumnSetting:G}})],H);var Z=H,J=Z,Q=(a("f13a"),Object(x["a"])(J,I,N,!1,null,"7114f7d8",null)),X=Q.exports,$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-form-model",{ref:e.formRef,attrs:{labelAlign:"right",rules:e.rules,model:e.field,"label-col":{span:6},"wrapper-col":{span:18}}},[a("Card",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" 基本属性 ")]},proxy:!0}])},[a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-model-item",{attrs:{"has-feedback":"",label:"标题",prop:"title"}},[a("a-input",{attrs:{type:"input",autocomplete:"off",maxLength:e.INPUT_MAX_LENGTH_15,disabled:e.readonly},model:{value:e.field.title,callback:function(t){e.$set(e.field,"title",t)},expression:"field.title"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"标识",prop:"code"}},[a("a-input",{attrs:{type:"input",autocomplete:"off",maxLength:e.INPUT_MAX_LENGTH_15,disabled:e.readonly},model:{value:e.field.code,callback:function(t){e.$set(e.field,"code",t)},expression:"field.code"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"提示",prop:"prompt"}},[a("a-input",{attrs:{type:"input",maxLength:e.INPUT_MAX_LENGTH_50,autocomplete:"off",disabled:e.readonly},model:{value:e.field.prompt,callback:function(t){e.$set(e.field,"prompt",t)},expression:"field.prompt"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"描述",prop:"description"}},[a("a-textarea",{attrs:{type:"input",autocomplete:"off",maxLength:e.INPUT_MAX_LENGTH_50,disabled:e.readonly},model:{value:e.field.description,callback:function(t){e.$set(e.field,"description",t)},expression:"field.description"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"占比",prop:"isRequired"}},[a("FieldColumnSetting",{attrs:{disabled:e.readonly},model:{value:e.field.cols,callback:function(t){e.$set(e.field,"cols",t)},expression:"field.cols"}})],1)],1)],1)],1)],1)],1)},ee=[],te=function(e){Object(l["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.formRef="form",e.rules=e.readonly?{}:{title:[e.getRequireRule("请输入标题"),e.getNonSpaceRule()],code:[e.getRequireRule("请输入标识"),e.getUniqueRule(e.field,"标识重复"),e.getNonChineseRule(),e.getNonSpaceRule()],defaultValue:[e.getRequireRule("请输入字段内容")]},e}return a}(Object(u["d"])(Y));Object(c["a"])([Object(u["f"])()],te.prototype,"field",void 0),Object(c["a"])([Object(u["f"])()],te.prototype,"readonly",void 0),te=Object(c["a"])([Object(u["a"])({components:{Card:f["a"],FieldColumnSetting:G}})],te);var ae=te,ne=ae,ie=(a("d82e"),Object(x["a"])(ne,$,ee,!1,null,"433e5be7",null)),re=ie.exports,oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-form-model",{ref:e.formRef,attrs:{labelAlign:"right",rules:e.rules,model:e.field,"label-col":{span:6},"wrapper-col":{span:18}}},[a("Card",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" 基本属性 ")]},proxy:!0}])},[a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-model-item",{attrs:{"has-feedback":"",label:"标题",prop:"title"}},[a("a-input",{attrs:{type:"input",autocomplete:"off",maxLength:e.INPUT_MAX_LENGTH_15,disabled:e.readonly},model:{value:e.field.title,callback:function(t){e.$set(e.field,"title",t)},expression:"field.title"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"标识",prop:"code"}},[a("a-input",{attrs:{type:"input",autocomplete:"off",maxLength:e.INPUT_MAX_LENGTH_15,disabled:e.readonly},model:{value:e.field.code,callback:function(t){e.$set(e.field,"code",t)},expression:"field.code"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"占比",prop:"isRequired"}},[a("FieldColumnSetting",{attrs:{disabled:e.readonly},model:{value:e.field.cols,callback:function(t){e.$set(e.field,"cols",t)},expression:"field.cols"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"是否必填",prop:"isRequired"}},[a("a-switch",{attrs:{"checked-children":"是","un-checked-children":"否",disabled:e.readonly},model:{value:e.field.isRequired,callback:function(t){e.$set(e.field,"isRequired",t)},expression:"field.isRequired"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"是否只读",prop:"isReadonly"}},[a("a-switch",{attrs:{"checked-children":"是","un-checked-children":"否",disabled:e.readonly},model:{value:e.field.isReadonly,callback:function(t){e.$set(e.field,"isReadonly",t)},expression:"field.isReadonly"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"最大长度",prop:"setting.maxStringLength"}},[a("a-input-number",{staticClass:"p-input-number",attrs:{min:1,max:e.INPUT_MAX_NUMBER,step:1,precision:0,disabled:e.readonly},model:{value:e.field.setting.maxStringLength,callback:function(t){e.$set(e.field.setting,"maxStringLength",t)},expression:"field.setting.maxStringLength"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"描述",prop:"description"}},[a("a-textarea",{attrs:{type:"input",autocomplete:"off",maxLength:e.INPUT_MAX_LENGTH_50,disabled:e.readonly},model:{value:e.field.description,callback:function(t){e.$set(e.field,"description",t)},expression:"field.description"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"提示",prop:"prompt"}},[a("a-input",{attrs:{type:"input",maxLength:e.INPUT_MAX_LENGTH_50,autocomplete:"off",disabled:e.readonly},model:{value:e.field.prompt,callback:function(t){e.$set(e.field,"prompt",t)},expression:"field.prompt"}})],1)],1)],1)],1)],1)],1)},le=[],se=function(e){Object(l["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.formRef="form",e.rules=e.readonly?{}:{title:[e.getRequireRule("请输入标题"),e.getNonSpaceRule()],code:[e.getRequireRule("请输入标识"),e.getUniqueRule(e.field,"标识重复"),e.getNonChineseRule(),e.getNonSpaceRule()],"setting.maxStringLength":[e.getRequireRule("请输入最大长度"),e.getNumberMinRule(e.minStringLength)]},e}return Object(o["a"])(a,[{key:"minStringLength",get:function(){return this.field.setting.maxStringLength||1}}]),a}(Object(u["d"])(Y));Object(c["a"])([Object(u["f"])()],se.prototype,"field",void 0),Object(c["a"])([Object(u["f"])()],se.prototype,"readonly",void 0),se=Object(c["a"])([Object(u["a"])({components:{Card:f["a"],FieldColumnSetting:G}})],se);var ce=se,ue=ce,de=(a("4609"),Object(x["a"])(ue,oe,le,!1,null,"1ac7f836",null)),pe=de.exports,fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-form-model",{ref:e.formRef,attrs:{labelAlign:"right",rules:e.rules,model:e.field,"label-col":{span:6},"wrapper-col":{span:18}}},[a("Card",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" 基本属性 ")]},proxy:!0}])},[a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-model-item",{attrs:{"has-feedback":"",label:"标题",prop:"title"}},[a("a-input",{attrs:{type:"input",autocomplete:"off",maxLength:e.INPUT_MAX_LENGTH_15,disabled:e.readonly},model:{value:e.field.title,callback:function(t){e.$set(e.field,"title",t)},expression:"field.title"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"标识",prop:"code"}},[a("a-input",{attrs:{type:"input",autocomplete:"off",maxLength:e.INPUT_MAX_LENGTH_15,disabled:e.readonly},model:{value:e.field.code,callback:function(t){e.$set(e.field,"code",t)},expression:"field.code"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"提示",prop:"prompt"}},[a("a-input",{attrs:{type:"input",maxLength:e.INPUT_MAX_LENGTH_50,autocomplete:"off",disabled:e.readonly},model:{value:e.field.prompt,callback:function(t){e.$set(e.field,"prompt",t)},expression:"field.prompt"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"占比",prop:"isRequired"}},[a("FieldColumnSetting",{attrs:{disabled:e.readonly},model:{value:e.field.cols,callback:function(t){e.$set(e.field,"cols",t)},expression:"field.cols"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"描述",prop:"description"}},[a("a-textarea",{attrs:{type:"input",autocomplete:"off",maxLength:e.INPUT_MAX_LENGTH_50,disabled:e.readonly},model:{value:e.field.description,callback:function(t){e.$set(e.field,"description",t)},expression:"field.description"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"是否必填",prop:"isRequired"}},[a("a-switch",{attrs:{"checked-children":"是","un-checked-children":"否",disabled:e.readonly},model:{value:e.field.isRequired,callback:function(t){e.$set(e.field,"isRequired",t)},expression:"field.isRequired"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"是否只读",prop:"isReadonly"}},[a("a-switch",{attrs:{"checked-children":"是","un-checked-children":"否",disabled:e.readonly},model:{value:e.field.isReadonly,callback:function(t){e.$set(e.field,"isReadonly",t)},expression:"field.isReadonly"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"是否百分比",prop:"isPercentage"}},[a("a-switch",{attrs:{"checked-children":"是","un-checked-children":"否",disabled:e.readonly},model:{value:e.field.setting.isPercentage,callback:function(t){e.$set(e.field.setting,"isPercentage",t)},expression:"field.setting.isPercentage"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"最大数值",prop:"setting.maxNumberValue"}},[a("a-input-number",{staticClass:"p-input-number",attrs:{step:1,precision:0,max:e.INPUT_NUMBER_MAX,formatter:e.formatter,parser:e.parser,disabled:e.readonly},model:{value:e.field.setting.maxNumberValue,callback:function(t){e.$set(e.field.setting,"maxNumberValue",t)},expression:"field.setting.maxNumberValue"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"最小数值",prop:"setting.minNumberValue"}},[a("a-input-number",{staticClass:"p-input-number",attrs:{step:1,precision:0,min:-1*e.INPUT_NUMBER_MAX,formatter:e.formatter,parser:e.parser,disabled:e.readonly},model:{value:e.field.setting.minNumberValue,callback:function(t){e.$set(e.field.setting,"minNumberValue",t)},expression:"field.setting.minNumberValue"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"字段精度",prop:"setting.numberDigits"}},[a("a-input-number",{staticClass:"p-input-number",attrs:{min:0,max:9,step:1,precision:0,disabled:e.readonly},model:{value:e.field.setting.numberDigits,callback:function(t){e.$set(e.field.setting,"numberDigits",t)},expression:"field.setting.numberDigits"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"单位",prop:"setting.unit"}},[a("a-input",{attrs:{type:"input",autocomplete:"off",maxLength:e.INPUT_MAX_LENGTH_15,disabled:e.readonly||e.field.setting.isPercentage},model:{value:e.field.setting.unit,callback:function(t){e.$set(e.field.setting,"unit",t)},expression:"field.setting.unit"}})],1)],1)],1)],1),a("Card",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" 计算规则 ")]},proxy:!0}])},[a("Expression",{attrs:{field:e.field,page:e.page}})],1)],1)],1)},_e=[],be=(a("99af"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-form-model-item",{staticClass:"field-exp-label",attrs:{label:"["+e.field.title+"] = "}},[a("p",{staticClass:"expression"},[e._v(e._s(e.displayExpression))])]),a("a-form-model-item",{attrs:{wrapperCol:{span:16,offset:8}}},[a("a-button",{staticStyle:{width:"100%"},attrs:{type:"dashed"},on:{click:e.setExpression}},[a("a-icon",{attrs:{type:"plus"}}),e._v("公式设置 ")],1)],1),e.showDialog?a("SetExpression",{attrs:{field:e.field,page:e.page},on:{change:e.setCallback,cancel:e.onCancel}}):e._e()],1)}),me=[],he=(a("a434"),a("159b"),a("4de4"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Dialog",{attrs:{visible:!0,width:e.dialogWidth,height:e.dialogHeight,title:"【"+this.field.title+"】公式设置"},on:{ok:e.onOk,cancel:e.onCancel}},[a("div",{staticClass:"field-expression"},[a("a-skeleton",{attrs:{avatar:"",active:"",loading:e.loading}},[[a("Card",{attrs:{bodyStyle:{"min-height":"250px"}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" 公式编辑 "),a("span",{staticStyle:{"font-size":"12px",color:"#4693fd"}},[e._v("（字段最多可选择"+e._s(e.MAX_FIELDS_NUMBER)+"项）")]),a("a-button",{staticStyle:{float:"right"},attrs:{type:"dash",size:"small"},on:{click:e.clearAll}},[a("a-icon",{attrs:{type:"delete"}}),e._v("清除所有 ")],1)]},proxy:!0}])},[e._l(e.exps,(function(t,n){return a("div",{key:n,staticClass:"expressionPreview"},["Number"!==t.type?a("div",{staticClass:"expssionItem marginRight"},[t.editable?e._e():a("a-button",{attrs:{type:"link"},on:{click:function(a){return e.setExp(t)}}},[e._v(e._s(t.name))]),t.editable?a("ExpSource",{attrs:{value:t.value,field:e.field,page:e.page},on:{change:function(a){return e.onUpdate(t,a)}}}):e._e(),a("a",{staticClass:"delete",on:{click:function(t){return e.onDelete(n)}}},[e._v("x")])],1):a("div",{staticClass:"expssionItem marginRight"},[a("a-input-number",{attrs:{max:e.INPUT_NUMBER_MAX},on:{change:e.onNumberChange},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}),a("a",{staticClass:"delete",on:{click:function(t){return e.onDelete(n)}}},[e._v("x")])],1)])})),e.showAdd?a("div",{staticClass:"addExpression"},[a("a-tooltip",[a("template",{slot:"title"},[e._v("添加公式项或运算符号")]),e.showSelect?e._e():a("a-icon",{staticClass:"userAdd expssionPlus",style:e.showSelect?"":"padding:10px",attrs:{type:"plus-circle"},on:{click:function(t){e.showSelect=!0}}}),e.showSelect?a("div",{staticClass:"expssionPlus"},[a("a-select",{attrs:{showArrow:"",showSearch:"",filterOption:!1,placeholder:"搜索"},on:{search:e.fetchData,change:e.onAdd}},[e.fetching?a("a-spin",{attrs:{slot:"notFoundContent",size:"small"},slot:"notFoundContent"}):e._e(),e.options.filter((function(e){return"Field"===e.type})).length>0?a("a-select-opt-group",{attrs:{label:"字段"}},e._l(e.options.filter((function(e){return"Field"===e.type})),(function(t){return a("a-select-option",{key:t.value},[e._v(e._s(t.name+(t.unit?"（"+t.unit+"）":"")))])})),1):e._e(),e.options.filter((function(e){return"Number"===e.type})).length>0?a("a-select-opt-group",{attrs:{label:"自定义"}},e._l(e.options.filter((function(e){return"Number"===e.type})),(function(t){return a("a-select-option",{key:t.value},[e._v(e._s(""+t.name))])})),1):e._e(),e.options.filter((function(e){return"Ops"===e.type})).length>0?a("a-select-opt-group",{attrs:{label:"运算"}},e._l(e.options.filter((function(e){return"Ops"===e.type})),(function(t){return a("a-select-option",{key:t.value},[e._v(e._s(""+t.name))])})),1):e._e()],1),a("a",{staticClass:"delete",on:{click:function(t){e.showSelect=!1}}},[e._v("x")])],1):e._e()],2)],1):e._e()],2),a("Card",{attrs:{title:"动态预览"}},[a("a-row",[a("a-col",{attrs:{span:24}},[a("div",{staticClass:"expressionPreview"},[a("div",{staticClass:"expssionItem marginRight"},[e._v(" "+e._s("["+e.field.title+"] = ")+" ")])]),e.exps.length?a("div",{staticClass:"expressionPreview"},[a("div",{staticClass:"expssionItem marginRight"},e._l(e.exps,(function(t,n){return a("span",{key:n,staticStyle:{"margin-left":"5px"}},[e._v(e._s("Field"===t.type?"["+t.name+"]":"Number"===t.type?t.value:t.name))])})),0)]):e._e()])],1),a("a-row",[a("a-col",{attrs:{span:24}},[e.showError?a("div",{staticClass:"error"},[e._v(" 公式设置有误，请修改！可能的错误原因：括号不闭合；运算项和运算符号设置不合理；除数存在0；两字段项之间没有运算符号；数字框为空；公式为空； ")]):e._e()])],1)],1)]],2)],1)])}),ve=[],ge=a("1d03"),ye=ge["a"],Oe=(a("da80"),Object(x["a"])(ye,he,ve,!1,null,"1534fbb5",null)),je=Oe.exports,xe=function(e){Object(l["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.showDialog=!1,e}return Object(o["a"])(a,[{key:"setExpression",value:function(){this.showDialog=!0}},{key:"setCallback",value:function(e){var t=this;this.field.expression.length>0&&this.field.expression.splice(0,this.field.expression.length),e.forEach((function(e){return t.field.expression.push({type:e.type,value:e.value})})),this.showDialog=!1}},{key:"onCancel",value:function(){this.showDialog=!1}},{key:"allNumberFields",get:function(){var e=[];return this.page.rows.filter((function(e){return e.fields.length>0})).forEach((function(t){t.fields.filter((function(e){return e.type===v["d"].Number})).forEach((function(t){e.push(t)}))})),e}},{key:"displayExpression",get:function(){var e=Object(g["d"])(this.field.expression,this.allNumberFields);return e.length?e:"无"}}]),a}(u["h"]);Object(c["a"])([Object(u["f"])()],xe.prototype,"field",void 0),Object(c["a"])([Object(u["f"])()],xe.prototype,"page",void 0),xe=Object(c["a"])([Object(u["a"])({components:{SetExpression:je}})],xe);var Ae=xe,Ee=Ae,ke=(a("785e"),Object(x["a"])(Ee,be,me,!1,null,"0de347e8",null)),Re=ke.exports,De=function(e){Object(l["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.formRef="form",e.rules=e.readonly?{}:{title:[e.getRequireRule("请输入标题"),e.getNonSpaceRule()],code:[e.getRequireRule("请输入标识"),e.getUniqueRule(e.field,"标识重复"),e.getNonChineseRule(),e.getNonSpaceRule()],"setting.maxNumberValue":[e.getRequireRule("请输入最大数值"),e.getMaxGreetThanMinRule("不能小于最小值")],"setting.minNumberValue":[e.getRequireRule("请输入最小数值"),e.getMinLessThanMaxRule("不能大于最大值")],"setting.numberDigits":[e.getRequireRule("请输入字段精度")]},e}return Object(o["a"])(a,[{key:"formatter",value:function(e){return"".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")}},{key:"parser",value:function(e){return e.replace(/$s?|(,*)/g,"")}},{key:"getMaxGreetThanMinRule",value:function(e){return{validator:this.maxGreetThanMinRule,message:e,trigger:"blur"}}},{key:"getMinLessThanMaxRule",value:function(e){return{validator:this.minLessThanMaxRule,message:e,trigger:"blur"}}},{key:"maxGreetThanMinRule",value:function(e,t,a){var n=Number(this.field.setting.minNumberValue);if(!n)return a();if(!t)return a();var i=e.message;i=i?e.message:"'".concat(t,"'不能小于").concat(n),t<n?a(i):a()}},{key:"minLessThanMaxRule",value:function(e,t,a){var n=Number(this.field.setting.maxNumberValue);if(!n)return a();if(!t)return a();var i=e.message;i=i?e.message:"'".concat(t,"'不能大于").concat(n),t>n?a(i):a()}}]),a}(Object(u["d"])(Y));Object(c["a"])([Object(u["f"])()],De.prototype,"field",void 0),Object(c["a"])([Object(u["f"])()],De.prototype,"page",void 0),Object(c["a"])([Object(u["f"])()],De.prototype,"readonly",void 0),De=Object(c["a"])([Object(u["a"])({components:{Card:f["a"],FieldColumnSetting:G,Expression:Re}})],De);var Ce=De,Me=Ce,Pe=(a("4486"),Object(x["a"])(Me,fe,_e,!1,null,"3588e0da",null)),we=Pe.exports,Se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-form-model",{ref:e.formRef,attrs:{labelAlign:"right",rules:e.rules,model:e.field,"label-col":{span:6},"wrapper-col":{span:18}}},[a("Card",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v("基本属性")]},proxy:!0}])},[a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-model-item",{attrs:{"has-feedback":"",label:"标题",prop:"title"}},[a("a-input",{attrs:{type:"input",autocomplete:"off",maxLength:e.INPUT_MAX_LENGTH_15,disabled:e.readonly},model:{value:e.field.title,callback:function(t){e.$set(e.field,"title",t)},expression:"field.title"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"标识",prop:"code"}},[a("a-input",{attrs:{type:"input",autocomplete:"off",maxLength:e.INPUT_MAX_LENGTH_15,disabled:e.readonly},model:{value:e.field.code,callback:function(t){e.$set(e.field,"code",t)},expression:"field.code"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"提示",prop:"prompt"}},[a("a-input",{attrs:{type:"input",maxLength:e.INPUT_MAX_LENGTH_50,autocomplete:"off",disabled:e.readonly},model:{value:e.field.prompt,callback:function(t){e.$set(e.field,"prompt",t)},expression:"field.prompt"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"描述",prop:"description"}},[a("a-textarea",{attrs:{type:"input",autocomplete:"off",maxLength:e.INPUT_MAX_LENGTH_50,disabled:e.readonly},model:{value:e.field.description,callback:function(t){e.$set(e.field,"description",t)},expression:"field.description"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"占比",prop:"isRequired"}},[a("FieldColumnSetting",{attrs:{disabled:e.readonly},model:{value:e.field.cols,callback:function(t){e.$set(e.field,"cols",t)},expression:"field.cols"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"是否必填",prop:"isRequired"}},[a("a-switch",{attrs:{"checked-children":"是","un-checked-children":"否",disabled:e.readonly},model:{value:e.field.isRequired,callback:function(t){e.$set(e.field,"isRequired",t)},expression:"field.isRequired"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"是否只读",prop:"isReadonly"}},[a("a-switch",{attrs:{"checked-children":"是","un-checked-children":"否",disabled:e.readonly},model:{value:e.field.isReadonly,callback:function(t){e.$set(e.field,"isReadonly",t)},expression:"field.isReadonly"}})],1)],1)],1)],1)],1)],1)},Te=[],Ie=function(e){Object(l["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.formRef="form",e.rules=e.readonly?{}:{title:[e.getRequireRule("请输入标题"),e.getNonSpaceRule()],code:[e.getRequireRule("请输入标识"),e.getUniqueRule(e.field,"标识重复"),e.getNonChineseRule(),e.getNonSpaceRule()]},e}return a}(Object(u["d"])(Y));Object(c["a"])([Object(u["f"])()],Ie.prototype,"field",void 0),Object(c["a"])([Object(u["f"])()],Ie.prototype,"readonly",void 0),Ie=Object(c["a"])([Object(u["a"])({components:{Card:f["a"],FieldColumnSetting:G}})],Ie);var Ne=Ie,Le=Ne,Ue=(a("da49"),Object(x["a"])(Le,Se,Te,!1,null,"62f0356b",null)),Be=Ue.exports,We=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-form-model",{ref:e.formRef,attrs:{labelAlign:"right",rules:e.rules,model:e.field,"label-col":{span:6},"wrapper-col":{span:18}}},[a("Card",{scopedSlots:e._u([{key:"title",fn:function(){},proxy:!0}])},[a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-model-item",{attrs:{"has-feedback":"",label:"标题",prop:"title"}},[a("a-input",{attrs:{type:"input",autocomplete:"off",maxLength:e.INPUT_MAX_LENGTH_15,disabled:e.readonly},model:{value:e.field.title,callback:function(t){e.$set(e.field,"title",t)},expression:"field.title"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"标识",prop:"code"}},[a("a-input",{attrs:{type:"input",autocomplete:"off",maxLength:e.INPUT_MAX_LENGTH_15,disabled:e.readonly},model:{value:e.field.code,callback:function(t){e.$set(e.field,"code",t)},expression:"field.code"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"提示",prop:"prompt"}},[a("a-input",{attrs:{type:"input",maxLength:e.INPUT_MAX_LENGTH_50,autocomplete:"off",disabled:e.readonly},model:{value:e.field.prompt,callback:function(t){e.$set(e.field,"prompt",t)},expression:"field.prompt"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"描述",prop:"description"}},[a("a-textarea",{attrs:{type:"input",autocomplete:"off",maxLength:e.INPUT_MAX_LENGTH_50,disabled:e.readonly},model:{value:e.field.description,callback:function(t){e.$set(e.field,"description",t)},expression:"field.description"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"占比",prop:"isRequired"}},[a("FieldColumnSetting",{attrs:{disabled:e.readonly},model:{value:e.field.cols,callback:function(t){e.$set(e.field,"cols",t)},expression:"field.cols"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"是否必填",prop:"isRequired"}},[a("a-switch",{attrs:{"checked-children":"是","un-checked-children":"否",disabled:e.readonly},model:{value:e.field.isRequired,callback:function(t){e.$set(e.field,"isRequired",t)},expression:"field.isRequired"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"是否只读",prop:"isReadonly"}},[a("a-switch",{attrs:{"checked-children":"是","un-checked-children":"否",disabled:e.readonly},model:{value:e.field.isReadonly,callback:function(t){e.$set(e.field,"isReadonly",t)},expression:"field.isReadonly"}})],1)],1)],1)],1)],1)],1)},Fe=[],Ve=function(e){Object(l["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.formRef="form",e.rules=e.readonly?{}:{title:[e.getRequireRule("请输入标题"),e.getNonSpaceRule()],code:[e.getRequireRule("请输入标识"),e.getUniqueRule(e.field,"标识重复"),e.getNonChineseRule(),e.getNonSpaceRule()]},e}return a}(Object(u["d"])(Y));Object(c["a"])([Object(u["f"])()],Ve.prototype,"field",void 0),Object(c["a"])([Object(u["f"])()],Ve.prototype,"readonly",void 0),Ve=Object(c["a"])([Object(u["a"])({components:{Card:f["a"],FieldColumnSetting:G}})],Ve);var Ge=Ve,Ke=Ge,qe=(a("9f50"),Object(x["a"])(Ke,We,Fe,!1,null,"779cd7a3",null)),ze=qe.exports,Ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-form-model",{ref:e.formRef,attrs:{labelAlign:"right",rules:e.rules,model:e.field,"label-col":{span:6},"wrapper-col":{span:18}}},[a("Card",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" 基本属性 ")]},proxy:!0}])},[a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-model-item",{attrs:{"has-feedback":"",label:"标题",prop:"title"}},[a("a-input",{attrs:{type:"input",autocomplete:"off",maxLength:e.INPUT_MAX_LENGTH_15,disabled:e.readonly},model:{value:e.field.title,callback:function(t){e.$set(e.field,"title",t)},expression:"field.title"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"标识",prop:"code"}},[a("a-input",{attrs:{type:"input",autocomplete:"off",maxLength:e.INPUT_MAX_LENGTH_15,disabled:e.readonly},model:{value:e.field.code,callback:function(t){e.$set(e.field,"code",t)},expression:"field.code"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"提示",prop:"prompt"}},[a("a-input",{attrs:{type:"input",maxLength:e.INPUT_MAX_LENGTH_50,autocomplete:"off",disabled:e.readonly},model:{value:e.field.prompt,callback:function(t){e.$set(e.field,"prompt",t)},expression:"field.prompt"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"描述",prop:"description"}},[a("a-textarea",{attrs:{type:"input",autocomplete:"off",maxLength:e.INPUT_MAX_LENGTH_50,disabled:e.readonly},model:{value:e.field.description,callback:function(t){e.$set(e.field,"description",t)},expression:"field.description"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"占比",prop:"isRequired"}},[a("FieldColumnSetting",{attrs:{disabled:e.readonly},model:{value:e.field.cols,callback:function(t){e.$set(e.field,"cols",t)},expression:"field.cols"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"是否必填",prop:"isRequired"}},[a("a-switch",{attrs:{"checked-children":"是","un-checked-children":"否"},model:{value:e.field.isRequired,callback:function(t){e.$set(e.field,"isRequired",t)},expression:"field.isRequired"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"是否只读",prop:"isReadonly"}},[a("a-switch",{attrs:{"checked-children":"是","un-checked-children":"否",disabled:e.readonly},model:{value:e.field.isReadonly,callback:function(t){e.$set(e.field,"isReadonly",t)},expression:"field.isReadonly"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"是否多选",prop:"setting.isMultipleSelect"}},[a("a-switch",{attrs:{"checked-children":"是","un-checked-children":"否",disabled:e.readonly},model:{value:e.field.setting.isMultipleSelect,callback:function(t){e.$set(e.field.setting,"isMultipleSelect",t)},expression:"field.setting.isMultipleSelect"}})],1)],1)],1)],1),a("Card",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" 数据源 ")]},proxy:!0}])},[a("DataSourceSetting",{attrs:{field:e.field,disabled:e.readonly}})],1)],1)],1)},He=[],Ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-form-model-item",{attrs:{label:"数据来源",prop:"setting.dataSourceType"}},[a("a-select",{attrs:{options:e.dataSourceTypeOptions,disabled:e.disabled},on:{change:e.changeDataSourceType},model:{value:e.field.setting.dataSourceType,callback:function(t){e.$set(e.field.setting,"dataSourceType",t)},expression:"field.setting.dataSourceType"}})],1),e.displaySimpleOptions?a("SimpleDataSource",{attrs:{field:e.field,disabled:e.disabled}}):e._e()],1)},Je=[],Qe=a("1da1"),Xe=(a("96cf"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._l(e.field.setting.options,(function(t,n){return a("a-form-model-item",e._b({key:n,attrs:{label:0===n?"选项":"",prop:"setting.options."+n+".value",rules:e.disabled?[]:[{required:!0,message:"选项不能为空",trigger:"blur"},e.getNonSpaceRule(),e.getArrayOptionUniqueRule("选项已存在")]}},"a-form-model-item",0===n?{span:16}:{wrapperCol:{span:16,offset:8}},!1),[a("a-input",{staticStyle:{width:"85%","margin-right":"8px"},attrs:{placeholder:"请输入选项",disabled:e.disabled},on:{change:function(e){t.text=t.value}},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"option.value"}}),e.field.setting.options.length>1&&!e.disabled?a("a-icon",{attrs:{type:"minus-circle-o",disabled:1===e.field.setting.options.length},on:{click:function(a){return e.removeOption(t)}}}):e._e()],1)})),e.disabled?e._e():a("a-form-model-item",{attrs:{wrapperCol:{span:16,offset:8}}},[a("a-button",{staticStyle:{width:"100%"},attrs:{type:"dashed"},on:{click:e.addOption}},[a("a-icon",{attrs:{type:"plus"}}),e._v("添加选项 ")],1)],1)],2)}),$e=[],et=function(e){Object(l["a"])(a,e);var t=Object(s["a"])(a);function a(){return Object(r["a"])(this,a),t.apply(this,arguments)}return Object(o["a"])(a,[{key:"removeOption",value:function(e){if(this.field.setting.options){var t=this.field.setting.options.indexOf(e);-1!==t&&this.field.setting.options.splice(t,1)}}},{key:"addOption",value:function(){this.field.setting.options&&this.field.setting.options.push({value:"",text:""})}},{key:"getArrayOptionUniqueRule",value:function(e){return{validator:this.arrayOptionUniqueRule,array:this.field.setting.options,message:e,trigger:"blur"}}},{key:"arrayOptionUniqueRule",value:function(e,t,a){var n=e.array;if(0===n.length&&a(),!t)return a();var i=e.message;i=i?e.message:"'".concat(t,"'已存在"),n.filter((function(e){return e.value==t})).length>1?a(i):a()}}]),a}(Object(u["d"])(Y));Object(c["a"])([Object(u["f"])()],et.prototype,"field",void 0),Object(c["a"])([Object(u["f"])()],et.prototype,"disabled",void 0),et=Object(c["a"])([Object(u["a"])({components:{}})],et);var tt=et,at=tt,nt=Object(x["a"])(at,Xe,$e,!1,null,null,null),it=nt.exports,rt=function(e){Object(l["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.codeSources=[],e}return Object(o["a"])(a,[{key:"created",value:function(){var e=Object(Qe["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.field.setting.dataSourceType||(this.field.setting.dataSourceType=v["c"].Simple,this.field.setting.options=[],this.field.setting.options.push({text:"选项1",value:"选项1"}));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"dataSourceTypeOptions",get:function(){var e=v["b"].filter((function(e){return e.value!=v["c"].Dynamic&&e.value!=v["c"].Basic})).map((function(e){return Object({value:e.value,label:e.text})}));return e}},{key:"displaySimpleOptions",get:function(){return this.field&&this.field.setting&&this.field.setting.dataSourceType==v["c"].Simple}},{key:"displayBasicOptions",get:function(){return this.field&&this.field.setting&&this.field.setting.dataSourceType==v["c"].Basic}},{key:"basicSourceOptions",get:function(){return this.codeSources?this.codeSources.map((function(e){return Object({value:e.value,label:e.text})})):[]}},{key:"changeDataSourceType",value:function(){this.field&&this.field.setting&&(this.field.setting.dataSourceType==v["c"].Basic?this.field.setting.options&&this.field.setting.options.splice(0):this.field.setting.dataSourceType==v["c"].Simple?(this.field.setting.options||(this.field.setting.options=[]),this.field.setting.options.splice(0),this.field.setting.options.push({value:"",text:""})):this.field.setting.dataSourceType==v["c"].Dynamic&&this.field.setting.options&&this.field.setting.options.splice(0))}}]),a}(u["h"]);Object(c["a"])([Object(u["f"])()],rt.prototype,"field",void 0),Object(c["a"])([Object(u["f"])()],rt.prototype,"disabled",void 0),rt=Object(c["a"])([Object(u["a"])({components:{SimpleDataSource:it}})],rt);var ot=rt,lt=ot,st=Object(x["a"])(lt,Ze,Je,!1,null,null,null),ct=st.exports,ut=function(e){Object(l["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.formRef="form",e.rules=e.readonly?{}:{title:[e.getRequireRule("请输入标题"),e.getNonSpaceRule()],code:[e.getRequireRule("请输入标识"),e.getUniqueRule(e.field,"标识重复"),e.getNonChineseRule(),e.getNonSpaceRule()],"setting.dataSourceType":[e.getRequireRule("请选择数据来源")],"setting.sourceTypeId":[e.getRequireRule("请选择基础参数")]},e}return a}(Object(u["d"])(Y));Object(c["a"])([Object(u["f"])()],ut.prototype,"field",void 0),Object(c["a"])([Object(u["f"])()],ut.prototype,"readonly",void 0),ut=Object(c["a"])([Object(u["a"])({components:{Card:f["a"],FieldColumnSetting:G,DataSourceSetting:ct}})],ut);var dt=ut,pt=dt,ft=(a("347f"),Object(x["a"])(pt,Ye,He,!1,null,"40daafa8",null)),_t=ft.exports,bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-form-model",{ref:e.formRef,attrs:{labelAlign:"right",rules:e.rules,model:e.field,"label-col":{span:6},"wrapper-col":{span:18}}},[a("Card",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" 基本属性 ")]},proxy:!0}])},[a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-model-item",{attrs:{"has-feedback":"",label:"标题",prop:"title"}},[a("a-input",{attrs:{type:"input",autocomplete:"off",maxLength:e.INPUT_MAX_LENGTH_15,disabled:e.readonly},model:{value:e.field.title,callback:function(t){e.$set(e.field,"title",t)},expression:"field.title"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"标识",prop:"code"}},[a("a-input",{attrs:{type:"input",autocomplete:"off",maxLength:e.INPUT_MAX_LENGTH_15,disabled:e.readonly},model:{value:e.field.code,callback:function(t){e.$set(e.field,"code",t)},expression:"field.code"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"提示",prop:"prompt"}},[a("a-input",{attrs:{type:"input",maxLength:e.INPUT_MAX_LENGTH_50,autocomplete:"off",disabled:e.readonly},model:{value:e.field.prompt,callback:function(t){e.$set(e.field,"prompt",t)},expression:"field.prompt"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"描述",prop:"description"}},[a("a-textarea",{attrs:{type:"input",autocomplete:"off",maxLength:e.INPUT_MAX_LENGTH_50,disabled:e.readonly},model:{value:e.field.description,callback:function(t){e.$set(e.field,"description",t)},expression:"field.description"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"占比",prop:"isRequired"}},[a("FieldColumnSetting",{attrs:{disabled:e.readonly},model:{value:e.field.cols,callback:function(t){e.$set(e.field,"cols",t)},expression:"field.cols"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"是否必填",prop:"isRequired"}},[a("a-switch",{attrs:{"checked-children":"是","un-checked-children":"否",disabled:e.readonly},model:{value:e.field.isRequired,callback:function(t){e.$set(e.field,"isRequired",t)},expression:"field.isRequired"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"是否只读",prop:"isReadonly"}},[a("a-switch",{attrs:{"checked-children":"是","un-checked-children":"否",disabled:e.readonly},model:{value:e.field.isReadonly,callback:function(t){e.$set(e.field,"isReadonly",t)},expression:"field.isReadonly"}})],1)],1)],1)],1),a("Card",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" 数据源 ")]},proxy:!0}])},[a("DataSourceSetting",{attrs:{field:e.field,disabled:e.readonly}})],1)],1)],1)},mt=[],ht=function(e){Object(l["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.formRef="form",e.rules=e.readonly?{}:{title:[e.getRequireRule("请输入标题"),e.getNonSpaceRule()],code:[e.getRequireRule("请输入标识"),e.getUniqueRule(e.field,"标识重复"),e.getNonChineseRule(),e.getNonSpaceRule()],"setting.dataSourceType":[e.getRequireRule("请选择数据来源")],"setting.sourceTypeId":[e.getRequireRule("请选择基础参数")]},e}return a}(Object(u["d"])(Y));Object(c["a"])([Object(u["f"])()],ht.prototype,"field",void 0),Object(c["a"])([Object(u["f"])()],ht.prototype,"readonly",void 0),ht=Object(c["a"])([Object(u["a"])({components:{Card:f["a"],FieldColumnSetting:G,DataSourceSetting:ct}})],ht);var vt=ht,gt=vt,yt=(a("c001"),Object(x["a"])(gt,bt,mt,!1,null,"0fb8eff8",null)),Ot=yt.exports,jt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-form-model",{ref:e.formRef,attrs:{labelAlign:"right",rules:e.rules,model:e.field,"label-col":{span:6},"wrapper-col":{span:18}}},[a("Card",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" 基本属性 ")]},proxy:!0}])},[a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-model-item",{attrs:{"has-feedback":"",label:"标题",prop:"title"}},[a("a-input",{attrs:{type:"input",maxLength:e.INPUT_MAX_LENGTH_15,autocomplete:"off",disabled:e.readonly},model:{value:e.field.title,callback:function(t){e.$set(e.field,"title",t)},expression:"field.title"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"标识",prop:"code"}},[a("a-input",{attrs:{type:"input",maxLength:e.INPUT_MAX_LENGTH_15,autocomplete:"off",disabled:e.readonly},model:{value:e.field.code,callback:function(t){e.$set(e.field,"code",t)},expression:"field.code"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"提示",prop:"prompt"}},[a("a-input",{attrs:{type:"input",maxLength:e.INPUT_MAX_LENGTH_50,autocomplete:"off",disabled:e.readonly},model:{value:e.field.prompt,callback:function(t){e.$set(e.field,"prompt",t)},expression:"field.prompt"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"描述",prop:"description"}},[a("a-textarea",{attrs:{maxLength:e.INPUT_MAX_LENGTH_50,type:"input",autocomplete:"off",disabled:e.readonly},model:{value:e.field.description,callback:function(t){e.$set(e.field,"description",t)},expression:"field.description"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"占比",prop:"isRequired"}},[a("FieldColumnSetting",{attrs:{disabled:e.readonly},model:{value:e.field.cols,callback:function(t){e.$set(e.field,"cols",t)},expression:"field.cols"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"是否必填",prop:"isRequired"}},[a("a-switch",{attrs:{"checked-children":"是","un-checked-children":"否"},model:{value:e.field.isRequired,callback:function(t){e.$set(e.field,"isRequired",t)},expression:"field.isRequired"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"是否只读",prop:"isReadonly"}},[a("a-switch",{attrs:{"checked-children":"是","un-checked-children":"否"},model:{value:e.field.isReadonly,callback:function(t){e.$set(e.field,"isReadonly",t)},expression:"field.isReadonly"}})],1)],1)],1)],1),a("Card",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" 数据源 ")]},proxy:!0}])},[a("DataSourceSetting",{attrs:{field:e.field,disabled:e.readonly}})],1)],1)],1)},xt=[],At=function(e){Object(l["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.formRef="form",e.rules=e.readonly?{}:{title:[e.getRequireRule("请输入字段名称"),e.getNonSpaceRule()],code:[e.getRequireRule("请输入标识"),e.getUniqueRule(e.field,"标识重复"),e.getNonChineseRule(),e.getNonSpaceRule()],"setting.dataSourceType":[e.getRequireRule("请选择数据来源")],"setting.sourceTypeId":[e.getRequireRule("请选择基础参数")]},e}return a}(Object(u["d"])(Y));Object(c["a"])([Object(u["f"])()],At.prototype,"field",void 0),Object(c["a"])([Object(u["f"])()],At.prototype,"readonly",void 0),At=Object(c["a"])([Object(u["a"])({components:{Card:f["a"],FieldColumnSetting:G,DataSourceSetting:ct}})],At);var Et=At,kt=Et,Rt=(a("362f"),Object(x["a"])(kt,jt,xt,!1,null,"2d27bb0d",null)),Dt=Rt.exports,Ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-form-model",{ref:e.formRef,attrs:{labelAlign:"right",rules:e.rules,model:e.field,"label-col":{span:6},"wrapper-col":{span:18}}},[a("Card",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" 基本属性 ")]},proxy:!0}])},[a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-model-item",{attrs:{"has-feedback":"",label:"标题",prop:"title"}},[a("a-input",{attrs:{type:"input",autocomplete:"off",maxLength:e.INPUT_MAX_LENGTH_15,disabled:e.readonly},on:{change:function(t){e.field.value=e.field.title}},model:{value:e.field.title,callback:function(t){e.$set(e.field,"title",t)},expression:"field.title"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"标识",prop:"code"}},[a("a-input",{attrs:{type:"input",autocomplete:"off",maxLength:e.INPUT_MAX_LENGTH_15,disabled:e.readonly},model:{value:e.field.code,callback:function(t){e.$set(e.field,"code",t)},expression:"field.code"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"描述",prop:"description"}},[a("a-textarea",{attrs:{type:"input",autocomplete:"off",maxLength:e.INPUT_MAX_LENGTH_50,disabled:e.readonly},model:{value:e.field.description,callback:function(t){e.$set(e.field,"description",t)},expression:"field.description"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"占比",prop:"isRequired"}},[a("FieldColumnSetting",{attrs:{disabled:e.readonly},model:{value:e.field.cols,callback:function(t){e.$set(e.field,"cols",t)},expression:"field.cols"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"字号",prop:"style.fontSize"}},[a("a-radio-group",{attrs:{"button-style":"solid",disabled:e.readonly,size:"small"},model:{value:e.field.style.fontSize,callback:function(t){e.$set(e.field.style,"fontSize",t)},expression:"field.style.fontSize"}},e._l([12,14,16,18,20],(function(t){return a("a-radio-button",{key:t,attrs:{value:t}},[e._v(e._s(t))])})),1)],1)],1)],1)],1)],1)],1)},Mt=[],Pt=function(e){Object(l["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.formRef="form",e.rules=e.readonly?{}:{title:[e.getRequireRule("请输入标题"),e.getNonSpaceRule()],code:[e.getRequireRule("请输入标识"),e.getUniqueRule(e.field,"标识重复"),e.getNonChineseRule(),e.getNonSpaceRule()],defaultValue:[e.getRequireRule("请输入字段内容")]},e}return a}(Object(u["d"])(Y));Object(c["a"])([Object(u["f"])()],Pt.prototype,"field",void 0),Object(c["a"])([Object(u["f"])()],Pt.prototype,"readonly",void 0),Pt=Object(c["a"])([Object(u["a"])({components:{Card:f["a"],FieldColumnSetting:G}})],Pt);var wt=Pt,St=wt,Tt=(a("60bf"),Object(x["a"])(St,Ct,Mt,!1,null,"4b9dbe40",null)),It=Tt.exports,Nt=function(e){Object(l["a"])(a,e);var t=Object(s["a"])(a);function a(){return Object(r["a"])(this,a),t.apply(this,arguments)}return Object(o["a"])(a,[{key:"widgetType",get:function(){return this.widget&&this.widget.type?this.widget.type:"default"}},{key:"widgetPropertyComponentName",get:function(){return"".concat(this.widgetType,"Property")}}]),a}(u["h"]);Object(c["a"])([Object(u["f"])()],Nt.prototype,"widget",void 0),Object(c["a"])([Object(u["f"])()],Nt.prototype,"page",void 0),Object(c["a"])([Object(u["g"])("maxCols"),Object(u["f"])()],Nt.prototype,"maxCols",void 0),Nt=Object(c["a"])([Object(u["a"])({components:{DefaultProperty:T,LabelProperty:re,SingleTextProperty:X,MultipleTextProperty:pe,NumberProperty:we,DateProperty:Be,DateRangeProperty:ze,SelectProperty:_t,RadioProperty:Ot,CheckBoxProperty:Dt,DescriptionProperty:It}})],Nt);var Lt=Nt,Ut=Lt,Bt=(a("31cb"),Object(x["a"])(Ut,k,R,!1,null,"71f4e82e",null)),Wt=Bt.exports,Ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-skeleton",{attrs:{avatar:"",active:"",loading:e.loading}},[a("a-form-model",{ref:e.pageFormRef,attrs:{layout:"vertical",model:e.page}},[e._l(e.page.rows,(function(t,n){return a("a-row",{key:n,class:"p-form-row"},[e._l(t.fields,(function(n,i){return a("a-col",{key:i,class:"p-form-col",attrs:{span:6*n.cols}},[a("Container",{class:["p-field",n==e.selectItem?"p-selected-field":""],attrs:{fields:[n],row:t},on:{addField:e.handleAddField,removeField:e.handleRemoveField,selectedField:e.handleSelectField}},[a("a-tooltip",{attrs:{slot:"actions",placement:"bottom",title:"删除字段"},slot:"actions"},[a("a-icon",{staticClass:"text-right p-remove-icon",attrs:{type:"delete"},on:{click:function(a){return e.handleDeleteField(t,n)}}})],1)],1)],1)})),0===t.fields.length?a("a-col",{class:"p-form-col",attrs:{span:24},nativeOn:{click:function(a){return e.handleSelectRowClick(t)}}},[a("Container",{attrs:{fields:[],row:t},on:{addField:e.handleAddField}},[a("a-tooltip",{attrs:{slot:"actions",placement:"bottom",title:"删除行"},slot:"actions"},[e.page.rows.length>1?a("a-icon",{staticClass:"text-right p-remove-icon",attrs:{type:"delete"},on:{click:function(a){return e.handleDeleteRow(t)}}}):e._e()],1)],1)],1):e._e()],2)})),a("a-row",[a("a-col",{staticClass:"p-toolbar-add text-center",attrs:{span:24}},[a("a-tooltip",{attrs:{placement:"bottom"}},[a("template",{slot:"title"},[a("span",[e._v("添加行")])]),a("a-button",{attrs:{shape:"circle",icon:"plus",title:"添加行",size:"large"},on:{click:e.handleAddRow}})],2)],1)],1)],2)],1)},Vt=[],Gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("draggable",{attrs:{group:{name:"fields",pull:!0,put:e.fields.length<=1},filter:".undraggable",list:e.fields,sort:!0,ghostClass:"draggable-ghost",handle:".drag-item"},on:{add:e.handleAdd,change:e.changed}},[e._l(e.fields,(function(t,n){return[a("div",{key:n,class:"single-field-container drag-item"},["Description"===t.type?a("RenderField",{attrs:{field:t},nativeOn:{click:function(t){return e.handleFormItemClick(n)}}}):a("a-form-item",{key:n,class:"p-form-field "+(t.isRequired&&!t.isReadonly?"p-form-field-required":""),attrs:{label:e.displayName(t)},nativeOn:{click:function(t){return e.handleFormItemClick(n)}}},[a("RenderField",{attrs:{field:t}})],1)],1)]})),a("div",{staticClass:"p-field-actions"},[e._t("actions")],2),0===e.fields.length&&0===e.row.fields.length?a("div",{staticClass:"single-field-container p-empty-field"},[e._v(" 从左侧拖拽添加字段项 ")]):e._e()],2)},Kt=[],qt=a("b554"),zt=function(e){Object(l["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.updateState=!0,e}return Object(o["a"])(a,[{key:"readonly",get:function(){return this.field.isReadonly}},{key:"render",value:function(){var e=arguments[0];if(this.readonly)return e("span",{class:"readonly"},[this.field.value]);switch(this.field.type){case v["d"].Description:return this.renderDescription(this.field);case v["d"].Label:return this.renderLabel(this.field);case v["d"].SingleText:return this.renderSingleText(this.field);case v["d"].MultipleText:return this.renderMultipleText(this.field);case v["d"].Number:return this.renderNumber(this.field);case v["d"].Date:return this.renderDate(this.field);case v["d"].DateRange:return this.renderDateRange(this.field);case v["d"].Select:return this.renderSelect(this.field);case v["d"].Radio:return this.renderRadio(this.field);case v["d"].CheckBox:return this.renderCheckBox(this.field);default:throw new Error("组件类型错误")}}},{key:"renderDescription",value:function(e){var t,a=this,n=this.$createElement;return n(qt["c"],{attrs:{"font-size":null===(t=e.style)||void 0===t?void 0:t.fontSize},directives:[{name:"decorator",value:["".concat(e.code),{initialValue:e.title}]}],model:{value:e.title,callback:function(t){a.$set(e,"title",t)}}})}},{key:"renderLabel",value:function(e){var t=this.$createElement;return t(qt["d"],{directives:[{name:"decorator",value:["".concat(e.code),{initialValue:e.value}]}]})}},{key:"renderSingleText",value:function(e){var t,a=this.$createElement;return a("a-input",{attrs:{placeholder:e.placeHolder,"max-length":(null===(t=e.setting)||void 0===t?void 0:t.maxStringLength)||K["j"],disabled:e.isReadonly},directives:[{name:"decorator",value:["".concat(e.code),{rules:Object(q["f"])(e),initialValue:e.value}]}]})}},{key:"renderMultipleText",value:function(e){var t,a=this.$createElement;return a("a-textarea",{attrs:{rows:1,placeholder:e.placeHolder,disabled:e.isReadonly,maxLength:(null===(t=e.setting)||void 0===t?void 0:t.maxStringLength)||K["j"]},directives:[{name:"decorator",value:["".concat(e.code),{rules:Object(q["f"])(e),initialValue:e.value}]}]})}},{key:"renderNumber",value:function(e){var t,a=this.$createElement,n=K["l"],i=K["m"],r=2;return e.setting&&null!=e.setting.maxNumberValue&&(n=e.setting.maxNumberValue),e.setting&&null!=e.setting.minNumberValue&&(i=e.setting.minNumberValue),e.setting&&null!=e.setting.numberDigits&&(r=e.setting.numberDigits),a(qt["e"],{attrs:{maxNumberValue:n,minNumberValue:i,precision:r,placeholder:e.placeHolder,disabled:e.isReadonly,isPercentage:(null===(t=e.setting)||void 0===t?void 0:t.isPercentage)||!1},directives:[{name:"decorator",value:["".concat(e.code),{rules:Object(q["f"])(e),initialValue:e.value}]}]})}},{key:"renderDate",value:function(e){var t=this.$createElement;return t(qt["a"],{attrs:{placeholder:e.placeHolder,disabled:e.isReadonly},directives:[{name:"decorator",value:["".concat(e.code),{rules:Object(q["f"])(e),initialValue:e.value}]}]})}},{key:"renderDateRange",value:function(e){var t=this.$createElement;return t(qt["b"],{attrs:{placeholder:e.placeHolder,disabled:e.isReadonly},directives:[{name:"decorator",value:["".concat(e.code),{rules:Object(q["f"])(e),initialValue:e.value}]}]})}},{key:"renderSelect",value:function(e){var t=this.$createElement;return t("a-select",{attrs:{placeholder:e.placeHolder,disabled:e.isReadonly,mode:e.setting.isMultipleSelect?"multiple":"default"},directives:[{name:"decorator",value:["".concat(e.code),{rules:Object(q["f"])(e),initialValue:e.value}]}]},[Object(v["f"])(e).map((function(e){return t("a-select-option",{attrs:{value:e.value}},[e.text])}))])}},{key:"renderRadio",value:function(e){var t=this.$createElement;return t("a-radio-group",{attrs:{disabled:e.isReadonly},directives:[{name:"decorator",value:["".concat(e.code),{rules:Object(q["f"])(e),initialValue:e.value}]}]},[Object(v["f"])(e).map((function(e){return t("a-radio",{attrs:{value:e.value}},[e.text])}))])}},{key:"renderCheckBox",value:function(e){var t=this.$createElement;return t("a-checkbox-group",{attrs:{disabled:e.isReadonly},directives:[{name:"decorator",value:["".concat(e.code),{rules:Object(q["f"])(e),initialValue:e.value}]}]},[Object(v["f"])(e).map((function(e){return t("a-checkbox",{attrs:{value:e.value}},[e.text])}))])}}]),a}(u["h"]);Object(c["a"])([Object(u["f"])()],zt.prototype,"field",void 0),zt=Object(c["a"])([Object(u["a"])({components:{DatePicker:qt["a"],DateRangePicker:qt["b"],Label:qt["d"],Number:qt["e"],Description:qt["c"]}})],zt);var Yt=zt,Ht=function(e){Object(l["a"])(a,e);var t=Object(s["a"])(a);function a(){return Object(r["a"])(this,a),t.apply(this,arguments)}return Object(o["a"])(a,[{key:"handleAdd",value:function(){console.log("handleAdd")}},{key:"handleFormItemClick",value:function(e){this.$emit("selectedField",this.row,this.fields[e])}},{key:"changed",value:function(e){e.added?this.$emit("addField",this.row,e.added.element):e.removed&&this.$emit("removeField",this.row,e.removed.element)}},{key:"displayName",value:function(e){if(e.type===v["d"].Number&&e.setting&&e.setting.isPercentage)return e.title?"".concat(e.title,"（%）："):"";if(e.type===v["d"].Number&&e.setting&&e.setting.unit){var t=e.setting.unit?"（".concat(e.setting.unit,"）"):"";return e.title?"".concat(e.title).concat(t,"："):""}return e.title?"".concat(e.title,"："):""}}]),a}(u["h"]);Object(c["a"])([Object(u["f"])()],Ht.prototype,"fields",void 0),Object(c["a"])([Object(u["f"])()],Ht.prototype,"row",void 0),Ht=Object(c["a"])([Object(u["a"])({props:["fields","row"],components:{draggable:h.a,RenderField:Yt}})],Ht);var Zt=Ht,Jt=Zt,Qt=(a("eea5"),Object(x["a"])(Jt,Gt,Kt,!1,null,"604815b2",null)),Xt=Qt.exports,$t=a("ed3b"),ea=function(e,t,a,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"确认",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"取消";$t["a"].confirm({title:e,content:t,onOk:a,onCancel:n,okText:i,cancelText:r})},ta=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"确认";$t["a"].info({title:e,content:t,onOk:a,okText:n})},aa=function(e){Object(l["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.selectRow=null,e.selectItem=null,e.pageFormRef="pageForm",e.loading=!1,e}return Object(o["a"])(a,[{key:"handleAddRow",value:function(){var e=Object(Qe["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.page.rows.push({fields:[]});case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleSelectRowClick",value:function(){var e=Object(Qe["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.selectRow=t;case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleDeleteRow",value:function(){var e=Object(Qe["a"])(regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.fields.length>0?ea("提示","是否删除该行？",(function(){return a.deleteRow(t)})):this.deleteRow(t);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleAddField",value:function(){var e=Object(Qe["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.fields.length>=4)ta("提示","本行已有四列，禁止拖放");else try{this.addField(t,a)}catch(n){console.log("新增字段出错： "+n)}case 1:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"handleSelectField",value:function(){var e=Object(Qe["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.selectItem=a,this.$emit("selectedField",t,a);case 2:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"handleRemoveField",value:function(){var e=Object(Qe["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.deleteField(t,a);case 1:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"handleDeleteField",value:function(){var e=Object(Qe["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.deleteField(t,a);case 1:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"deleteRow",value:function(e){var t=this.page.rows.indexOf(e);-1!==t&&this.page.rows.splice(t,1)}},{key:"deleteField",value:function(e,t){var a=e.fields.indexOf(t);-1!==a&&e.fields.splice(a,1)}},{key:"addField",value:function(e,t){var a=this,n=Object(g["e"])(this.page);t.title=this.getTitle(n,t.title,t.title,1,t.id),t.code=this.getCode(n,t.code,t.code,1,t.id);var i=Object.assign({},t);e.fields.push(i),e.fields.map((function(e){return e.cols})).reduce((function(e,t){return e+t}))>4&&e.fields.forEach((function(t,n){t.cols=a.getColumns(e.fields.length,n+1)})),this.handleSelectField(e,i)}},{key:"getColumns",value:function(e,t){var a=3===e?4:e;return 3===e&&3===t?24/(6*a)*2:24/(6*a)}},{key:"getCode",value:function(e,t,a,n,i){var r=e.filter((function(e){return e.code===a&&e.id!==i})).length;return 0===r?a:this.getCode(e,t,t+n,n+1,i)}},{key:"getTitle",value:function(e,t,a,n,i){var r=e.filter((function(e){return e.title===a&&e.id!==i})).length;return 0===r?a:this.getTitle(e,t,t+n,n+1,i)}}]),a}(u["h"]);Object(c["a"])([Object(u["f"])()],aa.prototype,"page",void 0),aa=Object(c["a"])([Object(u["a"])({components:{draggable:h.a,Container:Xt}})],aa);var na=aa,ia=na,ra=(a("9d3f"),Object(x["a"])(ia,Ft,Vt,!1,null,"5370b839",null)),oa=ra.exports,la=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("vue-json-pretty",{staticClass:"text-left",attrs:{path:"res",data:e.graphData}})],1)},sa=[],ca=a("838b"),ua=a.n(ca),da=(a("b83f"),function(e){Object(l["a"])(a,e);var t=Object(s["a"])(a);function a(){return Object(r["a"])(this,a),t.apply(this,arguments)}return a}(u["h"]));Object(c["a"])([Object(u["f"])()],da.prototype,"graphData",void 0),da=Object(c["a"])([Object(u["a"])({components:{VueJsonPretty:ua.a}})],da);var pa=da,fa=pa,_a=(a("06cb"),Object(x["a"])(fa,la,sa,!1,null,"fd4fdabc",null)),ba=_a.exports,ma=a("c11b"),ha=a("69ad"),va=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-preview"},[a("Drawer",{attrs:{title:"界面预览"},on:{close:e.onClose}},[e.page?a("RenderPage",{attrs:{page:e.page}}):e._e()],1)],1)},ga=[],ya=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Drawer"},[a("a-drawer",{attrs:{title:e.title,width:e.width,visible:!0,"body-style":e.bodyStyle,closable:!0,destroyOnClose:!0},on:{close:e.onClose}},[e._t("default")],2)],1)},Oa=[],ja=function(e){Object(l["a"])(a,e);var t=Object(s["a"])(a);function a(){return Object(r["a"])(this,a),t.apply(this,arguments)}return Object(o["a"])(a,[{key:"onClose",value:function(){}}]),a}(u["h"]);Object(c["a"])([Object(u["f"])({default:"",type:String})],ja.prototype,"title",void 0),Object(c["a"])([Object(u["f"])({default:"65%",type:String})],ja.prototype,"width",void 0),Object(c["a"])([Object(u["f"])({default:function(){return{padding:"10px 15px"}},type:Object})],ja.prototype,"bodyStyle",void 0),Object(c["a"])([Object(u["b"])("close")],ja.prototype,"onClose",null),ja=Object(c["a"])([u["a"]],ja);var xa=ja,Aa=xa,Ea=Object(x["a"])(Aa,ya,Oa,!1,null,null,null),ka=Ea.exports,Ra=a("438a"),Da=function(e){Object(l["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.loading=!0,e}return Object(o["a"])(a,[{key:"onClose",value:function(){}}]),a}(u["h"]);Object(c["a"])([Object(u["f"])()],Da.prototype,"page",void 0),Object(c["a"])([Object(u["b"])("close")],Da.prototype,"onClose",null),Da=Object(c["a"])([Object(u["a"])({components:{Drawer:ka,RenderPage:Ra["a"]}})],Da);var Ca=Da,Ma=Ca,Pa=Object(x["a"])(Ma,va,ga,!1,null,null,null),wa=Pa.exports,Sa=function(e){Object(l["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.selectItem=null,e.selectItemMaxCols=null,e.dataVisible=!1,e.preview=!1,e}return Object(o["a"])(a,[{key:"handleSelectedField",value:function(e,t){this.selectItem=t;var a=e.fields.map((function(e){return e.cols})).reduce((function(e,t){return e+t}));this.selectItemMaxCols=4-a+t.cols,console.log("selectItemMaxCols",this.selectItemMaxCols)}},{key:"loadData",value:function(){this.page.name=ha.name,this.page.description=ha.description,this.page.rows=ha.rows}}]),a}(u["h"]);Object(c["a"])([Object(u["f"])()],Sa.prototype,"page",void 0),Object(c["a"])([Object(u["f"])()],Sa.prototype,"viewStyle",void 0),Sa=Object(c["a"])([Object(u["a"])({components:{Layout:p,Card:f["a"],WidgetPanel:E,PropertyPanel:Wt,PagePanel:oa,Dialog:ma["a"],DataPanel:ba,PagePreview:wa}})],Sa);var Ta=Sa,Ia=Ta,Na=(a("75cc"),Object(x["a"])(Ia,n,i,!1,null,"3260f598",null));t["a"]=Na.exports},"3a69":function(e,t,a){},"3b7e":function(e,t,a){"use strict";a("30e6")},"3c6e":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAAXNSR0IArs4c6QAABL5JREFUSA2tVVtsFVUUXTP31ZbWtiAqibxKWkXF1lpBUQnEaGIlIT6iRvkgUWP8AI0/oNEiMcZ+GA2EmBqjMZKg4isGDYHEB0UFH2DA+gKsVtoaQ8TQ29a29849rjXnzvTeYYAfd3Jm9pxz9lrn7NcAZxFjTILjJo6POKJykBMPcNSfBebMywRo5njXFPJ8GeMVjPlr2JjBrDGjOX8qePRQWXEmNOd0izRcDphXAWd63xDwxg/A7j7g+ChQMEB1GrjifODOS4BrLySKKXhw3OepPeE4zkQUN5aIJEu58X2Oui3fA517gQGSJVzALVqQC/kCUJUE7r0M6FgC1KQ4CTxNog5fK3mcQkSSc7i+m6Ol6wDwpDRKkiRxotuN5YEVTUDXzSI2WThOO8k+L90fZ76KG1r2DQLPfEHH8eN0JALSDat4kw8OA5u/5YTj1PC5lge299MmShkRF5Mw5i4tbPoaGKan5S6J4cknPEsscumaCySTAF47BBzLcsYUbuDzomBN7zIifjfAeJf3ngS+4Y1SNJYIUIQPtQI77rZDuuYCMumDw/T57zRw3Eo+2zhCYSjLpAFusvrw38CJsUmiHIkebAE2MOCBNDPjBL55P5DWFSl6HTruq3o0hxoVbi0TJQKGxoEcM0qG8s4UenvlAq2Uy0pmm9YCDzo0OEnbokwNFL2jRLy8rZEwAYgiwnR0J+eSdK3WAia5sTajCV/+CRS9o+a9KORHGqcB9RW2MIU0kmNRMauiokzTmmWzfAvOC3cdDDUqpxK5iZ8a64BWxiDIsgTJNjILVVeDzCoN6ZrTmm7l0dUzqoGlswVvGGFwx6SUJYNah/EmtsJNtT28ENg7YGOlWhnlyVW8z+2zxoqF5oNOMUGi+5kwM1VFxtuJd+7pmaSJ3GjWi6b+8e7UDhr9fN1M4NFFlkjBFqDilmVtaUgPSNQZ2ufZ9Gen+HfPH8ktdb9u8xMrIKO5lYZOUztage5xg7nLG5DpakdaCbB6Jxvqj0Bl2d0DK+ve+ecCb99mXffUHhQ27cdIxsFvVWNY0rvOYVWW3Ggsg3l0dhMrvGb7UaTX003y/7PLgMXszuM8dVTUVKexNDfeaEmUHC8dgMsD1gjLxywahcmQd3Gpk0QFaKx28gpz5uXv2L6ZfQKaVWvdGJCpmcp9OsiVM4Cv2EnWfmI7usM1YeUdsNKshESuweJgkhdBiiv6PXzWBzSy9F4g2RS6z1PAKDn2ukeYMLdfDPzJ6luzy/6rwvrjHkJc42+2Op/bTIJF1xoUnhYV6CEGfTUBethWls3mP+d6SzTMDLxjvk0WJcJjnwJHTrCoi71R9j6WMIVN8W90wQCYY5hj6LZS0a36h4B1BMoyne9j+q5pA25hhnXSZVrv6La/CLm7VIpYc4rYloinb6RPpys+Uamgu77sp/9JpuCv563evBWYyiTYyt+7fg1REh+De4XpJtCkbz9p6feFrss8od/jREBvMcUVl1XsyXLRh0eB10mieKqZxgoxvTyu4toun8hxsag0PnFGAn/vF7rpiAVXd5frgqKNsxEmM/BqrflEfPdbJ8ZuDydLgx3rrnBnUeFBeOVj+pKKSoMNJoePfT9o4v8QulOYwhbcf22mup51DgerAAAAAElFTkSuQmCC"},"3dc4":function(e,t,a){"use strict";a("67f6")},"3df4":function(e,t,a){},"3e2e":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAAXNSR0IArs4c6QAAAlJJREFUSA29lrtrFEEcxz97l1wivoIoBBUsfGBATJF/ILZGg5Wghdj5AAv/B3s7H4VoYRGxE7FRJJ12BsUEBMGo0aAganKK3l3G72/2dl1XMzcxIQO7OzuP7+f3mJldWKWSZJz+i26YCqf0vo2FrPU/nxU/b0Y6V2fPJ+P25kFtyN2km7XLhniGboK5BnXpHTJYl29POGsQ9zMbtTLPpCbNBmekNu6ddI6tK+ZJ0UZLgWmreI8Uv2BWXHFyqZ4nudSevzqhVNLQ5a1/V0yo0kFtIWRJWzII+t6Eo3vhwnDJAIEbrfR68wWO31FdMQnZEwRVlcHZOjyc/hPUlOjAJhhS9N9+hqagQYq6g6CaQI9mtGRe/wZp4dAS6PpICrrxFH4I1BNU6gAy+S7B7MqKhWhoCxxRSKc+wH15W6tmvYs/CxKLDyr2mEcn9qce3HwGX7X3klBy2pOXBLLc7NwIo3vg4zzcewndkQqRw1KzLDfHBmB9L9x6DtNzYAsmpkQO0wJQyLavE2gffFO4bk9pf0XP9kdfjD3pnjm8C/o3KGQvYPJTfNiMEGWTLYC+Hjg5qLNK4RublIdx9uWjokC2T0blze7N8OQ9PNYVs6RzSoxHcoY12owHdsArnQLXJqCuoyliRRc54ZPBRpqgwc49UNhUsZXX2+EUsHnlEj3F9pABYzZnGWLvPkcSiMrVUsPlgUkaZQ+Qle/iUP+yNdBm6k7aKmnoHJf0bT9o3/jwtzYgWu4yiP2cwGXryqPh/4SqnJYFy/9/MIhFqcWV7HfLYKtSfgGJF5pFXi+gfQAAAABJRU5ErkJggg=="},"3fd3":function(e,t,a){},"438a":function(module,__webpack_exports__,__webpack_require__){"use strict";var F_Avigator_test_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("ade3"),_vue_babel_helper_vue_jsx_merge_props__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("2638"),_vue_babel_helper_vue_jsx_merge_props__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_vue_babel_helper_vue_jsx_merge_props__WEBPACK_IMPORTED_MODULE_1__),F_Avigator_test_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("d4ec"),F_Avigator_test_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("bee2"),F_Avigator_test_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("262e"),F_Avigator_test_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("2caf"),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("159b"),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("4de4"),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("d81d"),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("99af"),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("7db0"),core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("a15b"),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_11__),tslib__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("9ab4"),vue_property_decorator__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("1b40"),_common_card_vue__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("21fc"),_common_model__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("1cf3"),_widgets_index__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("b554"),_common_validators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("da38"),_common_const__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("b2a4"),_common_utils__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("2516"),RenderInterface=function(_Vue){Object(F_Avigator_test_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__["a"])(RenderInterface,_Vue);var _super=Object(F_Avigator_test_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_5__["a"])(RenderInterface);function RenderInterface(){var e;return Object(F_Avigator_test_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["a"])(this,RenderInterface),e=_super.apply(this,arguments),e.formItemLayout={labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:18}}},e}return Object(F_Avigator_test_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__["a"])(RenderInterface,[{key:"fields",get:function(){var e=[];return this.page.rows.filter((function(e){return e.fields.length>0})).forEach((function(t){t.fields.forEach((function(t){e.push(t)}))})),e}},{key:"fieldFormulas",get:function(){return Object(_common_utils__WEBPACK_IMPORTED_MODULE_19__["c"])(this.page)}},{key:"beforeCreate",value:function(){this.form=this.$form.createForm(this)}},{key:"render",value:function(){var e=this,t=arguments[0];return t("div",{class:"renderInterface"},[t("a-form",{attrs:{hideRequiredMark:!1,form:this.form}},[this.page.rows.map((function(t){return e.renderRow(t)}))])])}},{key:"renderRow",value:function(e){var t=this,a=this.$createElement;return a("a-row",{attrs:{gutter:16}},[e.fields.map((function(e){return a("a-col",{attrs:{span:6*e.cols}},[a("a-form-item",_vue_babel_helper_vue_jsx_merge_props__WEBPACK_IMPORTED_MODULE_1___default()([{},t.formItemLayout]),[e.type!=_common_model__WEBPACK_IMPORTED_MODULE_15__["d"].Description?t.renderTitle(e):"",t.renderField(e)])])}))])}},{key:"renderField",value:function(e){var t,a,n,i,r=this,o=this.$createElement;switch(e.type){case _common_model__WEBPACK_IMPORTED_MODULE_15__["d"].Description:return o(_widgets_index__WEBPACK_IMPORTED_MODULE_16__["c"],{attrs:{"font-size":null===(t=e.style)||void 0===t?void 0:t.fontSize},directives:[{name:"decorator",value:["".concat(e.code),{initialValue:e.title}]}],model:{value:e.title,callback:function(t){r.$set(e,"title",t)}}});case _common_model__WEBPACK_IMPORTED_MODULE_15__["d"].Label:return o(_widgets_index__WEBPACK_IMPORTED_MODULE_16__["d"],{directives:[{name:"decorator",value:["".concat(e.code),{initialValue:e.value}]}]});case _common_model__WEBPACK_IMPORTED_MODULE_15__["d"].SingleText:return o("a-input",{attrs:{placeholder:e.placeHolder,"max-length":(null===(a=e.setting)||void 0===a?void 0:a.maxStringLength)||_common_const__WEBPACK_IMPORTED_MODULE_18__["j"],disabled:e.isReadonly},directives:[{name:"decorator",value:["".concat(e.code),{rules:Object(_common_validators__WEBPACK_IMPORTED_MODULE_17__["f"])(e),initialValue:e.value}]}]});case _common_model__WEBPACK_IMPORTED_MODULE_15__["d"].MultipleText:return o("a-textarea",{attrs:{rows:3,placeholder:e.placeHolder,disabled:e.isReadonly,"max-length":(null===(n=e.setting)||void 0===n?void 0:n.maxStringLength)||_common_const__WEBPACK_IMPORTED_MODULE_18__["j"]},directives:[{name:"decorator",value:["".concat(e.code),{rules:Object(_common_validators__WEBPACK_IMPORTED_MODULE_17__["f"])(e),initialValue:e.value}]}]});case _common_model__WEBPACK_IMPORTED_MODULE_15__["d"].Number:var l=_common_const__WEBPACK_IMPORTED_MODULE_18__["l"],s=_common_const__WEBPACK_IMPORTED_MODULE_18__["m"],c=2;return e.setting&&null!=e.setting.maxNumberValue&&(l=e.setting.maxNumberValue),e.setting&&null!=e.setting.minNumberValue&&(s=e.setting.minNumberValue),e.setting&&null!=e.setting.numberDigits&&(c=e.setting.numberDigits),o(_widgets_index__WEBPACK_IMPORTED_MODULE_16__["e"],{attrs:{maxNumberValue:l,minNumberValue:s,precision:c,placeholder:e.placeHolder,disabled:e.isReadonly,isPercentage:(null===(i=e.setting)||void 0===i?void 0:i.isPercentage)||!1},directives:[{name:"decorator",value:["".concat(e.code),{rules:Object(_common_validators__WEBPACK_IMPORTED_MODULE_17__["f"])(e),initialValue:e.value}]}],on:{formula:function(t){return r.handleFormulaEvent(t,e.code)}}});case _common_model__WEBPACK_IMPORTED_MODULE_15__["d"].Date:return o(_widgets_index__WEBPACK_IMPORTED_MODULE_16__["a"],{attrs:{placeholder:e.placeHolder,disabled:e.isReadonly},directives:[{name:"decorator",value:["".concat(e.code),{rules:Object(_common_validators__WEBPACK_IMPORTED_MODULE_17__["f"])(e),initialValue:e.value}]}]});case _common_model__WEBPACK_IMPORTED_MODULE_15__["d"].DateRange:return o(_widgets_index__WEBPACK_IMPORTED_MODULE_16__["b"],{attrs:{placeholder:e.placeHolder,disabled:e.isReadonly},directives:[{name:"decorator",value:["".concat(e.code),{rules:Object(_common_validators__WEBPACK_IMPORTED_MODULE_17__["f"])(e),initialValue:e.value}]}]});case _common_model__WEBPACK_IMPORTED_MODULE_15__["d"].Select:return o("a-select",{attrs:{placeholder:e.placeHolder,disabled:e.isReadonly},directives:[{name:"decorator",value:["".concat(e.code),{rules:Object(_common_validators__WEBPACK_IMPORTED_MODULE_17__["f"])(e),initialValue:e.value}]}]},[Object(_common_model__WEBPACK_IMPORTED_MODULE_15__["f"])(e).map((function(e){return o("a-select-option",{attrs:{value:e.value}},[e.text])}))]);case _common_model__WEBPACK_IMPORTED_MODULE_15__["d"].Radio:return o("a-radio-group",{attrs:{disabled:e.isReadonly},directives:[{name:"decorator",value:["".concat(e.code),{rules:Object(_common_validators__WEBPACK_IMPORTED_MODULE_17__["f"])(e),initialValue:e.value}]}]},[Object(_common_model__WEBPACK_IMPORTED_MODULE_15__["f"])(e).map((function(e){return o("a-radio",{attrs:{value:e.value}},[e.text])}))]);case _common_model__WEBPACK_IMPORTED_MODULE_15__["d"].CheckBox:return o("a-checkbox-group",{attrs:{disabled:e.isReadonly},directives:[{name:"decorator",value:["".concat(e.code),{rules:Object(_common_validators__WEBPACK_IMPORTED_MODULE_17__["f"])(e),initialValue:e.value}]}]},[Object(_common_model__WEBPACK_IMPORTED_MODULE_15__["f"])(e).map((function(e){return o("a-checkbox",{attrs:{value:e.value}},[e.text])}))])}}},{key:"renderTitle",value:function(e){var t=this.$createElement,a=e.title;e.type===_common_model__WEBPACK_IMPORTED_MODULE_15__["d"].Number&&e.setting&&(e.setting.isPercentage?a="".concat(e.title,"（%）"):e.setting.unit&&(a="".concat(e.title,"（").concat(e.setting.unit,"）")));var n=this.renderTip(e);return t("span",{slot:"label"},[a,n&&t("a-tooltip",{attrs:{title:n}},[t("a-icon",{attrs:{type:"question-circle-o"}})])])}},{key:"renderTip",value:function(e){var t=Object(_common_utils__WEBPACK_IMPORTED_MODULE_19__["d"])(e.expression,this.fields,!1),a="";e.prompt&&(a=e.prompt);var n="";return t&&e.prompt?n=e.prompt+"\r\n"+t:t&&""===a?n=t:a&&""===t&&(n=e.prompt),n}},{key:"handleFormulaEvent",value:function handleFormulaEvent(value,code){var _fieldFormula$formula,_this5=this,fieldFormula=this.fieldFormulas.find((function(e){return e.fieldCode===code}));fieldFormula&&(null===(_fieldFormula$formula=fieldFormula.formulas)||void 0===_fieldFormula$formula?void 0:_fieldFormula$formula.length)>0&&fieldFormula.formulas.forEach((function(code){var field=_this5.fields.find((function(e){return e.code===code}));if(field){var expression=[];field.expression.forEach((function(e){if(e.type===_common_model__WEBPACK_IMPORTED_MODULE_15__["a"].Field){var t=_this5.form.getFieldValue(e.value);expression.push(t||e.value)}else expression.push(e.value)}));var exp=expression.join("");try{console.log("".concat(field.title,"(").concat(field.code,")公式："),exp);var _value2=eval(exp);if(!isNaN(_value2)&&isFinite(_value2)){var _field=Object(F_Avigator_test_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["a"])({},code,_value2);_this5.form.setFieldsValue(_field)}else{var _field3=Object(F_Avigator_test_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["a"])({},code,"");_this5.form.setFieldsValue(_field3)}}catch(e){console.log("".concat(field.title,"(").concat(field.code,")计算错误："),e)}}}))}}]),RenderInterface}(vue_property_decorator__WEBPACK_IMPORTED_MODULE_13__["h"]);Object(tslib__WEBPACK_IMPORTED_MODULE_12__["a"])([Object(vue_property_decorator__WEBPACK_IMPORTED_MODULE_13__["f"])({default:function(){},type:Object,required:!0})],RenderInterface.prototype,"page",void 0),RenderInterface=Object(tslib__WEBPACK_IMPORTED_MODULE_12__["a"])([Object(vue_property_decorator__WEBPACK_IMPORTED_MODULE_13__["a"])({components:{Card:_common_card_vue__WEBPACK_IMPORTED_MODULE_14__["a"],DatePicker:_widgets_index__WEBPACK_IMPORTED_MODULE_16__["a"],DateRangePicker:_widgets_index__WEBPACK_IMPORTED_MODULE_16__["b"],Label:_widgets_index__WEBPACK_IMPORTED_MODULE_16__["d"],Number:_widgets_index__WEBPACK_IMPORTED_MODULE_16__["e"],Description:_widgets_index__WEBPACK_IMPORTED_MODULE_16__["c"]}})],RenderInterface),__webpack_exports__["a"]=RenderInterface},4486:function(e,t,a){"use strict";a("a0b7")},4609:function(e,t,a){"use strict";a("46c1")},4678:function(e,t,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=r,e.exports=i,i.id="4678"},"46c1":function(e,t,a){},"4d83":function(e,t,a){var n={"./cascader_icon.png":"e060","./checkbox_icon.png":"8046","./custom_icon.png":"13f3","./date_icon.png":"c083","./date_range_icon.png":"8ca1","./file_icon.png":"9946","./group_icon.png":"1483","./group_icon.svg":"2f0b","./image_icon.png":"74b4","./label_icon.png":"b1c0","./list_box_icon.png":"f29c","./map_icon.png":"3c6e","./multiple_text_icon.png":"58f3","./number_icon.png":"3e2e","./radio_icon.png":"62db","./rich_text_icon.png":"2ea6","./select_icon.png":"7adc","./single_text_icon.png":"f103","./switch_icon.png":"29c8","./table_icon.png":"6580","./tow_col_icon.png":"25b7","./tow_col_icon.svg":"2ebd","./tree_select_icon.png":"ba9b"};function i(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=r,e.exports=i,i.id="4d83"},"4ee9":function(e,t,a){},"500a":function(e,t,a){},"58f3":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAAXNSR0IArs4c6QAAAo5JREFUSA29VstqFEEUPT2PJCaLaIwQI25EEP/ARUDXMfhAdKMrXfjY+SXufGxENAsxhkCIS8G/EEHiQh1EEtTRJDrjTHlOdd90uron42RCLkx1961b55z7oKeBPbLIeCbuuTMo4Safj6Bt3h1eS/7cZ+I8+nI3eqMnT5SQLEVVjPRN4jm4kMw1sUa8GZFVvD/CHZG4hkXtzjUaIGYTt4kWEzmHySgplxOHX7YhYx2s5oXxti9MYgvJZ0S/p2nz1OMZ4PiBlMQ4DVg7dWZ+eR4YrgLPLwKD5TRed++/AdeXAO92sey4dEmcQI/tB04cTBwdLvU/bAGZK+zDScZWAyIJNoEGkSEq8/C1RWAgOVjh89wl4NA+4MJL4Ot6TNBm/r9bQGMDmHrm+254/trgnrC2WoZIGx9/xGqkqErFTYLq/sN3oPYrBVA2xMOnOpfAwmy0nSMqE0CmYIGZMN3rZ0pbDJgYARavAENB6d6tsocLWfAckWf5zyWiirEhDkOAMjqYBwhC8gGdPMpshT079YRZW9pJcIvltszt/I6JBKDyqoehaepC60qkMQ7VCUQ9OjwMvL7KHgUob1eAsy967NEqR1hERSoto5LGb4sVZRloSaNV9r8sy3kqUw82mtnMrEdTT9MzdidRYRU6EtmhdRLIwobLp4zWOryIw/gckSZGADkrdOaivEPV6JrR0dH0FVQM092rV1DtZzYuk5EmafYcX5Tj2aBenzR1p2e3mTqlvMx3mka6HxNGCOEzYiIeW8uNV6TooR+FgoizKTaKOT0RJ6Sm/3iZVxLKibd6X4XpiE2Le+Rwn//t0/qP382PE+jjBHggok3t/kuojFtUMNk3mTJRlVp4aJ9bItsT+wciealW7v9ynQAAAABJRU5ErkJggg=="},"5b95":function(e,t,a){},"5bbd":function(e,t,a){"use strict";a("d787")},"5c0b":function(e,t,a){"use strict";a("9c0c")},"5c13":function(e,t,a){},"5f6b":function(e,t,a){},"60bf":function(e,t,a){"use strict";a("7619")},"62db":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAAXNSR0IArs4c6QAAA0RJREFUSA3FVk1IVUEYPXPvU+i16Acqk9AiCiojKipIKIMWSYvW2c9WNCgUom37IEHCcmu4b1eLUikMSqggS6iFaOFPQT+LNHy+O50z9933e68vImrgvpl35vvOme+b785c4B81U02nvt+mgwUctgZHabuXDhvkY4HP7F4bi6deGs9n2s2C8KSWKLTlpl2V8XDeGHSQdb+pIQXZSxq9bYaIwcvAor82wMDHbrNYYpP7Eyu0ucfuCjz0ej5Oys5m9ZPzKO/IYPwQpN0jZHFlrtu8iTErhep7bHPgY9Ck0GiXSueq/XNRZzFlsjg302VGi+1LIqrrtbuZ8/vw0WCXi81+f8wFglFNc09b5y6bt5GnFw20JwhwC6k/FxGXWyA5xOU4cwJ5oazBBa7mhNvcSD2m11YlbVdkLg5xiTPCnNCmG3Y1gc4IjOuXAyDDp5YeejQWVqV16vWQjTIq9UM2hSbmNraJdOsaoOMA0NIYmoxMAXdeAJPfgZp8XgrurlLJaX/iCNFhJ2Q9NLOUfTdZsHUjrXrbWmDwDLBzfWFy+zrgWANw9h4wRbFUuRjzy7L3ufhmCblpll5TUuItHRRJsUgkt4PCnQe5Z0mbRpzVt0f24Tos6uKE5J/midDClSe145yTTayWQHGzlQecxJeIh1yJ0xJi8iMhgzmeVxVN0AJLdWS6YioPPObcoso5jxQNCPKsnBfiIuKqxuMtnSFus7refSkiyA3fE9McyeJbiLvTISzvAKOsuCzF/PJkq5omvwFtrK4Obrz2iyc1nnwIRTQXV95aeI7TnXlheS9jjHzjqMG+uDNORCrha0PceHpoXxZ5FmrBsSLE3YmewbhJ45nCdambv2p+cNwnIKkpMpEucWv1Amtc8e5UOvdFF6IT0rxvcZfRDLmjvtIhjyiKMPV5qGIgDnINizOaLPHRhccYH/yNa4KH26nZS2YiEspHJGC2y0yYAG2s/KlqkUUExb3zkS85ikVkUyIkwN2MWbSyBh/qEtOzYq6Yk8iO18MQU3a6/HYVb0nqBERNl1bWw0WeVe0ssxU/TliFrzyDfvMVAzPX47+GEoUiQd1V7hopfG5t1BzJP7Fzn1uMYixXuZHb/+t/AcdlE2qegbGFAAAAAElFTkSuQmCC"},6580:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAAXNSR0IArs4c6QAAAsRJREFUSA3dVU1PFEEQfTXD7kIwMWyEBSIH9STwB7x556j+A4mJCYImJh6MDMYDiYkKJJz8B+rNePZHAJ4UEgyy+AExIuwws+WrHgYXmdmQsF6opDP9UfVedffrGuC0mdiGzj3XPt/HFAfDqLdoix6gwEIcY/LbXfnSZrC+h8AvYVT3OKBDq8wr4Ap2jQ+3HBF3MWQkGrWKogGH2DZy+fPIWnVgDQxJN8Vu4UEd4Tg04Yh4iP+NMMV2dySC7/CZQHwoiZMPiCkRsWmJ6towHUe4xPFFp5GTU5DBieuTT2yD4zCxylPt1ALOpON/vxpCuH7gb+uyB5Vifmpc/1W9L9vmm8ibneo2dvr78oO6thAtBhJaUGpDgRY3z/7FSOfT79oWX9G+uQwrMzrMe5onzWAmFb3Ew1eN8Wh9Ql5ZbO8LvSE+Hmsd3Xkx3P+SKm5Xx2XBETHotdeOa/Vayn/0K9w7H/Uq22VblQI+sA00e+ReiQ90F2+Y3PXk6BT9LsCKRY7tA5ZLEYrmEhZQPlYMsc0/qQyCFcvYjWwmozF7s42ohpo19qtuLsM3jTdMXsmKBbod8fymqKoyx4OZxcjAYt5RHcFaIL8tsDKrExIjYLc7L4aYS4Zt/u6OrOMsUIPMtkCy6+ExYw6Izj/TctiGrmwWoCTYWR2Ttcb1gTntryk6Guca+8UIm5/vyQ+bc0S9c3qV/Zc8ngs2mWWU8mZd8aR6BzO2XpnFuCd4SMnnJseytkzXm+tj8j4hmtG3fOEj2kTe+7VwIy64UgU/xEfecE+z+iiUNzHfUd4jTgx8VF282OaW3FBnx084/YUd6MwUQSMKMQ3bppLLFyyYVJ0cTZJZzb0eLHs17Fhj7DJPIds3jbeUiG1EbkftlG24C0+Fv90sbTEdam6DmpxeCcTVL8p7lEXzAd94T14MK91iu2LSiE6f/QFhoumGqIcQkwAAAABJRU5ErkJggg=="},"66c7":function(e,t,a){},"66e1":function(e,t,a){},"67f6":function(e,t,a){},"69ad":function(e){e.exports=JSON.parse('{"name":"","description":"","rows":[{"fields":[{"id":"fae42340-552e-e231-fd63-95f1f14d120d","code":"group1","type":"Description","name":"a-description","icon":"label_icon.png","title":"基本信息","placeHolder":"","cols":4,"prompt":"","description":"","isRequired":false,"isReadonly":false,"style":{"fontSize":20},"setting":{"isMultipleSelect":false},"expression":[],"value":"基本信息"}]},{"fields":[{"id":"1f217e5f-8bde-c6a4-a585-f4d3117e5767","code":"field0","type":"Label","name":"label","icon":"label_icon.png","title":"静态文本","placeHolder":"","cols":4,"prompt":"","description":"","isRequired":false,"isReadonly":false,"style":{"fontSize":14},"setting":{"isMultipleSelect":false},"expression":[],"value":null}]},{"fields":[{"id":"ce93c2c9-9b6b-4736-aa3a-fb48492d8d7a","code":"fields1","type":"SingleText","name":"a-input","icon":"single_text_icon.png","title":"单行输入","placeHolder":"","cols":4,"prompt":"","description":"","isRequired":true,"isReadonly":false,"style":{"fontSize":14},"setting":{"isMultipleSelect":false},"expression":[],"value":null}]},{"fields":[{"id":"3d24942e-aff4-de0c-1d4d-73fc2958abc9","code":"fields2","type":"MultipleText","name":"a-textarea","icon":"multiple_text_icon.png","title":"多行输入","placeHolder":"","cols":4,"prompt":"","description":"","isRequired":true,"isReadonly":false,"style":{"fontSize":14},"setting":{"isMultipleSelect":false},"expression":[],"value":null}]},{"fields":[{"id":"439339c9-9407-8730-722c-9b6ba8a8e915","code":"fields3","type":"Number","name":"a-input-number","icon":"number_icon.png","title":"数字","placeHolder":"","cols":4,"prompt":"","description":"","isRequired":true,"isReadonly":false,"style":{"fontSize":14},"setting":{"isMultipleSelect":false},"expression":[],"value":null}]},{"fields":[{"id":"9071e70a-2d17-122d-ca7a-b841073245ce","code":"fields4","type":"Date","name":"a-date-picker","icon":"date_icon.png","title":"日期","placeHolder":"","cols":4,"prompt":"","description":"","isRequired":true,"isReadonly":false,"style":{"fontSize":14},"setting":{"isMultipleSelect":false},"expression":[],"value":null}]},{"fields":[{"id":"42e9fd83-415f-5e2a-e87c-e685a6eaf3c8","code":"fields5","type":"DateRange","name":"a-range-picker","icon":"date_range_icon.png","title":"日期区间","placeHolder":"","cols":4,"prompt":"","description":"","isRequired":true,"isReadonly":false,"style":{"fontSize":14},"setting":{"isMultipleSelect":false},"expression":[],"value":null}]},{"fields":[{"id":"78d86bfc-ee0e-a7b4-0eb1-c6f65e6dd7ab","code":"group2","type":"Description","name":"a-description","icon":"label_icon.png","title":"高级属性","placeHolder":"","cols":4,"prompt":"","description":"","isRequired":false,"isReadonly":false,"style":{"fontSize":20},"setting":{"isMultipleSelect":false},"expression":[],"value":"高级属性"}]},{"fields":[{"id":"8bb9c039-3c78-b2fe-4eb6-1703a157cff2","code":"fields6","type":"Select","name":"a-select","icon":"select_icon.png","title":"下拉选择","placeHolder":"","cols":4,"prompt":"","description":"","isRequired":true,"isReadonly":false,"style":{"fontSize":14},"setting":{"isMultipleSelect":false,"dataSourceType":"Simple","options":[{"text":"选项1","value":"选项1"},{"value":"选项2","text":"选项2"}]},"expression":[],"value":null}]},{"fields":[{"id":"1777db72-eb60-7fe6-2bd4-0f02ef28c904","code":"fields7","type":"Radio","name":"a-radio-group","icon":"radio_icon.png","title":"单项选择","placeHolder":"","cols":4,"prompt":"","description":"","isRequired":true,"isReadonly":false,"style":{"fontSize":14},"setting":{"isMultipleSelect":false,"dataSourceType":"Simple","options":[{"text":"选项1","value":"选项1"},{"value":"选项2","text":"选项2"}]},"expression":[],"value":null}]},{"fields":[{"id":"a9a1e712-7854-2d2e-722b-54335a829d27","code":"fields8","type":"CheckBox","name":"a-checkbox-group","icon":"checkbox_icon.png","title":"多项选择","placeHolder":"","cols":4,"prompt":"","description":"","isRequired":true,"isReadonly":false,"style":{"fontSize":14},"setting":{"isMultipleSelect":false,"dataSourceType":"Simple","options":[{"text":"选项1","value":"选项1"},{"value":"选项2","text":"选项2"}]},"expression":[],"value":null}]}]}')},"6c4f":function(e,t,a){},"6d70":function(e,t,a){"use strict";a("e75d")},"6dca":function(e,t,a){"use strict";a("3df4")},"6dd7":function(e,t,a){},"73c5":function(e,t,a){"use strict";a.r(t);var n,i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"avigator-designer-view"},[a("div",{staticClass:"content"},[a("a-row",[a("a-col",{attrs:{span:"4"}},[e._t("navigator_back")],2),a("a-col",{attrs:{span:"16"}},[a("a-steps",{style:e.stepStyle,attrs:{type:"navigation"},model:{value:e.current,callback:function(t){e.current=t},expression:"current"}},[a("a-step",{attrs:{status:e.getStatus(0),title:"表单设计"}}),a("a-step",{attrs:{status:e.getStatus(1),title:"流程设计"}}),a("a-step",{attrs:{status:e.getStatus(2),title:"列表设计"}}),a("a-step",{attrs:{status:e.getStatus(3),title:"权限设计"}}),a("a-step",{attrs:{status:e.getStatus(4),title:"应用发布"}})],1)],1),a("a-col",{attrs:{span:"4"}})],1),0===e.current?a("div",[a("Form",{attrs:{page:e.app.page,viewStyle:{height:e.height}}})],1):e._e(),1===e.current?a("div",[a("Flow",{attrs:{isSilentMode:!1,viewStyle:{height:e.height},controlStyle:e.flowControlStyle,nodeStyle:{left:"15px"}},scopedSlots:e._u([{key:"permission",fn:function(t){var n=t.data;return[e._v(" "+e._s(n&&n.id)+" "),n&&n.id?a("Permission",{attrs:{id:n.id},model:{value:e.app.permissions,callback:function(t){e.$set(e.app,"permissions",t)},expression:"app.permissions"}}):e._e()]}}],null,!1,256807737),model:{value:e.app.flow,callback:function(t){e.$set(e.app,"flow",t)},expression:"app.flow"}})],1):e._e(),2===e.current?a("div",[a("List",{attrs:{data:e.app.list,viewStyle:{height:e.height}}})],1):e._e(),3===e.current?a("div",[a("Auth",{attrs:{data:e.app.auth,viewStyle:{height:e.height}}})],1):e._e(),4===e.current?a("div",[a("App",{attrs:{app:e.app,viewStyle:{height:e.height}}})],1):e._e()],1)])},r=[],o=a("d4ec"),l=a("bee2"),s=a("262e"),c=a("2caf"),u=a("9ab4"),d=a("1b40"),p=a("006b"),f=a("b310"),_=a("39ec"),b=a("7d5f"),m=a("c119"),h=(a("159b"),a("4de4"),a("e3d8")),v=a("1cf3"),g=function(e){if(!e||!e.page)return[];var t=[];return e.page.rows.filter((function(e){return e.fields.length>0})).forEach((function(e){e.fields.forEach((function(e){var a=null;switch(e.type){case v["d"].Description:break;case v["d"].Label:break;case v["d"].SingleText:case v["d"].MultipleText:a={key:e.code,name:e.title,type:h["m"].String};break;case v["d"].Number:a={key:e.code,name:e.title,type:h["m"].Number};break;case v["d"].Date:break;case v["d"].DateRange:break;case v["d"].Select:a={key:e.code,name:e.title,type:h["m"].Select};break;case v["d"].Radio:a={key:e.code,name:e.title,type:h["m"].RadioBox};break;case v["d"].CheckBox:a={key:e.code,name:e.title,type:h["m"].CheckBox};break;default:throw new Error("field type enum error")}a&&t.push(a)}))})),t},y=function(e){if(!e||!e.page)return[];var t=[];return e.page.rows.filter((function(e){return e.fields.length>0})).forEach((function(e){e.fields.forEach((function(e){var a={id:e.id,title:e.title};t.push(a)}))})),t},O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"p-20"},e._l(e.permissionsData,(function(t,n){return a("a-row",{key:n,attrs:{gutter:[16,16]}},[a("a-col",{attrs:{span:"6"}},[e._v(e._s(e.getFieldTitle(t.id)))]),a("a-col",{attrs:{span:"6"}},[a("a-radio-group",{model:{value:t.type,callback:function(a){e.$set(t,"type",a)},expression:"perm.type"}},e._l(e.PermissionTypeOptions,(function(t,n){return a("a-radio",{key:n,attrs:{value:t.value}},[e._v(e._s(t.text))])})),1)],1)],1)})),1)},j=[];a("7db0"),a("c740"),a("a434");(function(e){e["Editable"]="Editable",e["VisibleOnly"]="VisibleOnly",e["Hidden"]="Hidden"})(n||(n={}));var x=[{value:n.Editable,text:"可编辑"},{value:n.VisibleOnly,text:"仅可见"},{value:n.Hidden,text:"隐藏"}],A=function(e){Object(s["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.PermissionTypeOptions=x,e.permissionsData=[],e}return Object(l["a"])(a,[{key:"valueChanged",value:function(){var e=this,t=this.permissions.find((function(t){return t.key===e.id})),a=this.provider.fields,i=[];if(a.forEach((function(e){var a=t?t.permissions.find((function(t){return t.id===e.id})):null;a?i.push({id:e.id,type:a.type}):i.push({id:e.id,type:n.Editable})})),t){var r=this.permissions.findIndex((function(e){return e===t}));this.permissions.splice(r,1)}this.permissions.push({key:this.id,permissions:i}),this.permissionsData=i}},{key:"getFieldTitle",value:function(e){var t=this.provider.fields.find((function(t){return t.id===e}));return t?t.title:e}}]),a}(d["h"]);Object(u["a"])([Object(d["c"])("permissionsProvider")],A.prototype,"provider",void 0),Object(u["a"])([Object(d["f"])()],A.prototype,"id",void 0),Object(u["a"])([Object(d["f"])({default:function(){return[]}})],A.prototype,"permissions",void 0),Object(u["a"])([Object(d["i"])("id",{immediate:!0,deep:!0})],A.prototype,"valueChanged",null),A=Object(u["a"])([Object(d["a"])({model:{prop:"permissions",event:"change"},components:{}})],A);var E=A,k=E,R=(a("0650"),a("2877")),D=Object(R["a"])(k,O,j,!1,null,"31d22304",null),C=D.exports,M=function(e){Object(s["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.height="calc(100vh - 120px)",e.current=0,e.stepStyle={boxShadow:"0px -1px 0 0 #e8e8e8 inset"},e.flowControlStyle={position:"absolute",top:"10px",right:"10px","z-index":"2"},e.app={id:"",title:"发票管理",description:"发票管理",page:{name:"",description:"",rows:[{fields:[]}]},permissions:[],flow:{nodes:[],edges:[]},list:{},auth:{}},e.roles=[{value:"ProjectManager",text:"项目经理"},{value:"DepartmentManager",text:"部门经理"},{value:"Cash",text:"出纳"},{value:"Ceo",text:"总裁"}],e.users=[{value:"user001",text:"用户1"},{value:"user002",text:"用户2"},{value:"user003",text:"用户3"}],e.flowFormProvider={fields:[]},e.permissionsProvider={fields:[]},e}return Object(l["a"])(a,[{key:"getStatus",value:function(e){return this.current>=e?"process":"wait"}},{key:"appDataChanged",value:function(){this.flowFormProvider.fields=g(this.app),this.permissionsProvider.fields=y(this.app)}}]),a}(d["h"]);Object(u["a"])([Object(d["g"])()],M.prototype,"roles",void 0),Object(u["a"])([Object(d["g"])()],M.prototype,"users",void 0),Object(u["a"])([Object(d["g"])()],M.prototype,"flowFormProvider",void 0),Object(u["a"])([Object(d["g"])()],M.prototype,"permissionsProvider",void 0),Object(u["a"])([Object(d["i"])("app",{immediate:!0,deep:!0})],M.prototype,"appDataChanged",null),M=Object(u["a"])([Object(d["a"])({components:{Form:_["a"],Flow:f["a"],List:b["a"],Auth:m["a"],App:p["a"],Permission:C}})],M);var P=M,w=P,S=(a("3b7e"),Object(R["a"])(w,i,r,!1,null,"67b1d842",null));t["default"]=S.exports},"74b4":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAAXNSR0IArs4c6QAAAqtJREFUSA3tVklrU1EYPffl5VHTKA7QpjVgW4lWEIdaFAW1DtWVA1IL7luL4lBx5UbEYaMgcaM/QlHQjeiiO8GFOzfGiBuRomAVNZrpvZ4vb07SljRZid/mvXfz3XO+8w33BvjXTImgxD1rn6ZwxjSRbKVATcMn08KD6YtqSnWlrcOWwiMVRRxmK2mIpQFWEb+UhRHVmbYySkOq5SRuzEJm4r0WJKFMFB1VZT5LrVBIDKWQ0l0lQtJuAJe2A8O9wLtvwO1XQIZPnVE1ZcTWXQCJ/tw24PygvdK/ik3SDow+Bv6WmO5K27jejT+9WAVoaE0YYKAT6IgBorZZ84ikHG+/huE+/gC+5xdWI/VcKBiPKEJFd18Dzz8APws26ZUpYObP/ET5MnBqI7Cpw2+kcLj2l0qkLS8xElk0AqxoA34XbcKoE4o4VZepQJLNTO+zUeBphjV+ARhe6GG60HKEX2UifskBORJ5JFyTcPyQbL84u/TWELs1ChxZR9J5VIWIJAaJWtLodpl03HGCXN9TmQevFiWqubwD2LladgFxko1v4YtIr2M1REEfGd7USuDqbmBiwCGjQ47kB3uB01uD3sAxUcVUFriv2uYkkjQZrNfNvUD3UnvbOIGvUVnPMuAG19u8KbR/j1HVGFXxbKuxOYmkmyYIfKgvvEfWnpwE1nOg69lRR1WR+4NWlyjP1OxK2jUIOss7zy30La9e9b+lMURVtagaIhm8RBy4c4AFNnyARt5O9AODXeG50uXOcA9WAZP2HtkALGH+szONwPu+0rn7e4A3084aF2RgsyRbGyST01qGtxmT8ZCgK0LKyOocnAtM6ENlIOaSsUS2QxNM0gu86+SG5fhjUlSiO20NWxrO8iZM1lRRHBZjki7+Z1Am7n+eVC8XA/F/TyUDs+t7wjBVDGmZAAAAAElFTkSuQmCC"},"75cc":function(e,t,a){"use strict";a("6c4f")},7619:function(e,t,a){},7759:function(e,t,a){"use strict";a("d101")},"785e":function(e,t,a){"use strict";a("23db")},"7a98":function(e,t,a){"use strict";a("6dd7")},"7adc":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAAXNSR0IArs4c6QAAAnVJREFUSA3dVT1vE0EQfXvn2OZDogjfokCCAslAgZQCpeEv8AMoUaoUkZAgorCRgJRQUkBBgUQD/ABEIiFEFQmC4qBI0NBYOE4RoQTHiW95b/fOmLMjuCMNjGTv7ezMezuzs7PA/yZGAR28Z4+FIW5xchbRLoUYABZY7HZRbU2ZRkGwYYBaWMJVu8UJDbIIwYaKIghGcBFt8WHCETGKikjs9lCfHZUOjH9dQSWMnBcSnTyJrcERUZ85YcIN6HjnEjB+IiajLqTu0Xvg4QJQ5DzBzpgoesZCAGx2gccfgNG9wJlR//vWAZ4ve8LEVmNuIjmP0PvdV2B61meutQFMvQRWv/toZZOIP6NklmMsE+EZIzh/BFheBRaawJ4hqE7FfCvduUR+BUZ2+42PKk0ibAF77gBN98Wc5xGRqTgGNiv0bawI0xEZixl0cJLzU70y1WoGGSCRooPPHO4Kprdeqdni+gGwfnZP9q1ho14zrMO/rLosW3IRHb1vxxDiAa/t6bypGyAVcoBPHCYak2benZE1mGZfumA3udhL5oDrUMUv7Se2MMRQqRliRm3c5OdlX3URDrM6fvar2OF3g+7E8f0pK+q2WL1NXl7jMQ/Jwlddzl6naCbHgCvn2Ov6uuWNOd+aSkQnr1txlym1pz+aEgARIWbeAku8KcXQ/16wSzxZ9O2pHyg3kUD4jmGFKbr2CljnM/OxBVRfcwOMVOfUL/6M+jUZv0uMZL4BXGdj/bLmz0a6tDgibiB3rxOg0vZ0yVdamkTYsvERBaizFMelyCt65NJCTPU6biEmKkeoddoIeJ8q2d/aNHw8Vxxt1MsW1R0s/nH1DxRhnzO5eKE6AAAAAElFTkSuQmCC"},"7c7e":function(e,t,a){"use strict";a("86ba")},"7d5f":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"avigator-list-view",style:e.viewStyle},[a("SettingComponent",{attrs:{data:{}}})],1)},i=[],r=a("d4ec"),o=a("262e"),l=a("2caf"),s=a("9ab4"),c=a("1b40"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-form-model",{ref:e.formRef,attrs:{labelAlign:"right",rules:e.rules,model:e.data,"label-col":{span:2},"wrapper-col":{span:10}}},[a("a-card",{attrs:{type:"inner",bordered:"",hoverable:""},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" 数据列表设置 ")]},proxy:!0}])},[a("a-row",[a("a-col",{attrs:{span:24}},[e._v(" 数据列表 ")])],1)],1)],1)],1)},d=[],p=function(e){Object(o["a"])(a,e);var t=Object(l["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.formRef="form",e.INPUT_MAX_LENGTH_15=15,e.INPUT_MAX_LENGTH_50=50,e.rules=e.readonly?{}:{title:[{required:!0,message:"请输入标题"}]},e}return a}(c["h"]);Object(s["a"])([Object(c["f"])()],p.prototype,"readonly",void 0),Object(s["a"])([Object(c["f"])()],p.prototype,"data",void 0),p=Object(s["a"])([Object(c["a"])({components:{}})],p);var f=p,_=f,b=a("2877"),m=Object(b["a"])(_,u,d,!1,null,"5425f896",null),h=m.exports,v=function(e){Object(o["a"])(a,e);var t=Object(l["a"])(a);function a(){return Object(r["a"])(this,a),t.apply(this,arguments)}return a}(c["h"]);Object(s["a"])([Object(c["f"])()],v.prototype,"viewStyle",void 0),v=Object(s["a"])([Object(c["a"])({components:{SettingComponent:h}})],v);var g=v,y=g,O=(a("2fe8"),Object(b["a"])(y,n,i,!1,null,"d4fe9942",null));t["a"]=O.exports},"7eb7":function(e,t,a){},8046:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAAXNSR0IArs4c6QAAAkBJREFUSA29lr9LW1Ecxc9LYlpQXFzUomu3TlUrLtLBofSPcLMKIkoJlGx2ER2kHaotXbqrOHSsGLAQNxWFanFUkZZWULI0ic9z7s2V6Es0yUt6Ibnv/jqf749773vAfyqe47TP+4OIYITtR7h0vTXWEbPumDofTye9lFoGVIB89ZrQHBpiGPwjzM8iQ72XgsVMv4cxQfx/blZ9ai9OzSxGqZYyTvo+OuvmSbGNSoG0WQyI8QublWL5m88+UQ50c6QxLZujkNoyOV+ISczuuIBime7AvLIdzK+BTPQAw0+YAxOo4PRQHgmS42+yF0gOAJkskD4CDv4Ctz0rCZJRzrIId8r1qS4y9DYky9C9/Q4cngUhWlYydOocfwq87rNAB3UctXMUdp4IkkwBn7Y4o5RV7A54JIHHbVakJW6l5zZtLe8EyStcNELhcpDP20A8WpYT9Eix/fmHQt9szBP9wBsKGgCN0O5Sn4Hk+bwG3AeRmQGP1BklbOkHDzUtfz8ETDHZOnYzaUC7K/HMepJYB77s3u2J9FRKgjTwkCMr+zYU7wRjqAa6gN6OAoSeVAq5E6TBB4QtE6YEzz4nnDk458U7vVEd5F6Qg60ecNvybBxdAN2twN7vysKl9a6UDZ2boFobZJfiUXq28wtoYrvaUhFIok5cW7yWUoNttWAKNwN3buOAnr0rDMDzcNIQlNR9arPYHPn4wHf7C73j6/auFUQfJ8CCQNepNV9CUbwy73heM6GKIIpSHovucyuUXjWLrwAo8638LUyU8wAAAABJRU5ErkJggg=="},"80bb":function(e,t,a){},8465:function(e,t,a){},"84bc":function(e,t,a){"use strict";a("192f")},"86ba":function(e,t,a){},8897:function(e,t,a){"use strict";a("3a69")},"8ca1":function(e,t,a){e.exports=a.p+"img/date_range_icon.b3bf4da7.png"},"8d8c":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-select",{staticClass:"expSource",attrs:{showArrow:"",showSearch:"",filterOption:!1,placeholder:"搜索",value:e.selectValue},on:{search:e.fetchData,change:e.onChange}},[e.fetching?a("a-spin",{attrs:{slot:"notFoundContent",size:"small"},slot:"notFoundContent"}):e._e(),e.options.filter((function(e){return"Field"===e.type})).length>0?a("a-select-opt-group",{attrs:{label:"字段"}},e._l(e.options.filter((function(e){return"Field"===e.type})),(function(t){return a("a-select-option",{key:t.value},[e._v(e._s(t.name+(t.unit?"（"+t.unit+"）":"")))])})),1):e._e(),e.options.filter((function(e){return"Number"===e.type})).length>0?a("a-select-opt-group",{attrs:{label:"自定义"}},e._l(e.options.filter((function(e){return"Number"===e.type})),(function(t){return a("a-select-option",{key:t.value},[e._v(e._s(""+t.name))])})),1):e._e(),e.options.filter((function(e){return"Ops"===e.type})).length>0?a("a-select-opt-group",{attrs:{label:"运算"}},e._l(e.options.filter((function(e){return"Ops"===e.type})),(function(t){return a("a-select-option",{key:t.value},[e._v(e._s(""+t.name))])})),1):e._e()],1)},i=[],r=a("1da1"),o=a("d4ec"),l=a("bee2"),s=a("262e"),c=a("2caf"),u=(a("96cf"),a("d81d"),a("b0c0"),a("99af"),a("159b"),a("4de4"),a("caad"),a("2532"),a("9ab4")),d=a("b2a4"),p=a("1cf3"),f=a("1b40"),_=a("21fc"),b=a("c11b"),m=function(e){Object(s["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.selectValue=[],e.data=[],e.options=[],e.exps=[],e.loading=!0,e.fetching=!1,e}return Object(l["a"])(a,[{key:"created",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,t=this.fields.map((function(e){return Object({type:p["a"].Field,value:e.code,name:e.name,unit:e.setting.unit})}),[]),this.data=t.length>0?[{type:p["a"].Number,value:"custom_number",name:"数字"}].concat(t).concat(this.operations):[],e.next=5,this.fetchData();case 5:this.value&&(this.selectValue=this.value),this.loading=!1;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"fields",get:function(){var e=this,t=[];return this.page.rows.filter((function(e){return e.fields.length>0})).forEach((function(a){a.fields.filter((function(t){return t.type===p["d"].Number&&t.id!==e.field.id})).forEach((function(e){t.push(e)}))})),t}},{key:"operations",get:function(){return d["n"].map((function(e){return Object({type:p["a"].Ops,name:e,value:e})}),[])}},{key:"fetchData",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.fetching=!0,this.options=t&&this.data.length>0?this.data.filter((function(e){return e.name.includes(t)})):this.data,this.fetching=!1;case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onChange",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.selectValue=t,this.$emit("input",t),this.triggerChange(this.selectValue);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"triggerChange",value:function(e){}}]),a}(f["h"]);Object(u["a"])([Object(f["f"])()],m.prototype,"value",void 0),Object(u["a"])([Object(f["f"])()],m.prototype,"field",void 0),Object(u["a"])([Object(f["f"])()],m.prototype,"page",void 0),Object(u["a"])([Object(f["b"])("change")],m.prototype,"triggerChange",null),m=Object(u["a"])([Object(f["a"])({components:{Card:_["a"],Dialog:b["a"]}})],m);var h=m,v=h,g=(a("bb97"),a("2877")),y=Object(g["a"])(v,n,i,!1,null,"28d45d7e",null);t["a"]=y.exports},9080:function(e,t,a){"use strict";a("91f6")},"91f6":function(e,t,a){},9217:function(e,t,a){"use strict";a("9e24")},"928e":function(e,t,a){"use strict";a("c85a")},9799:function(e,t,a){"use strict";a("ab67")},9869:function(e,t,a){},9946:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAAXNSR0IArs4c6QAAAa9JREFUSA3tVrtKA0EUPTO7CAoGwSLxAf6HlYiV2FnYWNipnfFHol0EC0lpo2LrL/gRKUxi5QMh4D7Gc2fdsJHZ3SSFoGTIZmbvnHvOvXd2Zhf4b02lCVUbZkt7ODQxVlLboPc4itDsnajWwDbmwApRZJMi9/Axh9jBQJSJ0EeIg96punYgSk1aEOQ5FhHzScLQcQUWNAsPl9Uzs1PK6gBYIQMsOTPJOkS80ZjXGle1htlgOJLnCFdC4ktHtKtgCSL7TzGjsUiHu9o5Otkp11hxbePAPD7X1b4VcoFybRKSQoXZVXIx3xMihAAvcju+kHix1nwKS5sUlj+uulT9l9pUaOJCT0s3cekK91HEzSlbZpTG/QKvYCEKhVa59/0C52wAIYPqfmQtw2OnkGThMcSbXWBtYdgh7679Cqy3eGDQWbL72ZxCKaj9xvNjxNo9vade7t4KkUtno5BxTOPerTs6F1UaT5bH4lSSoBXiZDfv1EsJXOSltmR9u4JLMtJoqhDbaibnVV7K6ACISIA+T/ALmR1kaj9OfBzx22DZ4Ta2ie+iDoNvdurqYWznP+HwBZRhcItaSdHBAAAAAElFTkSuQmCC"},"9a5d":function(e,t,a){},"9c0c":function(e,t,a){},"9d3f":function(e,t,a){"use strict";a("5c13")},"9e24":function(e,t,a){},"9f50":function(e,t,a){"use strict";a("66e1")},a0b7:function(e,t,a){},a9ab:function(e,t,a){"use strict";a("bd3e")},aa1c:function(e,t,a){},ab67:function(e,t,a){},aee5:function(e,t,a){"use strict";a("7eb7")},aeeb:function(e,t,a){"use strict";a("5f6b")},af44:function(e,t,a){"use strict";a("d9d4")},b1c0:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAAXNSR0IArs4c6QAAAcJJREFUSA3tlrtOw0AQRe8mIRRAahQkvoUSAQU08Ak8Or6ELsAfABKigT5fQkWADik8JAjJcu8+gmXZxnkoFSPZ6/XO3DOe9doLzMhM5Cyf2DVUsM/+Cgbx7phtxcV1qHP+fGza6jlQgNyaOSxMDHEMngizPbxTb0uwmrtvcCSI/Ype02lNnZo9HFKt7R7SWjSn9iTJHDUF0qa5J2L9cmfFJgMLroeTnfaxRNF86dKDoV/Jjc4OGBRklQmSf5WQqx2+go2UaBRLJdHpArs3QJ/jqSEnkAmK0s1FYDUBkoAJKpxXX5PgbHOL7x0yQdJSGbavWdsgLJ2lOnC35wM3L4FXvqV+yQDf9FdMcPdOiXMmKI4/vfGKwTKJNOZ9q/4DS9X9JCgqs1W586wQ5AJDsCGoGtOnmq51DEF5hHA/EfqH54TD/6CxCziz0hW+dVnp18ZMbSSQ1tL9i8frehQrDdJ6+egB6xe/oLJrSBGlQTF7fTRlBR8B75A6u4oztnTlBRgJYry7A/CL/FgelUq1qCt1S22aL51Fi//2Df3j8/+1RYoZY4JocwKcanRYBbcTquKAGUy+fxBEVerjLG63BJuJ/QCsNmkj7nZC/gAAAABJRU5ErkJggg=="},b1e6:function(e,t,a){"use strict";a("c59f")},b2a4:function(e,t,a){"use strict";a.d(t,"p",(function(){return n})),a.d(t,"o",(function(){return i})),a.d(t,"i",(function(){return r})),a.d(t,"d",(function(){return o})),a.d(t,"f",(function(){return l})),a.d(t,"h",(function(){return s})),a.d(t,"j",(function(){return c})),a.d(t,"e",(function(){return u})),a.d(t,"g",(function(){return d})),a.d(t,"k",(function(){return p})),a.d(t,"a",(function(){return f})),a.d(t,"b",(function(){return _})),a.d(t,"l",(function(){return b})),a.d(t,"m",(function(){return m})),a.d(t,"n",(function(){return h})),a.d(t,"c",(function(){return v}));var n="^[^\\s]*$",i="[一-龥]",r=5,o=10,l=15,s=30,c=50,u=100,d=200,p=99999,f="YYYY-MM-DD HH:mm:ss",_="YYYY-MM-DD",b=9999999999999,m=-9999999999999,h=["+","-","*","/","(",")"],v="horizontal"},b310:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"avigator-flow-view",style:e.viewStyle},[e._t("title"),e.lf?a("Control",{staticClass:"control-menus",style:e.controlStyle,attrs:{lf:e.lf},on:{catData:e.catData}}):e._e(),a("NodePanel",{style:e.nodeStyle,attrs:{lf:e.lf}}),a("div",{style:e.bodyStyle,attrs:{id:"flow-view"}}),a("el-drawer",{attrs:{title:"设置节点属性",visible:e.dialogVisible,direction:"rtl",size:"500px","before-close":e.closeDialog},on:{"update:visible":function(t){e.dialogVisible=t}}},[e.dialogVisible?a("PropertyPanel",{attrs:{nodeData:e.clickNode,lf:e.lf},on:{setPropertiesFinish:e.closeDialog}}):e._e()],1),a("el-drawer",{attrs:{title:"设置字段权限",visible:e.fieldPermissionVisible,direction:"rtl",size:"65%","before-close":function(){return e.fieldPermissionVisible=!1}},on:{"update:visible":function(t){e.fieldPermissionVisible=t}}},[e._t("permission",null,{data:e.clickNode})],2),a("el-dialog",{attrs:{title:"数据",visible:e.dataVisible,width:"50%"},on:{"update:visible":function(t){e.dataVisible=t}}},[a("DataPanel",{attrs:{graphData:e.graphData}})],1)],2)},i=[],r=a("5530"),o=a("d4ec"),l=a("bee2"),s=a("262e"),c=a("2caf"),u=(a("7db0"),a("b0c0"),a("4de4"),a("9ab4")),d=a("1b40"),p=a("5e90"),f=a.n(p),_=a("eb21"),b=(a("7692"),a("417c"),function(e,t){return{textEdit:!1,isSilentMode:t,container:e,background:{color:"#f7f9ff"},style:{rect:{strokeWidth:1},circle:{r:20,strokeWidth:1},ellipse:{strokeWidth:1},diamond:{strokeWidth:1},polygon:{strokeWidth:1},anchor:{strokeWidth:1},line:{strokeWidth:1},polyline:{strokeWidth:1}},grid:{size:10,visible:!1},keyboard:{enabled:!0},hoverOutline:!0,guards:{beforeClone:function(e){return!0},beforeDelete:function(e){return!0}}}}),m=function(){return{circle:{r:20,stroke:"#000000",outlineColor:"#88f",strokeWidth:1},rect:{outlineColor:"#88f",strokeWidth:1},polygon:{strokeWidth:1},polyline:{stroke:"#000000",hoverStroke:"#000000",selectedStroke:"#000000",outlineColor:"#88f",strokeWidth:1},nodeText:{color:"#000000"},edgeText:{color:"#000000",background:{fill:"#f7f9ff"}},ellipse:{strokeWidth:1},diamond:{strokeWidth:1},anchor:{strokeWidth:1},line:{strokeWidth:1},arrow:{strokeWidth:1}}},h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button-group",[a("el-button",{staticClass:"lf-control-item",attrs:{type:"plain",size:"small"},on:{click:e.zoomIn}},[a("i",{staticClass:"lf-control-zoomIn"}),a("div",{staticClass:"lf-control-text"},[e._v("放大")])]),a("el-button",{staticClass:"lf-control-item",attrs:{type:"plain",size:"small"},on:{click:e.zoomOut}},[a("i",{staticClass:"lf-control-zoomOut"}),a("div",{staticClass:"lf-control-text"},[e._v("缩小")])]),a("el-button",{staticClass:"lf-control-item",attrs:{type:"plain",size:"small"},on:{click:e.zoomReset}},[a("i",{staticClass:"lf-control-fit"}),a("div",{staticClass:"lf-control-text"},[e._v("大小适应")])]),a("el-button",{staticClass:"lf-control-item",attrs:{type:"plain",size:"small",disabled:e.undoDisable},on:{click:e.undo}},[a("i",{staticClass:"lf-control-undo"}),a("div",{staticClass:"lf-control-text"},[e._v("上一步(ctrl+z)")])]),a("el-button",{staticClass:"lf-control-item",attrs:{type:"plain",size:"small",disabled:e.redoDisable},on:{click:e.redo}},[a("i",{staticClass:"lf-control-redo"}),a("div",{staticClass:"lf-control-text"},[e._v("下一步(ctrl+y)")])]),a("el-button",{staticClass:"lf-control-item",attrs:{type:"plain",size:"small"},on:{click:e.translateRest}},[a("i",{staticClass:"lf-control-restore"}),a("div",{staticClass:"lf-control-text"},[e._v("定位还原")])]),a("el-button",{staticClass:"lf-control-item",attrs:{type:e.selectionMode?"primary":"plain",size:"small"},on:{click:e.selection}},[a("i",{staticClass:"lf-control-selection"}),a("div",{staticClass:"lf-control-text"},[e._v(" "+e._s(e.selectionMode?"取消框选":"框选")+" ")])]),a("el-button",{staticClass:"lf-control-item",attrs:{type:"plain",size:"small"},on:{click:e.download}},[a("i",{staticClass:"lf-control-image"}),a("div",{staticClass:"lf-control-text"},[e._v("下载图片")])]),a("el-button",{staticClass:"lf-control-item",attrs:{type:"plain",size:"small"},on:{click:e.catData}},[a("i",{staticClass:"lf-control-download"}),a("div",{staticClass:"lf-control-text"},[e._v("查看数据")])]),a("el-button",{staticClass:"lf-control-item",attrs:{type:"plain",size:"small"},on:{click:e.loadDemo}},[a("i",{staticClass:"lf-control-upload"}),a("div",{staticClass:"lf-control-text"},[e._v("加载示例")])])],1)],1)},v=[],g=a("0ff5"),y=function(e){Object(s["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.undoDisable=!0,e.redoDisable=!0,e.graphData=null,e.dataVisible=!1,e.selectionMode=!1,e}return Object(l["a"])(a,[{key:"mounted",value:function(){var e=this;this.lf.on("history:change",(function(t){var a=t.data,n=a.undoAble,i=a.redoAble;e.undoDisable=!n,e.redoDisable=!i}))}},{key:"zoomIn",value:function(){this.lf.zoom(!0)}},{key:"zoomOut",value:function(){this.lf.zoom(!1)}},{key:"zoomReset",value:function(){this.lf.resetZoom()}},{key:"translateRest",value:function(){this.lf.resetTranslate()}},{key:"reset",value:function(){this.lf.resetZoom(),this.lf.resetTranslate()}},{key:"undo",value:function(){this.lf.undo()}},{key:"redo",value:function(){this.lf.redo()}},{key:"download",value:function(){this.lf.getSnapshot()}},{key:"catData",value:function(){this.$emit("catData")}},{key:"selection",value:function(){this.selectionMode=!this.selectionMode,this.lf.updateEditConfig({stopMoveGraph:this.selectionMode}),this.selectionMode?_["b"].open():_["b"].close()}},{key:"loadDemo",value:function(){this.lf.render(g)}}]),a}(d["h"]);Object(u["a"])([Object(d["f"])()],y.prototype,"lf",void 0),y=Object(u["a"])([d["a"]],y);var O=y,j=O,x=(a("d123"),a("2877")),A=Object(x["a"])(j,h,v,!1,null,"43c17f3c",null),E=A.exports,k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"node-panel"},e._l(e.nodes,(function(t){return a("div",{key:t.text,staticClass:"node-item",on:{mousedown:function(a){return e.dragNode(t)}}},[a("div",{staticClass:"node-item-icon",class:t.class},["user"===t.type||"time"===t.type?a("div",{staticClass:"shape"}):e._e()]),a("span",{staticClass:"node-label"},[e._v(e._s(t.text))])])})),0)},R=[],D=(a("d81d"),a("e3d8")),C=function(e){Object(s["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.nodes=D["r"].map((function(e){return Object({text:e.text,type:e.type,class:e.class})})),e}return Object(l["a"])(a,[{key:"dragNode",value:function(e){this.lf.dnd.startDrag({type:e.type,text:e.text})}}]),a}(d["h"]);Object(u["a"])([Object(d["f"])()],C.prototype,"lf",void 0),C=Object(u["a"])([d["a"]],C);var M=C,P=M,w=(a("23cf"),Object(x["a"])(P,k,R,!1,null,"74a98a09",null)),S=w.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("vue-json-pretty",{staticClass:"text-left",attrs:{path:"res",data:e.graphData}})],1)},I=[],N=a("838b"),L=a.n(N),U=(a("b83f"),function(e){Object(s["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(o["a"])(this,a),t.apply(this,arguments)}return a}(d["h"]));Object(u["a"])([Object(d["f"])()],U.prototype,"graphData",void 0),U=Object(u["a"])([Object(d["a"])({components:{VueJsonPretty:L.a}})],U);var B=U,W=B,F=(a("7a98"),Object(x["a"])(W,T,I,!1,null,"43a95678",null)),V=F.exports,G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"property-dialog"},["start"===e.nodeData.type?a("StartProperty",{attrs:{nodeData:e.nodeData,lf:e.lf},on:{onClose:e.handleClose}}):e._e(),"end"===e.nodeData.type?a("EndProperty",{attrs:{nodeData:e.nodeData,lf:e.lf},on:{onClose:e.handleClose}}):e._e(),"polyline"===e.nodeData.type?a("EdgeProperty",{attrs:{nodeData:e.nodeData,lf:e.lf},on:{onClose:e.handleClose}}):e._e(),"approval"===e.nodeData.type?a("ApprovalProperty",{attrs:{nodeData:e.nodeData,lf:e.lf},on:{onClose:e.handleClose}}):e._e(),"gateway"===e.nodeData.type?a("GatewayProperty",{attrs:{nodeData:e.nodeData,lf:e.lf},on:{onClose:e.handleClose}}):e._e()],1)},K=[],q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"ruleForm",attrs:{"label-width":"80px",model:e.formData,rules:e.rulesData}},[a("el-form-item",{attrs:{label:"节点标识",prop:"key"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.formData.key,callback:function(t){e.$set(e.formData,"key",t)},expression:"formData.key"}})],1),a("el-form-item",{attrs:{label:"节点名称",prop:"name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"审批动作"}},[a("el-checkbox-group",{model:{value:e.formData.actions,callback:function(t){e.$set(e.formData,"actions",t)},expression:"formData.actions"}},e._l(e.actions,(function(t,n){return a("el-checkbox-button",{key:n,attrs:{label:t.value}},[e._v(e._s(t.text))])})),1)],1),a("el-form-item",{attrs:{label:"节点描述"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description",t)},expression:"formData.description"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")])],1)],1)],1)},z=[],Y=(a("caad"),a("2532"),a("159b"),a("a4d3"),a("e01a"),function(e){var t=[],a=[],n=e.getGraphData();return n.nodes.forEach((function(e){var a=e.type,n=e.properties,i=e.id,r=n.key,o=n.name,l=n.enName,s=n.executor,c=n.description,u=n.rule,d=n.actions;t.push({id:i,type:a,key:r,name:o,enName:l,executor:s,description:c,rule:u,actions:d})})),n.edges.forEach((function(e){var t=e.type,n=e.properties,i=e.id,r=e.sourceNodeId,o=e.targetNodeId,l=n.name,s=n.enName,c=n.condition;a.push({id:i,type:t,sourceNodeId:r,targetNodeId:o,name:l,enName:s,condition:c})})),{Nodes:t,Edges:a}}),H=function(e,t,a){if(t){var n=e.message;n||(n="'".concat(t,"'已存在"));var i=Y(e.flow),r=i.Nodes.filter((function(t){return t.id!==e.id})).map((function(e){return e.key}));return r.includes(t)?a(new Error(n)):a()}return a()},Z=function(e){Object(s["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.actions=[{value:D["a"].Save,text:"保存"},{value:D["a"].Submit,text:"提交"}],e.formData={key:D["n"].START,name:D["o"].START,enName:D["p"].Initiator,executor:{type:D["k"].Initiator,params:[]},description:"",rule:D["b"].OneAgreed,actions:[D["a"].Save,D["a"].Submit]},e.rulesData={key:[{required:!0,message:"请输入节点标识",trigger:"blur"},{validator:H,flow:e.lf,id:e.nodeData.id,trigger:"blur"}],name:[{required:!0,message:"请输入节点名称",trigger:"blur"}]},e}return Object(l["a"])(a,[{key:"mounted",value:function(){var e=this.nodeData.properties;e&&(this.formData=Object.assign({},this.formData,e))}},{key:"onSubmit",value:function(){var e=this;this.$refs["ruleForm"].validate((function(t){if(t){var a=e.nodeData.id;e.lf.setProperties(a,e.formData),e.lf.updateText(a,e.formData.name),e.$emit("onClose")}}))}}]),a}(d["h"]);Object(u["a"])([Object(d["f"])()],Z.prototype,"nodeData",void 0),Object(u["a"])([Object(d["f"])()],Z.prototype,"lf",void 0),Z=Object(u["a"])([d["a"]],Z);var J=Z,Q=J,X=(a("aeeb"),Object(x["a"])(Q,q,z,!1,null,"7e91b120",null)),$=X.exports,ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"ruleForm",attrs:{"label-width":"80px",model:e.formData,rules:e.rulesData}},[a("el-form-item",{attrs:{label:"节点标识",prop:"key"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.formData.key,callback:function(t){e.$set(e.formData,"key",t)},expression:"formData.key"}})],1),a("el-form-item",{attrs:{label:"节点名称",prop:"name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"节点描述"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description",t)},expression:"formData.description"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")])],1)],1)],1)},te=[],ae=function(e){Object(s["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.formData={key:D["n"].END,name:D["o"].END,enName:D["p"].Completer,executor:null,description:"",rule:D["b"].OneAgreed,actions:null},e.rulesData={key:[{required:!0,message:"请输入节点标识",trigger:"blur"},{validator:H,flow:e.lf,id:e.nodeData.id,trigger:"blur"}],name:[{required:!0,message:"请输入节点名称",trigger:"blur"}]},e}return Object(l["a"])(a,[{key:"mounted",value:function(){var e=this.nodeData.properties;e&&(this.formData=Object.assign({},this.formData,e))}},{key:"onSubmit",value:function(){var e=this;this.$refs["ruleForm"].validate((function(t){if(t){var a=e.nodeData.id;e.lf.setProperties(a,e.formData),e.lf.updateText(a,e.formData.name),e.$emit("onClose")}}))}}]),a}(d["h"]);Object(u["a"])([Object(d["f"])()],ae.prototype,"nodeData",void 0),Object(u["a"])([Object(d["f"])()],ae.prototype,"lf",void 0),ae=Object(u["a"])([d["a"]],ae);var ne=ae,ie=ne,re=(a("928e"),Object(x["a"])(ie,ee,te,!1,null,"2c85384f",null)),oe=re.exports,le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{attrs:{"label-width":"80px",model:e.formData}},[a("el-form-item",{attrs:{label:"显示名称"}},[a("el-input",{model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"执行规则"}},[a("ConditionSetting",{attrs:{condition:e.formData.condition}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")])],1)],1)],1)},se=[],ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-radio-group",{attrs:{size:"small"},on:{change:e.onChang},model:{value:e.condition.type,callback:function(t){e.$set(e.condition,"type",t)},expression:"condition.type"}},e._l(e.rules,(function(t,n){return a("el-radio",{key:n,attrs:{label:t.value,disabled:"Complex"===t.value}},[e._v(e._s(t.text))])})),1),"Simple"==e.condition.type?a("div",{staticClass:"m-t-10"},[a("el-row",{attrs:{gutter:10}},[e._l(e.condition.expressions,(function(t,n){return["Expression"===t.type?a("Expression",{key:n,attrs:{exp:t.expression}}):e._e()]}))],2)],1):e._e(),"Complex"==e.condition.type?a("div",{staticClass:"m-t-10"}):e._e(),e.condition.expressions.length?a("el-row",{staticClass:"m-t-5"},[a("el-col",{attrs:{span:24}},[e._v(" 规则： "),e._l(e.condition.expressions,(function(t,n){return a("span",{key:n},["Expression"===t.type?a("span",[a("span",[e._v(" "+e._s("${0}".replace("0",t.expression.variable))+" ")]),a("span",[e._v(" "+e._s(t.expression.operator)+" ")]),a("span",[e._v(" "+e._s(t.expression.value)+" ")])]):[e._v(" "+e._s(t.value)+" ")]],2)}))],2)],1):e._e()],1)},ue=[],de=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-col",{attrs:{span:8}},[a("el-select",{attrs:{placeholder:"表单变量"},model:{value:e.exp.variable,callback:function(t){e.$set(e.exp,"variable",t)},expression:"exp.variable"}},[a("el-option",{attrs:{label:"请选择",value:""}}),e._l(e.fields,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.key}})}))],2)],1),a("el-col",{attrs:{span:8}},[a("el-select",{attrs:{placeholder:"比较操作"},model:{value:e.exp.operator,callback:function(t){e.$set(e.exp,"operator",t)},expression:"exp.operator"}},e._l(e.operators,(function(e,t){return a("el-option",{key:t,attrs:{label:e.text,value:e.value}})})),1)],1),a("el-col",{attrs:{span:8}},[e.varOptions.length?a("el-select",{attrs:{placeholder:"变量值"},model:{value:e.exp.value,callback:function(t){e.$set(e.exp,"value",t)},expression:"exp.value"}},e._l(e.varOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.text,value:e.value}})})),1):a("el-input",{attrs:{placeholder:"变量值"},model:{value:e.exp.value,callback:function(t){e.$set(e.exp,"value",t)},expression:"exp.value"}})],1)],1)},pe=[],fe=function(e){Object(s["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.rules=D["g"],e.operators=D["e"],e.brackets=D["d"],e}return Object(l["a"])(a,[{key:"varOptions",get:function(){var e=this,t=this.fields.find((function(t){return t.key===e.exp.variable}));return t&&t.options?t.options:[]}},{key:"fields",get:function(){return this.page?this.page.fields:[]}}]),a}(d["h"]);Object(u["a"])([Object(d["c"])("flowFormProvider")],fe.prototype,"page",void 0),Object(u["a"])([Object(d["f"])()],fe.prototype,"exp",void 0),fe=Object(u["a"])([Object(d["a"])({components:{}})],fe);var _e=fe,be=_e,me=(a("7c7e"),Object(x["a"])(be,de,pe,!1,null,"cae89478",null)),he=me.exports,ve=function(e){Object(s["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.rules=D["g"],e.operators=D["e"],e.brackets=D["d"],e}return Object(l["a"])(a,[{key:"onChang",value:function(){this.condition.expressions=[],this.condition.type!=D["h"].Default&&this.condition.expressions.push({type:D["f"].Expression,expression:{variable:"",varType:"",operator:"==",value:""}})}}]),a}(d["h"]);Object(u["a"])([Object(d["f"])()],ve.prototype,"condition",void 0),ve=Object(u["a"])([Object(d["a"])({components:{Expression:he}})],ve);var ge=ve,ye=ge,Oe=(a("6d70"),Object(x["a"])(ye,ce,ue,!1,null,"69775ffa",null)),je=Oe.exports,xe=function(e){Object(s["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.formData={name:"",enName:D["i"].Condition,condition:{type:D["h"].Default,expressions:[]}},e}return Object(l["a"])(a,[{key:"mounted",value:function(){var e=this.nodeData.properties;e&&(this.formData=Object.assign({},this.formData,e))}},{key:"onSubmit",value:function(){var e=this.nodeData.id;this.lf.setProperties(e,this.formData),this.lf.updateText(e,this.formData.name),this.$emit("onClose")}}]),a}(d["h"]);Object(u["a"])([Object(d["f"])()],xe.prototype,"nodeData",void 0),Object(u["a"])([Object(d["f"])()],xe.prototype,"lf",void 0),xe=Object(u["a"])([Object(d["a"])({components:{ConditionSetting:je}})],xe);var Ae=xe,Ee=Ae,ke=(a("aee5"),Object(x["a"])(Ee,le,se,!1,null,"8bead33c",null)),Re=ke.exports,De=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"ruleForm",attrs:{"label-width":"80px",model:e.formData,rules:e.rulesData}},[a("el-form-item",{attrs:{label:"节点标识",prop:"key"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.formData.key,callback:function(t){e.$set(e.formData,"key",t)},expression:"formData.key"}})],1),a("el-form-item",{attrs:{label:"节点名称",prop:"name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"审批人员"}},[a("ExecutorSetting",{model:{value:e.formData.executor,callback:function(t){e.$set(e.formData,"executor",t)},expression:"formData.executor"}})],1),a("el-form-item",{attrs:{label:"审批规则"}},[a("el-radio-group",{model:{value:e.formData.rule,callback:function(t){e.$set(e.formData,"rule",t)},expression:"formData.rule"}},e._l(e.rules,(function(t,n){return a("el-radio-button",{key:n,attrs:{label:t.value}},[e._v(e._s(t.text))])})),1)],1),a("el-form-item",{attrs:{label:"审批动作"}},[a("el-checkbox-group",{model:{value:e.formData.actions,callback:function(t){e.$set(e.formData,"actions",t)},expression:"formData.actions"}},e._l(e.actions,(function(t,n){return a("el-checkbox-button",{key:n,attrs:{label:t.value}},[e._v(e._s(t.text))])})),1)],1),a("el-form-item",{attrs:{label:"节点描述"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description",t)},expression:"formData.description"}})],1),a("el-form-item",[a("el-button",{staticClass:"m-t-20",attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")])],1)],1)],1)},Ce=[],Me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-tabs",{attrs:{type:"border-card"},model:{value:e.executor.type,callback:function(t){e.$set(e.executor,"type",t)},expression:"executor.type"}},e._l(e.executors,(function(t,n){return a("el-tab-pane",{key:n,attrs:{label:t.text,name:t.value,"body-style":{padding:"5px"},disabled:"Api"===t.value}},[a("span",{attrs:{slot:"label"},slot:"label"},["Designator"===t.value?a("i",{staticClass:"el-icon-user"}):e._e(),"Variable"===t.value?a("i",{staticClass:"el-icon-date"}):e._e(),"Role"===t.value?a("i",{staticClass:"el-icon-menu"}):e._e(),e._v(" "+e._s(t.text)+" ")]),"Designator"===t.value?a("div",[a("el-row",{staticClass:"m-t-10",attrs:{gutter:10}},[a("el-col",{attrs:{span:6}},[e._v("关联用户：")]),a("el-col",{attrs:{span:18}},[a("UserFetch",{model:{value:e.params.user,callback:function(t){e.$set(e.params,"user",t)},expression:"params.user"}})],1)],1)],1):"Variable"===t.value?a("div",[a("el-row",{staticClass:"m-t-10",attrs:{gutter:10}},[a("el-col",{attrs:{span:6}},[e._v("关联变量： ")]),a("el-col",{attrs:{span:18}},[a("FieldFetch",{model:{value:e.params.variable,callback:function(t){e.$set(e.params,"variable",t)},expression:"params.variable"}})],1)],1)],1):"Role"===t.value?a("div",[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:6}},[e._v("关联角色： ")]),a("el-col",{attrs:{span:18}},[a("RoleFetch",{model:{value:e.params.role,callback:function(t){e.$set(e.params,"role",t)},expression:"params.role"}})],1)],1),a("el-row",{staticClass:"m-t-10",attrs:{gutter:10}},[a("el-col",{attrs:{span:6}},[e._v("关联变量： ")]),a("el-col",{attrs:{span:18}},[a("FieldFetch",{model:{value:e.params.variable,callback:function(t){e.$set(e.params,"variable",t)},expression:"params.variable"}})],1)],1)],1):e._e()])})),1)],1)},Pe=[],we=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-select",{attrs:{filterable:"",placeholder:"请输入关键词"},on:{change:e.onChange},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},e._l(e.options,(function(t,n){return a("el-option",{key:n,attrs:{label:t.text,value:t.value}},[a("span",{staticClass:"float-left"},[e._v(e._s(t.text))]),a("span",{staticClass:"float-right option-left"},[e._v(e._s(t.value))])])})),1)},Se=[],Te=function(e){Object(s["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.loading=!1,e.options=e.users,e.selected="",e}return Object(l["a"])(a,[{key:"onChange",value:function(e){var t=this.users.find((function(t){return t.value==e}));this.$emit("change",t)}},{key:"userChanged",value:function(){this.selected=this.user?this.user.value:""}}]),a}(d["h"]);Object(u["a"])([Object(d["c"])("users")],Te.prototype,"users",void 0),Object(u["a"])([Object(d["f"])()],Te.prototype,"user",void 0),Object(u["a"])([Object(d["i"])("user",{immediate:!0,deep:!0})],Te.prototype,"userChanged",null),Te=Object(u["a"])([Object(d["a"])({model:{prop:"user",event:"change"},components:{}})],Te);var Ie=Te,Ne=Ie,Le=(a("cbbc"),Object(x["a"])(Ne,we,Se,!1,null,"3330c9a8",null)),Ue=Le.exports,Be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-select",{attrs:{filterable:"",placeholder:"请输入关键词"},on:{change:e.onChange},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},e._l(e.options,(function(t,n){return a("el-option",{key:n,attrs:{label:t.text,value:t.value}},[a("span",{staticClass:"float-left"},[e._v(e._s(t.text))]),a("span",{staticClass:"float-right option-left"},[e._v(e._s(t.value))])])})),1)},We=[],Fe=function(e){Object(s["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.options=e.roles,e.selected=e.role?e.role.value:"",e}return Object(l["a"])(a,[{key:"onChange",value:function(e){var t=this.roles.find((function(t){return t.value==e}));this.$emit("change",t)}},{key:"roleChanged",value:function(){this.selected=this.role?this.role.value:""}}]),a}(d["h"]);Object(u["a"])([Object(d["c"])("roles")],Fe.prototype,"roles",void 0),Object(u["a"])([Object(d["f"])()],Fe.prototype,"role",void 0),Object(u["a"])([Object(d["i"])("role",{immediate:!0,deep:!0})],Fe.prototype,"roleChanged",null),Fe=Object(u["a"])([Object(d["a"])({model:{prop:"role",event:"change"},components:{}})],Fe);var Ve=Fe,Ge=Ve,Ke=(a("5bbd"),Object(x["a"])(Ge,Be,We,!1,null,"7150ff14",null)),qe=Ke.exports,ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-select",{attrs:{filterable:"",placeholder:"请输入关键词"},on:{change:e.onChange},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},e._l(e.options,(function(t,n){return a("el-option",{key:n,attrs:{label:t.name,value:t.key}},[a("span",{staticClass:"float-left"},[e._v(e._s(t.name))]),a("span",{staticClass:"float-right option-left"},[e._v(e._s(t.key))])])})),1)},Ye=[],He=function(e){Object(s["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.options=e.page.fields,e.selected=e.field?e.field.value:"",e}return Object(l["a"])(a,[{key:"onChange",value:function(e){var t=this.page.fields.find((function(t){return t.key==e}));this.$emit("change",{value:t?t.key:"",text:t?t.name:""})}}]),a}(d["h"]);Object(u["a"])([Object(d["c"])("flowFormProvider")],He.prototype,"page",void 0),Object(u["a"])([Object(d["f"])()],He.prototype,"field",void 0),He=Object(u["a"])([Object(d["a"])({model:{prop:"field",event:"change"},components:{}})],He);var Ze=He,Je=Ze,Qe=(a("3dc4"),Object(x["a"])(Je,ze,Ye,!1,null,"7fcf8bb1",null)),Xe=Qe.exports,$e=function(e){Object(s["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.executors=D["l"],e.params={user:null,role:null,variable:null,url:null},e}return Object(l["a"])(a,[{key:"executorChanged",value:function(){var e=this.executor.params.find((function(e){return e.type===D["j"].Designator}));this.params.user=e?e.value:null;var t=this.executor.params.find((function(e){return e.type===D["j"].RoleId}));this.params.role=t?t.value:null;var a=this.executor.params.find((function(e){return e.type===D["j"].VariableId}));this.params.variable=a?a.value:null;var n=this.executor.params.find((function(e){return e.type===D["j"].Url}));this.params.url=n?n.value:null}},{key:"paramsChanged",value:function(){var e=[];switch(this.executor.type){case D["k"].Initiator:break;case D["k"].Designator:e.push({type:D["j"].Designator,value:this.params.user});break;case D["k"].Variable:e.push({type:D["j"].VariableId,value:this.params.variable});break;case D["k"].Role:e.push({type:D["j"].RoleId,value:this.params.role}),e.push({type:D["j"].VariableId,value:this.params.variable});break;case D["k"].Api:e.push({type:D["j"].Url,value:this.params.url});break;default:break}this.$emit("change",{type:this.executor.type,params:e})}}]),a}(d["h"]);Object(u["a"])([Object(d["c"])("flowFormProvider")],$e.prototype,"page",void 0),Object(u["a"])([Object(d["c"])("roles")],$e.prototype,"roles",void 0),Object(u["a"])([Object(d["c"])("users")],$e.prototype,"users",void 0),Object(u["a"])([Object(d["f"])()],$e.prototype,"executor",void 0),Object(u["a"])([Object(d["i"])("executor",{immediate:!0,deep:!0})],$e.prototype,"executorChanged",null),Object(u["a"])([Object(d["i"])("params",{immediate:!0,deep:!0})],$e.prototype,"paramsChanged",null),$e=Object(u["a"])([Object(d["a"])({model:{prop:"executor",event:"change"},components:{UserFetch:Ue,RoleFetch:qe,FieldFetch:Xe}})],$e);var et=$e,tt=et,at=(a("9799"),Object(x["a"])(tt,Me,Pe,!1,null,"0841bc01",null)),nt=at.exports,it=function(e){Object(s["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.rules=D["c"],e.actions=[{value:D["a"].Pass,text:"同意"},{value:D["a"].Reject,text:"拒绝"},{value:D["a"].Assist,text:"协审"}],e.formData={key:D["n"].APPROVAL,name:D["o"].APPROVAL,enName:D["p"].Approver,executor:{type:D["k"].Designator,params:[]},description:"",rule:D["b"].OneAgreed,actions:[D["a"].Pass,D["a"].Reject,D["a"].Assist]},e.rulesData={key:[{required:!0,message:"请输入节点标识",trigger:"blur"},{validator:H,flow:e.lf,id:e.nodeData.id,trigger:"blur"}],name:[{required:!0,message:"请输入节点名称",trigger:"blur"}]},e}return Object(l["a"])(a,[{key:"mounted",value:function(){var e=this.nodeData.properties;e&&(this.formData=Object.assign({},this.formData,e))}},{key:"onSubmit",value:function(){var e=this;this.$refs["ruleForm"].validate((function(t){if(t){var a=e.nodeData.id;console.log(e.formData),e.lf.setProperties(a,e.formData),e.lf.updateText(a,e.formData.name),e.$emit("onClose")}}))}}]),a}(d["h"]);Object(u["a"])([Object(d["f"])()],it.prototype,"nodeData",void 0),Object(u["a"])([Object(d["f"])()],it.prototype,"lf",void 0),it=Object(u["a"])([Object(d["a"])({components:{ExecutorSetting:nt}})],it);var rt=it,ot=rt,lt=(a("0450"),Object(x["a"])(ot,De,Ce,!1,null,"163437ec",null)),st=lt.exports,ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"ruleForm",attrs:{"label-width":"80px",model:e.formData,rules:e.rulesData}},[a("el-form-item",{attrs:{label:"节点标识",prop:"key"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.formData.key,callback:function(t){e.$set(e.formData,"key",t)},expression:"formData.key"}})],1),a("el-form-item",{attrs:{label:"节点名称",prop:"name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"节点描述"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description",t)},expression:"formData.description"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")])],1)],1)],1)},ut=[],dt=function(e){Object(s["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.formData={key:D["n"].GATEWAY,name:D["o"].GATEWAY,enName:D["p"].Gateway,executor:null,description:"",rule:D["b"].OneAgreed,actions:null},e.rulesData={key:[{required:!0,message:"请输入节点标识",trigger:"blur"},{validator:H,flow:e.lf,id:e.nodeData.id,trigger:"blur"}],name:[{required:!0,message:"请输入节点名称",trigger:"blur"}]},e}return Object(l["a"])(a,[{key:"mounted",value:function(){var e=this.nodeData.properties;e&&(this.formData=Object.assign({},this.formData,e))}},{key:"onSubmit",value:function(){var e=this;this.$refs["ruleForm"].validate((function(t){if(t){var a=e.nodeData.id;e.lf.setProperties(a,e.formData),e.lf.updateText(a,e.formData.name),e.$emit("onClose")}}))}}]),a}(d["h"]);Object(u["a"])([Object(d["f"])()],dt.prototype,"nodeData",void 0),Object(u["a"])([Object(d["f"])()],dt.prototype,"lf",void 0),dt=Object(u["a"])([d["a"]],dt);var pt=dt,ft=pt,_t=(a("9217"),Object(x["a"])(ft,ct,ut,!1,null,"6f72e67a",null)),bt=_t.exports,mt=function(e){Object(s["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(o["a"])(this,a),t.apply(this,arguments)}return Object(l["a"])(a,[{key:"handleClose",value:function(){this.$emit("setPropertiesFinish")}}]),a}(d["h"]);Object(u["a"])([Object(d["f"])()],mt.prototype,"nodeData",void 0),Object(u["a"])([Object(d["f"])()],mt.prototype,"lf",void 0),mt=Object(u["a"])([Object(d["a"])({components:{StartProperty:$,EndProperty:oe,EdgeProperty:Re,ApprovalProperty:st,GatewayProperty:bt}})],mt);var ht=mt,vt=ht,gt=(a("3931"),Object(x["a"])(vt,G,K,!1,null,"18885d6b",null)),yt=gt.exports,Ot=a("45eb"),jt=a("7e84");a("cb29");function xt(e){e.register(D["q"].Start,(function(e){var t=e.CircleNode,a=e.CircleNodeModel,n=e.h,i=function(e){Object(s["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(o["a"])(this,a),t.apply(this,arguments)}return Object(l["a"])(a,[{key:"getLabelShape",value:function(){var e=this.getAttributes(),t=e.x,a=e.y;return n("text",{fill:"#000000",fontSize:12,x:t-12,y:a+4,width:50,height:25},"")}},{key:"getShape",value:function(){var e=this.getAttributes(),t=e.x,a=e.y,i=e.r,r=e.fill,o=e.stroke,l=e.strokeWidth;return n("g",{},[n("circle",{cx:t,cy:a,r:i,fill:r,stroke:o,strokeWidth:l}),this.getLabelShape()])}}]),a}(t),r=function(e){Object(s["a"])(a,e);var t=Object(c["a"])(a);function a(e,n){return Object(o["a"])(this,a),e.text={value:e.text&&e.text.value||D["o"].START,x:e.x,y:e.y,dragable:!1,editable:!1},t.call(this,e,n)}return Object(l["a"])(a,[{key:"getConnectedTargetRules",value:function(){var e=Object(Ot["a"])(Object(jt["a"])(a.prototype),"getConnectedTargetRules",this).call(this),t={message:"起始节点不能作为连线的终点",validate:function(){return!1}};return e.push(t),e}}]),a}(a);return{view:i,model:r}}))}var At={width:100,height:70,text_offsetY:60,icon_width:25,icon_height:25,radius:5},Et={icon_width:40,icon_height:40,text_offsetY:48},kt={size:50,icon_width:23,icon_height:23,text_offsetY:48};function Rt(e){e.register(D["q"].End,(function(e){var t=e.CircleNode,a=e.CircleNodeModel,n=e.h,i=function(e){Object(s["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(o["a"])(this,a),t.apply(this,arguments)}return Object(l["a"])(a,[{key:"getIconShape",value:function(){var e=this.getAttributes(),t=e.x,a=e.y,i=e.width,r=e.height,o="#404040";return n("svg",{x:t-i/2,y:a-r/2,width:Et.icon_width,height:Et.icon_height,viewBox:"0 0 1024 1024"},n("path",{fill:o,d:"M212.992 526.336 212.992 526.336 212.992 526.336 215.04 526.336 212.992 526.336Z"}),n("path",{fill:o,d:"M724.992 296.96 724.992 296.96 296.96 296.96 296.96 724.992 724.992 724.992 724.992 296.96Z"}))}},{key:"getShape",value:function(){var e=this.getAttributes(),t=e.x,a=e.y,i=e.r,r=e.fill,o=e.stroke,l=e.strokeWidth;return n("g",{},[n("circle",{cx:t,cy:a,r:i,fill:r,stroke:o,strokeWidth:l}),this.getIconShape()])}}]),a}(t),r=function(e){Object(s["a"])(a,e);var t=Object(c["a"])(a);function a(e,n){return Object(o["a"])(this,a),e.text={value:e.text&&e.text.value||"",x:e.x,y:e.y+Et.text_offsetY,dragable:!1,editable:!1},t.call(this,e,n)}return Object(l["a"])(a,[{key:"getConnectedSourceRules",value:function(){var e=Object(Ot["a"])(Object(jt["a"])(a.prototype),"getConnectedSourceRules",this).call(this),t={message:"终止节点不能作为连线的起点",validate:function(){return!1}};return e.push(t),e}}]),a}(a);return{view:i,model:r}}))}a("99af"),a("a15b");var Dt="#9932CC";function Ct(e){e.register(D["q"].Gateway,(function(e){var t=e.PolygonNode,a=e.PolygonNodeModel,n=e.h,i=function(e){Object(s["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(o["a"])(this,a),t.apply(this,arguments)}return Object(l["a"])(a,[{key:"getIconShape",value:function(){return n("svg",{x:14,y:14,width:kt.icon_width,height:kt.icon_height,viewBox:"0 0 1024 1024"},n("path",{fill:Dt,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))}},{key:"getShape",value:function(){var e=this.getAttributes(),t=e.width,a=e.height,i=e.x,r=e.y,o=e.fill,l=e.fillOpacity,s=e.strokeWidth,c=e.stroke,u=e.strokeOpacity,d=e.points,p="matrix(1 0 0 1 ".concat(i-t/2," ").concat(r-a/2,")"),f=d.map((function(e){return e.join(",")})).join(" ");return n("g",{transform:p},[n("polygon",{points:f,fill:o,stroke:c,strokeWidth:s,strokeOpacity:u,fillOpacity:l}),this.getIconShape()])}}]),a}(t),r=function(e){Object(s["a"])(a,e);var t=Object(c["a"])(a);function a(e,n){var i;Object(o["a"])(this,a),e.text={value:e.text&&e.text.value||D["o"].GATEWAY,x:e.x,y:e.y+kt.text_offsetY},i=t.call(this,e,n);var r=kt.size/2;return i.points=[[r,0],[2*r,r],[r,2*r],[0,r]],i.stroke=Dt,i}return a}(a);return{view:i,model:r}}))}function Mt(e){e.register(D["q"].Approval,(function(e){var t=e.PolygonNode,a=e.PolygonNodeModel,n=e.h,i=function(e){Object(s["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(o["a"])(this,a),t.apply(this,arguments)}return Object(l["a"])(a,[{key:"getShape",value:function(){var e=this.getAttributes(),t=e.width,a=e.height,i=e.x,o=e.y,l=e.fill,s=e.strokeWidth,c=e.stroke,u={x:i-t/2,y:o-a/2,width:At.width,height:At.height,stroke:c,fill:l,strokeWidth:s,rx:At.radius,ry:At.radius};return n("g",{},[n("rect",Object(r["a"])({},u)),n("svg",{x:i-t/2+5,y:o-a/2+5,width:At.icon_width,height:At.icon_height,viewBox:"0 0 1274 1024"},n("path",{fill:c,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))])}}]),a}(t),u=function(e){Object(s["a"])(a,e);var t=Object(c["a"])(a);function a(e,n){var i;Object(o["a"])(this,a),e.text={value:e.text&&e.text.value||D["o"].APPROVAL,x:e.x,y:e.y+At.text_offsetY},i=t.call(this,e,n);var r=At.width/2,l=At.height/2;return i.points=[[r,0],[2*r,l],[r,2*l],[0,l]],i}return a}(a);return{view:i,model:u}}))}function Pt(e){e.register(D["q"].System,(function(e){var t=e.PolygonNode,a=e.PolygonNodeModel,n=e.h,i=function(e){Object(s["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(o["a"])(this,a),t.apply(this,arguments)}return Object(l["a"])(a,[{key:"getShape",value:function(){var e=this.getAttributes(),t=e.width,a=e.height,i=e.x,o=e.y,l=e.fill,s=e.strokeWidth,c=e.stroke,u={x:i-t/2,y:o-a/2,width:At.width,height:At.height,stroke:c,fill:l,strokeWidth:s,rx:At.radius,ry:At.radius};return n("g",{},[n("rect",Object(r["a"])({},u)),n("svg",{x:i-t/2+5,y:o-a/2+5,width:At.icon_width,height:At.icon_height,viewBox:"0 0 1274 1024"},n("path",{fill:c,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))])}}]),a}(t),u=function(e){Object(s["a"])(a,e);var t=Object(c["a"])(a);function a(e,n){var i;Object(o["a"])(this,a),e.text={value:e.text&&e.text.value||D["o"].SYSTEM,x:e.x,y:e.y+At.text_offsetY},i=t.call(this,e,n);var r=At.width/2,l=At.height/2;return i.points=[[r,0],[2*r,l],[r,2*l],[0,l]],i}return a}(a);return{view:i,model:u}}))}function wt(e){e.register(D["i"].Polyline,(function(e){var t=e.PolylineEdge,a=e.PolylineEdgeModel,n=function(e){Object(s["a"])(a,e);var t=Object(c["a"])(a);function a(e,n){return Object(o["a"])(this,a),t.call(this,e,n)}return a}(a);return{view:t,model:n}}))}var St=a("5c96"),Tt=function(e){Object(s["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.lf=null,e.clickNode=null,e.dialogVisible=!1,e.graphData=null,e.dataVisible=!1,e.fieldPermissionVisible=!1,e}return Object(l["a"])(a,[{key:"mounted",value:function(){this.init()}},{key:"getData",value:function(){if(this.lf){var e=this.lf.getGraphData();return e}return null}},{key:"init",value:function(){var e=document.querySelector("#flow-view");if(e){f.a.use(_["a"]),f.a.use(_["c"]),f.a.use(_["b"]);var t=b(e,this.isSilentMode);this.lf=new f.a(Object(r["a"])({},t)),this.setMenu(),this.lf.setTheme(m),this.registerNodes(),this.registerEdges(),this.lf.render({}),Object(D["s"])(this.lf),this.register_event(),this.onChange()}}},{key:"setMenu",value:function(){var e=this;if(this.lf&&(this.lf.setMenuConfig({nodeMenu:[],edgeMenu:[]}),!this.isSilentMode)){var t={nodeMenu:[{text:"属性",callback:function(t){e.clickNode=t,e.dialogVisible=!0}},{text:"字段权限",callback:function(t){e.clickNode=t,console.log(e.clickNode),e.fieldPermissionVisible=!0}},{text:"删除",callback:function(t){console.log("node delete: ",t),e.lf&&e.lf.deleteNode(t.id)}}],edgeMenu:[{text:"属性",callback:function(t){e.clickNode=t,e.dialogVisible=!0}},{text:"删除",callback:function(t){console.log("edge delete: ",t),e.lf&&e.lf.deleteEdge(t.id)}}]};this.lf.addMenuConfig(t)}}},{key:"registerNodes",value:function(){this.lf&&(xt(this.lf),Mt(this.lf),Ct(this.lf),Pt(this.lf),Rt(this.lf))}},{key:"registerEdges",value:function(){this.lf&&wt(this.lf)}},{key:"register_event",value:function(){var e=this;this.lf&&(this.lf.on("node:click",(function(t){var a=t.data;e.clickNode=a})),this.lf.on("node:dbclick",(function(t){var a=t.data;e.clickNode=a,e.dialogVisible=!0})),this.lf.on("edge:dbclick",(function(t){var a=t.data;e.clickNode=a,e.dialogVisible=!0})),this.lf.on("edge:click",(function(t){var a=t.data;e.clickNode=a})),this.lf.on("connection:not-allowed",(function(e){St["Message"].error(e.msg)})),this.lf.on("node:add",(function(t){var a=t.data,n=D["r"].find((function(e){return e.type===a.type})),i=n?Object(D["t"])(n):null;if(e.lf&&i){var r=Y(e.lf),o=e.getKey(r,i.key,i.key,1,a.id),l=e.getName(r,i.name,i.name,1,a.id);i.key=o,i.name=l,e.lf.setProperties(a.id,i),a=e.lf.getNodeData(a.id)}e.clickNode=a,e.dialogVisible=!0})),this.lf.on("edge:add",(function(t){var a=t.data,n={name:"",enName:D["i"].Condition,condition:{type:D["h"].Default,expressions:[]}};e.lf&&e.lf.setProperties(a.id,n)})))}},{key:"getKey",value:function(e,t,a,n,i){var r=e.Nodes.filter((function(e){return e.key===a&&e.id!==i})).length;return 0===r?a:this.getKey(e,t,t+n,n+1,i)}},{key:"getName",value:function(e,t,a,n,i){var r=e.Nodes.filter((function(e){return e.name===a&&e.id!==i})).length;return 0===r?a:this.getName(e,t,t+n,n+1,i)}},{key:"closeDialog",value:function(){this.dialogVisible=!1,this.onChange()}},{key:"catData",value:function(){this.graphData=this.lf?this.lf.getGraphData():null,this.dataVisible=!0}},{key:"onChange",value:function(){var e=this.lf?this.lf.getGraphData():null;this.$emit("change",e)}}]),a}(d["h"]);Object(u["a"])([Object(d["f"])()],Tt.prototype,"bodyStyle",void 0),Object(u["a"])([Object(d["f"])()],Tt.prototype,"controlStyle",void 0),Object(u["a"])([Object(d["f"])()],Tt.prototype,"nodeStyle",void 0),Object(u["a"])([Object(d["f"])()],Tt.prototype,"viewStyle",void 0),Object(u["a"])([Object(d["f"])()],Tt.prototype,"isSilentMode",void 0),Object(u["a"])([Object(d["f"])()],Tt.prototype,"flow",void 0),Tt=Object(u["a"])([Object(d["a"])({model:{prop:"flow",event:"change"},components:{Control:E,NodePanel:S,DataPanel:V,PropertyPanel:yt}})],Tt);var It=Tt,Nt=It,Lt=(a("c807"),Object(x["a"])(Nt,n,i,!1,null,"6f002361",null));t["a"]=Lt.exports},b554:function(e,t,a){"use strict";a.d(t,"a",(function(){return y})),a.d(t,"b",(function(){return R})),a.d(t,"d",(function(){return T})),a.d(t,"e",(function(){return N})),a.d(t,"c",(function(){return G}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"datePicker"},[a("a-date-picker",{staticClass:"p-calendar-picker",attrs:{allowClear:!1,placeholder:e.placeholder,format:e.format,disabled:e.disabled,change:"onChange"},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}})],1)},i=[],r=a("d4ec"),o=a("bee2"),l=a("262e"),s=a("2caf"),c=a("9ab4"),u=a("1b40"),d=a("c1df"),p=a.n(d),f=a("b2a4"),_=a("2516"),b=function(e){Object(l["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.selectValue=null,e}return Object(o["a"])(a,[{key:"watchValueChange",value:function(e){if(e){var t=p()(this.value);null!==this.selectValue&&this.selectValue.toDate().getTime()===t.toDate().getTime()||(this.selectValue=t)}}},{key:"onChange",value:function(e){var t=Object(_["b"])(e.toDate(),f["a"]);this.triggerChange(t)}},{key:"triggerChange",value:function(e){}}]),a}(u["h"]);Object(c["a"])([Object(u["f"])({type:String,default:"请选择时间"})],b.prototype,"placeholder",void 0),Object(c["a"])([Object(u["f"])({type:String,default:f["b"]})],b.prototype,"format",void 0),Object(c["a"])([Object(u["f"])({type:Boolean,default:!1})],b.prototype,"disabled",void 0),Object(c["a"])([Object(u["e"])("change",{type:String})],b.prototype,"value",void 0),Object(c["a"])([Object(u["i"])("value",{deep:!0,immediate:!0})],b.prototype,"watchValueChange",null),Object(c["a"])([Object(u["b"])("change")],b.prototype,"triggerChange",null),b=Object(c["a"])([Object(u["a"])({components:{}})],b);var m=b,h=m,v=(a("84bc"),a("2877")),g=Object(v["a"])(h,n,i,!1,null,"82589fea",null),y=g.exports,O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dateRangePicker"},[a("a-range-picker",{staticClass:"p-calendar-picker",attrs:{allowClear:!1,format:e.format,disabled:e.disabled},on:{change:e.onChange},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}})],1)},j=[],x=(a("d81d"),function(e){Object(l["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.selectValue=null,e}return Object(o["a"])(a,[{key:"watchValueChange",value:function(e){e&&(this.selectValue=[],e.length>1?this.selectValue=[p()(e[0]),p()(e[1])]:1===e.length&&(this.selectValue=[p()(e[0]),null]))}},{key:"onChange",value:function(e){if(e&&e.length>0){var t=e.map((function(e){return Object(_["b"])(e.toDate(),f["a"])}));this.triggerChange(t)}else this.triggerChange(null)}},{key:"triggerChange",value:function(e){}}]),a}(u["h"]));Object(c["a"])([Object(u["f"])({type:String,default:"请选择时间"})],x.prototype,"placeholder",void 0),Object(c["a"])([Object(u["f"])({type:String,default:f["b"]})],x.prototype,"format",void 0),Object(c["a"])([Object(u["f"])({type:Boolean,default:!1})],x.prototype,"disabled",void 0),Object(c["a"])([Object(u["e"])("change",{type:Array})],x.prototype,"value",void 0),Object(c["a"])([Object(u["i"])("value",{deep:!0,immediate:!0})],x.prototype,"watchValueChange",null),Object(c["a"])([Object(u["b"])("change")],x.prototype,"triggerChange",null),x=Object(c["a"])([Object(u["a"])({components:{}})],x);var A=x,E=A,k=(a("b1e6"),Object(v["a"])(E,O,j,!1,null,"64d90ab0",null)),R=k.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"a-custom-label"},[a("label",[e._v(e._s(e.showValue))])])},C=[],M=function(e){Object(l["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.showValue="",e}return Object(o["a"])(a,[{key:"watchSelectedValueChange",value:function(e,t){e!==t&&(this.showValue=e)}}]),a}(u["h"]);Object(c["a"])([Object(u["f"])({default:"暂无",type:String})],M.prototype,"value",void 0),Object(c["a"])([Object(u["i"])("value",{deep:!0,immediate:!0})],M.prototype,"watchSelectedValueChange",null),M=Object(c["a"])([Object(u["a"])({components:{}})],M);var P=M,w=P,S=(a("20d2"),Object(v["a"])(w,D,C,!1,null,"b10a2714",null)),T=S.exports,I=(a("5319"),a("ac1f"),a("a9e3"),function(e){Object(l["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.inputValue=void 0,e}return Object(o["a"])(a,[{key:"created",value:function(){this.inputValue=this.value}},{key:"watchValueChange",value:function(e,t){e!==t&&void 0!==t&&this.inputValue!==this.value&&(this.inputValue=this.value)}},{key:"formatter",value:function(e){var t="".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",");return this.isPercentage&&t?"".concat(t,"%"):t}},{key:"parser",value:function(e){var t=e.replace(/$s?|(,*)/g,"");return this.isPercentage?t.replace("%",""):t}},{key:"render",value:function(){var e=arguments[0];return e("a-input-number",{style:"width:100%",attrs:{max:this.maxNumberValue,min:this.minNumberValue,precision:this.precision,formatter:this.formatter,parser:this.parser,placeholder:this.placeholder,disabled:this.disabled,step:this.step,value:this.inputValue},on:{change:this.onchange}})}},{key:"onchange",value:function(e){this.$emit("input",e),this.$emit("change",e),this.$emit("formula",e)}}]),a}(u["h"]));Object(c["a"])([Object(u["f"])({type:Number})],I.prototype,"value",void 0),Object(c["a"])([Object(u["f"])({default:"",type:String})],I.prototype,"placeholder",void 0),Object(c["a"])([Object(u["f"])({type:Boolean,default:!1})],I.prototype,"disabled",void 0),Object(c["a"])([Object(u["f"])({default:!1,type:Boolean})],I.prototype,"isRequired",void 0),Object(c["a"])([Object(u["f"])({default:f["l"],type:Number})],I.prototype,"maxNumberValue",void 0),Object(c["a"])([Object(u["f"])({default:f["m"],type:Number})],I.prototype,"minNumberValue",void 0),Object(c["a"])([Object(u["f"])({default:1,type:Number})],I.prototype,"step",void 0),Object(c["a"])([Object(u["f"])({default:2,type:Number})],I.prototype,"precision",void 0),Object(c["a"])([Object(u["f"])({default:!1,type:Boolean})],I.prototype,"isPercentage",void 0),Object(c["a"])([Object(u["i"])("value",{deep:!0,immediate:!0})],I.prototype,"watchValueChange",null),I=Object(c["a"])([u["a"]],I);var N=I,L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"a-custom-description"},[a("label",{style:{"font-size":e.fontSize+"px"}},[e._v(e._s(e.showValue))])])},U=[],B=function(e){Object(l["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.showValue="",e}return Object(o["a"])(a,[{key:"watchValueChange",value:function(e,t){e!==t&&(this.showValue=e)}}]),a}(u["h"]);Object(c["a"])([Object(u["f"])({default:"描述文本",type:String})],B.prototype,"value",void 0),Object(c["a"])([Object(u["f"])({default:14,type:Number})],B.prototype,"fontSize",void 0),Object(c["a"])([Object(u["i"])("value",{deep:!0,immediate:!0})],B.prototype,"watchValueChange",null),B=Object(c["a"])([Object(u["a"])({components:{}})],B);var W=B,F=W,V=(a("7759"),Object(v["a"])(F,L,U,!1,null,"4b0fce32",null)),G=V.exports},ba9b:function(e,t,a){e.exports=a.p+"img/tree_select_icon.99702484.png"},bb97:function(e,t,a){"use strict";a("4ee9")},bd3e:function(e,t,a){},c001:function(e,t,a){"use strict";a("3fd3")},c083:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAAXNSR0IArs4c6QAAAnhJREFUSA3dVU1rU0EUPfNe0lirOzVJFVyJqy6EUty0uCgUixR05UJxqe4i/goRaxC0rlxYBVdFuqtuipsqdK1UQRT8qFJBEYvN1/XceX3Jy7y8EF+ggheS3Jl7zj1zZ+5kgB0yk6RzoCzznuDw+gecwQ2zkYSz81dlX+EQFhoG77+WzPmu2GhQRB4cvy/14m2RtQ15IS+fFaPxqK8xxShWOcqNxkM/EzrFskxxRZeN4OC7Hzg26MOTKjCYw9jE6vjS/lnZ8p366wJMrCL38DRGLJYccs8WynJUDD5yR+Y+l8ySalih/C2ZpP/Yy2CXNIDfdUB/mQcVilUEI4ZI4ymlZYYYxixGsdtcn1lHPQ+jqGGKRzDD7XxqhUi4hCxFKgRbBnDvFLBFwfwQUKOY1PhxhDSxxhSzfA7I+QFHqwOrN8zpNXCRo0CIyQvcMmuGgAuLwO4sgfSrFPuyCfiOiIJ1TmMnHwFZiugiNymiPGtBzrz6QUUA19ayt99Jag2RYcKQG5m2bpXMV99as4pTfNMkSGWFmpPbThvQDTpjTZyNJnbi4bAHSAjt7/f/E+p4RtoIts1T7JZ2XKfGiQmpiB7u3oEUKqT85F3UTnTFYkINgq5NAjNH0gktvgFKT+L3LibkcSljw8CelBUpV3O41rHram3X16V0HydxOwp1T5Uu+m+F/uYvyK0viRtrBn3MFtb66LrXgObIOA1hhTjfbBRd0fUVYPa5u9bexlYkeiAmuFJWiLf5EyLBpPJ7kWqrRHMKc9OCrRPc4as4bQYw1P4y9ZI6AaMiVfzi95wimjtZuCkn4PNJFwz3LaYiukt13F2/YpZVaMfsD59zzQ2xNiPuAAAAAElFTkSuQmCC"},c119:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"avigator-auth-view",style:e.viewStyle},[e._v(" 权限设置：发起，导入，导出，报表 ")])},i=[],r=a("d4ec"),o=a("262e"),l=a("2caf"),s=a("9ab4"),c=a("1b40"),u=function(e){Object(o["a"])(a,e);var t=Object(l["a"])(a);function a(){return Object(r["a"])(this,a),t.apply(this,arguments)}return a}(c["h"]);Object(s["a"])([Object(c["f"])()],u.prototype,"viewStyle",void 0),u=Object(s["a"])([Object(c["a"])({components:{}})],u);var d=u,p=d,f=(a("a9ab"),a("2877")),_=Object(f["a"])(p,n,i,!1,null,"4e949168",null);t["a"]=_.exports},c11b:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dialog"},[e.visible?a("a-modal",{attrs:{title:e.title,visible:e.visible,destroyOnClose:!0,keyboard:!1,maskClosable:!1,width:e.modalWidth,bodyStyle:e.bodyStyle,closable:e.showCancel},on:{cancel:e.onCancel},scopedSlots:e._u([{key:"footer",fn:function(){return[e._t("footer",[a("a-row",{attrs:{type:"flex",justify:"space-between"}},[a("a-col",{staticClass:"left",attrs:{span:6}},[""!==e.tip?a("a-alert",{attrs:{type:"warning",message:e.tip}}):e._e()],1),a("a-col",{attrs:{span:18}},[e.showOk&&e.isSaveBtn?a("a-button",{key:"submit",staticClass:"savaBtnStyle",on:{click:e.onOk}},[e._v(e._s(e.okText))]):e._e(),e.showOk&&!e.isSaveBtn?a("a-button",{key:"submit",attrs:{type:e.okType},on:{click:e.onOk}},[e._v(e._s(e.okText))]):e._e(),e.showCancel?a("a-button",{key:"cancel",attrs:{type:e.cancelType},on:{click:e.onCancel}},[e._v(e._s(e.cancelText))]):e._e()],1)],1)])]},proxy:!0}],null,!0)},[e._t("default")],2):e._e()],1)},i=[],r=a("d4ec"),o=a("bee2"),l=a("262e"),s=a("2caf"),c=(a("a9e3"),a("9ab4")),u=a("1b40"),d=function(e){Object(l["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.modalWidth=0,e.modalHeight=0,e.DIALOG_MAX_HEIGHT=580,e.DIALOG_MAX_WIDTH=1300,e}return Object(o["a"])(a,[{key:"maxHeight",get:function(){return document.body.clientHeight-200}},{key:"maxWidth",get:function(){return document.body.clientWidth-100}},{key:"bodyStyle",get:function(){return this.height?{height:"".concat(this.modalHeight,"px"),"max-height":"".concat(this.maxHeight,"px"),"overflow-y":"auto",padding:"0 15px"}:{"max-height":"".concat(this.maxHeight,"px"),overflow:"auto",padding:"0 15px"}}},{key:"isSaveBtn",get:function(){return"保存"===this.okText}},{key:"created",value:function(){this.modalWidth=this.width===this.DIALOG_MAX_WIDTH?this.maxWidth:this.width,this.modalHeight=this.height===this.DIALOG_MAX_HEIGHT?this.maxHeight:this.height}},{key:"onCancel",value:function(){}},{key:"onOk",value:function(){}}]),a}(u["h"]);Object(c["a"])([Object(u["f"])({default:!1,required:!0,type:Boolean})],d.prototype,"visible",void 0),Object(c["a"])([Object(u["f"])({default:"",type:String})],d.prototype,"title",void 0),Object(c["a"])([Object(u["f"])({default:"保存",type:String})],d.prototype,"okText",void 0),Object(c["a"])([Object(u["f"])({default:"取消",type:String})],d.prototype,"cancelText",void 0),Object(c["a"])([Object(u["f"])({default:"primary",type:String})],d.prototype,"okType",void 0),Object(c["a"])([Object(u["f"])({default:"default",type:String})],d.prototype,"cancelType",void 0),Object(c["a"])([Object(u["f"])({default:"",type:String})],d.prototype,"tip",void 0),Object(c["a"])([Object(u["f"])({default:600,type:Number})],d.prototype,"width",void 0),Object(c["a"])([Object(u["f"])({default:0,type:Number})],d.prototype,"height",void 0),Object(c["a"])([Object(u["f"])({default:!0,type:Boolean})],d.prototype,"showOk",void 0),Object(c["a"])([Object(u["f"])({default:!0,type:Boolean})],d.prototype,"showCancel",void 0),Object(c["a"])([Object(u["b"])("cancel")],d.prototype,"onCancel",null),Object(c["a"])([Object(u["b"])("ok")],d.prototype,"onOk",null),d=Object(c["a"])([u["a"]],d);var p=d,f=p,_=(a("e542"),a("2877")),b=Object(_["a"])(f,n,i,!1,null,"178ec63e",null);t["a"]=b.exports},c59f:function(e,t,a){},c807:function(e,t,a){"use strict";a("9869")},c85a:function(e,t,a){},cbbc:function(e,t,a){"use strict";a("36a1")},cd49:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("a026"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},r=[],o=(a("5c0b"),a("2877")),l={},s=Object(o["a"])(l,i,r,!1,null,null,null),c=s.exports,u=a("9483");Object(u["a"])("".concat("/AvigatorFlow/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});a("d3b7"),a("3ca3"),a("ddb0");var d=a("8c4f"),p=a("73c5");n["default"].use(d["a"]);var f=[{path:"/",name:"Home",component:p["default"]},{path:"/flow",name:"Flow",component:function(){return a.e("flow").then(a.bind(null,"bb51"))}},{path:"/v1",name:"v1",component:function(){return a.e("designer_v1").then(a.bind(null,"8870"))}},{path:"/v2",name:"v2",component:function(){return Promise.resolve().then(a.bind(null,"73c5"))}},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}}],_=new d["a"]({mode:"history",base:"/AvigatorFlow/",routes:f}),b=_,m=a("2f62");n["default"].use(m["a"]);var h=new m["a"].Store({state:{},mutations:{},actions:{},modules:{}}),v=a("c1df"),g=a.n(v),y=(a("5c3a"),a("5c96")),O=a.n(y),j=(a("0fae"),a("f23d"));a("202f");g.a.locale("zh-cn"),n["default"].use(O.a),n["default"].use(j["a"]),n["default"].config.productionTip=!1,new n["default"]({router:b,store:h,render:function(e){return e(c)}}).$mount("#app")},d101:function(e,t,a){},d123:function(e,t,a){"use strict";a("0135")},d787:function(e,t,a){},d82e:function(e,t,a){"use strict";a("1091")},d9d4:function(e,t,a){},da38:function(e,t,a){"use strict";a.d(t,"f",(function(){return r})),a.d(t,"a",(function(){return c})),a.d(t,"e",(function(){return u})),a.d(t,"b",(function(){return d})),a.d(t,"c",(function(){return p})),a.d(t,"d",(function(){return f}));a("99af"),a("b0c0"),a("4d63"),a("ac1f"),a("25f0");var n=a("b2a4"),i=a("1cf3"),r=function(e){var t=[];if(!e.isReadonly&&e.isRequired){var a="请输入";switch(e.type){case i["d"].Date:case i["d"].DateRange:case i["d"].Select:case i["d"].CheckBox:a="请选择";break}var n=e.placeHolder||"".concat(a).concat(e.name);e.type===i["d"].DateRange?t.push({required:e,message:n,type:"array"}):t.push({required:e,message:n})}return t};function o(e,t,a){t||a();var i=e.message;i=i?e.message:"不能输入中文字符";var r=new RegExp(n["o"]);r.test(t)?a(i):a()}function l(e,t,a){var i=e.message;i=i?e.message:"不能输入空格";var r=new RegExp(n["p"]);r.test(t)?a():a(i)}function s(e,t,a){var n=e.message,i=e.data||0;n=n?e.message:"值不能小于".concat(i),t>=i?a():a(n)}function c(e,t){return{max:e,message:t||"长度不能超过".concat(e,"位")}}function u(e){return{required:!0,message:e}}function d(e){return{validator:o,message:e,trigger:"blur"}}function p(e){return{validator:l,message:e,trigger:"blur"}}function f(e,t){return{validator:s,data:e,message:t||"值不能小于".concat(e)}}},da49:function(e,t,a){"use strict";a("0a04")},da64:function(e,t,a){},da80:function(e,t,a){"use strict";a("fe7c")},e060:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAAXNSR0IArs4c6QAAAppJREFUSA29VktrE1EU/s5MkrbiI3TRNIpYnwtfoFsREfE3CLp1oUhLK2I3gs22aF/+EzeCC3HjShCEkI1KQYo0Iir1kZhM5vqdm8y0ySRppiYemLlz7j3nfPfc+52TAP9JRHHGlkzGcfAQBqfh9wnZYRxB3veR+zwtxYSGdQRzzhBumSoVV2f6I5LERZQJB9y2QMbHGQUxXn8AtkbR2KprggrZrwPTcE0SxLZATSsDUiyQaWQ2CIwgtr0jpvfVkqBGKK5Y0Sv8VyGxpMrYlDrrHMyTDMepH+aT4iMErHAMYPkZU3SjVayybObVM9z36IrZO1zFPt/FM3Fxigy87Pj4YI2SMOLFBB0ByhvY+DIrP5qAVFHJLps35OI5t4QTa/flXX2W7znjHBtFMtR7+Hg/JX8CM3t0gWJHU8/SuJvZjq+YS0z98U/gYM+FQJrRr8CYd9anpBAFaqDWBOmJRZOuluCyjSzw5s5DCzpGQTgpjPkltjbgWgRIK9fGcvCirIW8yyLvsdSwn72/tNOQTQfUIwIUhhGGNlDCh4QJ13bwETmIYMLxcIWUn6h8xxHGfS1DfOtijEeYBhv2R91X54w8/C7Oyi812r9oZkzN1kMsMpgKCjyOXHegLaz7NCOvaHxBKa5OPcuchM26c0Yt0fTHkce2u2W6q5paMN/W7spmC2pn7fpsIA3JLJvr4uARqZEJ5noZvSRWx5+Ym+uT8rJjRpUEThJgJOHBrRnkRJCN2/hIhqO8p3vcVBSIh5p062x5qrtm74OSfEe/vurnI61x2mX0lkFLZFldDG9GcLaDbcNo+yECVJyWG61u2SXzHMO4altQ62IXnX9OQJ+8mkSA2vmxFiZZvA94DIfiNFXa53mvto7axR3I3F8fcb1HAB+yWQAAAABJRU5ErkJggg=="},e3d8:function(e,t,a){"use strict";a.d(t,"q",(function(){return n})),a.d(t,"n",(function(){return b})),a.d(t,"o",(function(){return m})),a.d(t,"p",(function(){return r})),a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"k",(function(){return s})),a.d(t,"j",(function(){return c})),a.d(t,"h",(function(){return f})),a.d(t,"f",(function(){return _})),a.d(t,"i",(function(){return h})),a.d(t,"t",(function(){return g})),a.d(t,"c",(function(){return y})),a.d(t,"r",(function(){return O})),a.d(t,"s",(function(){return j})),a.d(t,"g",(function(){return x})),a.d(t,"e",(function(){return A})),a.d(t,"d",(function(){return E})),a.d(t,"l",(function(){return k})),a.d(t,"m",(function(){return v}));var n,i=a("5530");a("b0c0"),a("a4d3"),a("e01a"),a("7db0");(function(e){e["Start"]="start",e["Approval"]="approval",e["System"]="system",e["Gateway"]="gateway",e["End"]="end"})(n||(n={}));var r,o,l,s,c,u,d,p,f,_,b={START:"start",APPROVAL:"approval",SYSTEM:"system",GATEWAY:"gateway",END:"end"},m={START:"开始",APPROVAL:"审批节点",SYSTEM:"系统任务",GATEWAY:"网关节点",END:"结束"};(function(e){e["Initiator"]="Initiator",e["Approver"]="Approver",e["System"]="System",e["Gateway"]="Gateway",e["Completer"]="Completer"})(r||(r={})),function(e){e["OneAgreed"]="One",e["AllAgreed"]="All"}(o||(o={})),function(e){e["Pass"]="Pass",e["Reject"]="Reject",e["Transmit"]="Transmit",e["Goback"]="Goback",e["Assist"]="Assist",e["Save"]="Save",e["Submit"]="Submit"}(l||(l={})),function(e){e["Initiator"]="Initiator",e["Designator"]="Designator",e["Variable"]="Variable",e["Role"]="Role",e["Api"]="Api"}(s||(s={})),function(e){e["Initiator"]="Initiator",e["Designator"]="Designator",e["VariableId"]="VariableId",e["RoleId"]="RoleId",e["Url"]="Url"}(c||(c={})),function(e){e["Eq"]="==",e["Gt"]=">",e["Gte"]=">=",e["Lt"]="<",e["Lte"]="<=",e["Nte"]="!="}(u||(u={})),function(e){e["And"]="&&",e["Or"]="||"}(d||(d={})),function(e){e["Left"]="(",e["Right"]=")"}(p||(p={})),function(e){e["Default"]="None",e["Simple"]="Simple",e["Complex"]="Complex"}(f||(f={})),function(e){e["Bracket"]="Bracket",e["Logic"]="Logic",e["Expression"]="Expression"}(_||(_={}));var h;(function(e){e["Condition"]="Condition"})(h||(h={})),function(e){e["Polyline"]="polyline"}(h||(h={}));var v,g=function(e){return{key:e.key,name:e.name,enName:e.enName,executor:e.executor,description:e.description,rule:e.rule,actions:e.actions}},y=[{value:o.OneAgreed,text:"或签"},{value:o.AllAgreed,text:"会签"}],O=(l.Pass,l.Reject,l.Assist,l.Save,l.Submit,[{text:m.START,type:n.Start,class:"node-start",key:b.START,name:m.START,enName:r.Initiator,executor:{type:s.Initiator,params:[]},description:"",rule:o.OneAgreed,actions:[l.Save,l.Submit]},{text:m.APPROVAL,type:n.Approval,class:"node-approval",key:b.APPROVAL,name:m.APPROVAL,enName:r.Approver,executor:{type:s.Designator,params:[]},description:"",rule:o.OneAgreed,actions:[l.Pass,l.Reject,l.Assist]},{text:m.GATEWAY,type:n.Gateway,class:"node-gateway",key:b.GATEWAY,name:m.GATEWAY,enName:r.Gateway,executor:null,description:"",rule:o.OneAgreed,actions:null},{text:m.END,type:n.End,class:"node-end",key:b.END,name:m.END,enName:r.Completer,executor:null,description:"",rule:o.OneAgreed,actions:null}]),j=function(e){var t=300,a=380,r=200,o=100;if(e){var l=O.find((function(e){return e.type===n.Start})),u=O.find((function(e){return e.type===n.Approval})),d=O.find((function(e){return e.type===n.Approval})),p=O.find((function(e){return e.type===n.Approval})),b=O.find((function(e){return e.type===n.Gateway})),m=O.find((function(e){return e.type===n.End}));if(l&&u&&d&&p&&b&&m){var v=e.addNode({type:n.Start,x:t,y:a,text:{x:1,y:1,value:l.text},properties:Object(i["a"])({},g(l))}),y=g(u);y.key="approval1",y.name="任务1",y.executor={type:s.Designator,params:[{type:c.Designator,value:{value:"user001",text:"用户1"}}]};var j=e.addNode({type:n.Approval,x:t+r,y:a,text:{x:1,y:1,value:y.name},properties:Object(i["a"])({},y)}),x=g(d);x.key="approval2",x.name="任务2",x.executor={type:s.Role,params:[{type:c.RoleId,value:{value:"ProjectManager",text:"项目经理"}},{type:c.VariableId,value:{value:"abc",text:"变量1"}}]};var A=e.addNode({type:n.Approval,x:t+2*r,y:a-2*o,text:{x:1,y:1,value:x.name},properties:Object(i["a"])({},x)}),E=g(p);E.key="approval3",E.name="任务3",E.executor={type:s.Variable,params:[{type:c.VariableId,value:{value:"bcd",text:"变量2"}}]};var k=e.addNode({type:n.Approval,x:t+2*r,y:a+2*o,text:{x:1,y:1,value:E.name},properties:Object(i["a"])({},E)}),R=e.addNode({type:n.Gateway,x:t+2*r,y:a,text:{x:1,y:1,value:b.text},properties:Object(i["a"])({},g(b))}),D=e.addNode({type:n.End,x:t+3*r,y:a,text:{x:1,y:1,value:m.text},properties:Object(i["a"])({},g(m))});e.createEdge({type:h.Polyline,sourceNodeId:v.id,targetNodeId:j.id,text:{value:"",x:t+80,y:a-10}}),e.createEdge({type:h.Polyline,sourceNodeId:j.id,targetNodeId:R.id,text:{value:"",x:t+100+r,y:a-10}});var C={type:f.Simple,expressions:[{type:_.Expression,expression:{variable:"abc",varType:"",operator:">",value:"100000"}}]};e.createEdge({type:h.Polyline,sourceNodeId:R.id,targetNodeId:A.id,text:{value:"金额大于10万",x:t+r+250,y:a-o+15},properties:{name:"金额大于10万",condition:C,enName:h.Condition}}),e.createEdge({type:h.Polyline,sourceNodeId:R.id,targetNodeId:k.id,text:{value:"",x:t+r+220,y:a+o}}),e.createEdge({type:h.Polyline,sourceNodeId:A.id,targetNodeId:D.id,text:{value:"",x:t+3*r+20,y:a-o}}),e.createEdge({type:h.Polyline,sourceNodeId:k.id,targetNodeId:D.id,text:{value:"",x:t+3*r+30,y:a+o}})}}},x=[{value:f.Default,text:"无"},{value:f.Simple,text:"简单规则"},{value:f.Complex,text:"复杂规则"}],A=[{value:u.Eq,text:"等于"},{value:u.Gt,text:"大于"},{value:u.Gte,text:"大于等于"},{value:u.Lt,text:"小于"},{value:u.Lte,text:"小于等于"},{value:u.Nte,text:"不等于"}],E=[{value:p.Left,text:p.Left},{value:p.Right,text:p.Right}],k=[{value:s.Designator,text:"全员"},{value:s.Variable,text:"表单变量"},{value:s.Role,text:"角色"},{value:s.Api,text:"接口"}];(function(e){e["Number"]="number",e["String"]="string",e["CheckBox"]="checkbox",e["RadioBox"]="radiobox",e["Select"]="select"})(v||(v={}))},e542:function(e,t,a){"use strict";a("80bb")},e75d:function(e,t,a){},eea5:function(e,t,a){"use strict";a("268e")},f103:function(e,t,a){e.exports=a.p+"img/single_text_icon.2854bf00.png"},f13a:function(e,t,a){"use strict";a("f574")},f29c:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAAXNSR0IArs4c6QAAAgVJREFUSA3dVT1PAkEQfXuHQqTAQlETCxPssDKxMFpY+Af0B9AZKgtLYwE2WmppbWJj61+wtBQaJTE2GEUjJiDf68wud+EOcpHNFcYpuJ2dnfdmZmcH4L+J4IRmzuSCbeOYlBX0QkrRAiRw3+0iVzkQ5QjD2hbydhR7sk0KHQhLrAmso8F8yCoiyiLNJLITFsUADmGzpoioZMYFU7UfwOUlp+CIg60zcnbH+HYJLTkFXO8CUdvr+PABZG76WfRNxkTsH6H7TE0TkQ+lOeIKfEe8kQVpNtWkUgc2LwHhq1+7Sw3m21NEVAXLtx/E4dq4fE9VV3UXTOwQMTYbdEYWXtWKIhlXIr778fgzegdvvKeIhMQpWlgiPeVpGT5hKlyiFkr0OWEIVpWk83KylgD1UXgSr6JeyIsWI4Y4B4IDVBnNn8s12LigZ7scauksPBJBtrwv7nTXCRzSXFqVTYrKLWZwhL+xCsLsNXBEZ3d01/WQpO7wzo7fINGZzojh5ba3xpxlKN11hrOO38piYvSDfanpSOmICkVnpPfG+uXHOhcHbjPDI6hIL2frynmkGtaYiN25bKXP4aH6/DUcszERl+39G9imyP1CybojyLEpIp5Hps3GoEHC2GzXGVkoUCtuBDmY2AiTZ12RfRVRrId8qwFLCvrbHdGuJiQqjwYKMYmckf+fd/oBiB13E+jw6jsAAAAASUVORK5CYII="},f574:function(e,t,a){},f6be:function(e,t,a){},fe7c:function(e,t,a){}});
//# sourceMappingURL=app.5dde5ae2.js.map